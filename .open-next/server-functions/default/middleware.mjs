
import {Buffer} from "node:buffer";
globalThis.Buffer = Buffer;

import {AsyncLocalStorage} from "node:async_hooks";
globalThis.AsyncLocalStorage = AsyncLocalStorage;


const defaultDefineProperty = Object.defineProperty;
Object.defineProperty = function(o, p, a) {
  if(p=== '__import_unsupported' && Boolean(globalThis.__import_unsupported)) {
    return;
  }
  return defaultDefineProperty(o, p, a);
};

  
  const require = (await import("node:module")).createRequire(import.meta.url);
  const __filename = (await import("node:url")).fileURLToPath(import.meta.url);
  const __dirname = (await import("node:path")).dirname(__filename);
  
  
  globalThis.openNextDebug = false;globalThis.openNextVersion = "3.6.6";
var qr=Object.defineProperty;var Vn=Object.getOwnPropertyDescriptor;var qn=Object.getOwnPropertyNames;var Gn=Object.prototype.hasOwnProperty;var Er=(a,g)=>()=>(a&&(g=a(a=0)),g);var dn=(a,g)=>()=>(g||a((g={exports:{}}).exports,g),g.exports),zn=(a,g)=>{for(var b in g)qr(a,b,{get:g[b],enumerable:!0})},Vr=(a,g,b,P)=>{if(g&&typeof g=="object"||typeof g=="function")for(let J of qn(g))!Gn.call(a,J)&&J!==b&&qr(a,J,{get:()=>g[J],enumerable:!(P=Vn(g,J))||P.enumerable});return a},Tt=(a,g,b)=>(Vr(a,g,"default"),b&&Vr(b,g,"default"));var hn=a=>Vr(qr({},"__esModule",{value:!0}),a);function pn(a,g){return(g?/^[\x00-\xFF]*$/:/^[\x00-\x7F]*$/).test(a)}function Yr(a,g=!1){let b=[],P=0;for(;P<a.length;){let J=a[P],A=oe(function(C){if(!g)throw new TypeError(C);b.push({type:"INVALID_CHAR",index:P,value:a[P++]})},"ErrorOrInvalid");if(J==="*"){b.push({type:"ASTERISK",index:P,value:a[P++]});continue}if(J==="+"||J==="?"){b.push({type:"OTHER_MODIFIER",index:P,value:a[P++]});continue}if(J==="\\"){b.push({type:"ESCAPED_CHAR",index:P++,value:a[P++]});continue}if(J==="{"){b.push({type:"OPEN",index:P,value:a[P++]});continue}if(J==="}"){b.push({type:"CLOSE",index:P,value:a[P++]});continue}if(J===":"){let C="",d=P+1;for(;d<a.length;){let r=a.substr(d,1);if(d===P+1&&Xn.test(r)||d!==P+1&&Yn.test(r)){C+=a[d++];continue}break}if(!C){A(`Missing parameter name at ${P}`);continue}b.push({type:"NAME",index:P,value:C}),P=d;continue}if(J==="("){let C=1,d="",r=P+1,i=!1;if(a[r]==="?"){A(`Pattern cannot start with "?" at ${r}`);continue}for(;r<a.length;){if(!pn(a[r],!1)){A(`Invalid character '${a[r]}' at ${r}.`),i=!0;break}if(a[r]==="\\"){d+=a[r++]+a[r++];continue}if(a[r]===")"){if(C--,C===0){r++;break}}else if(a[r]==="("&&(C++,a[r+1]!=="?")){A(`Capturing groups are not allowed at ${r}`),i=!0;break}d+=a[r++]}if(i)continue;if(C){A(`Unbalanced pattern at ${P}`);continue}if(!d){A(`Missing pattern at ${P}`);continue}b.push({type:"REGEX",index:P,value:d}),P=r;continue}b.push({type:"CHAR",index:P,value:a[P++]})}return b.push({type:"END",index:P,value:""}),b}function Qr(a,g={}){let b=Yr(a);g.delimiter??="/#?",g.prefixes??="./";let P=`[^${Be(g.delimiter)}]+?`,J=[],A=0,C=0,d="",r=new Set,i=oe(p=>{if(C<b.length&&b[C].type===p)return b[C++].value},"tryConsume"),E=oe(()=>i("OTHER_MODIFIER")??i("ASTERISK"),"tryConsumeModifier"),_=oe(p=>{let S=i(p);if(S!==void 0)return S;let{type:K,index:V}=b[C];throw new TypeError(`Unexpected ${K} at ${V}, expected ${p}`)},"mustConsume"),m=oe(()=>{let p="",S;for(;S=i("CHAR")??i("ESCAPED_CHAR");)p+=S;return p},"consumeText"),o=oe(p=>p,"DefaultEncodePart"),c=g.encodePart||o,w="",u=oe(p=>{w+=p},"appendToPendingFixedValue"),v=oe(()=>{w.length&&(J.push(new It(3,"","",c(w),"",3)),w="")},"maybeAddPartFromPendingFixedValue"),f=oe((p,S,K,V,N)=>{let F=3;switch(N){case"?":F=1;break;case"*":F=0;break;case"+":F=2;break}if(!S&&!K&&F===3){u(p);return}if(v(),!S&&!K){if(!p)return;J.push(new It(3,"","",c(p),"",F));return}let ne;K?K==="*"?ne=zr:ne=K:ne=P;let W=2;ne===P?(W=1,ne=""):ne===zr&&(W=0,ne="");let te;if(S?te=S:K&&(te=A++),r.has(te))throw new TypeError(`Duplicate name '${te}'.`);r.add(te),J.push(new It(W,te,c(p),ne,c(V),F))},"addPart");for(;C<b.length;){let p=i("CHAR"),S=i("NAME"),K=i("REGEX");if(!S&&!K&&(K=i("ASTERISK")),S||K){let N=p??"";g.prefixes.indexOf(N)===-1&&(u(N),N=""),v();let F=E();f(N,S,K,"",F);continue}let V=p??i("ESCAPED_CHAR");if(V){u(V);continue}if(i("OPEN")){let N=m(),F=i("NAME"),ne=i("REGEX");!F&&!ne&&(ne=i("ASTERISK"));let W=m();_("CLOSE");let te=E();f(N,F,ne,W,te);continue}v(),_("END")}return J}function Be(a){return a.replace(/([.+*?^${}()[\]|/\\])/g,"\\$1")}function Fr(a){return a&&a.ignoreCase?"ui":"u"}function fn(a,g,b){return Zr(Qr(a,b),g,b)}function yt(a){switch(a){case 0:return"*";case 1:return"?";case 2:return"+";case 3:return""}}function Zr(a,g,b={}){b.delimiter??="/#?",b.prefixes??="./",b.sensitive??=!1,b.strict??=!1,b.end??=!0,b.start??=!0,b.endsWith="";let P=b.start?"^":"";for(let d of a){if(d.type===3){d.modifier===3?P+=Be(d.value):P+=`(?:${Be(d.value)})${yt(d.modifier)}`;continue}g&&g.push(d.name);let r=`[^${Be(b.delimiter)}]+?`,i=d.value;if(d.type===1?i=r:d.type===0&&(i=zr),!d.prefix.length&&!d.suffix.length){d.modifier===3||d.modifier===1?P+=`(${i})${yt(d.modifier)}`:P+=`((?:${i})${yt(d.modifier)})`;continue}if(d.modifier===3||d.modifier===1){P+=`(?:${Be(d.prefix)}(${i})${Be(d.suffix)})`,P+=yt(d.modifier);continue}P+=`(?:${Be(d.prefix)}`,P+=`((?:${i})(?:`,P+=Be(d.suffix),P+=Be(d.prefix),P+=`(?:${i}))*)${Be(d.suffix)})`,d.modifier===0&&(P+="?")}let J=`[${Be(b.endsWith)}]|$`,A=`[${Be(b.delimiter)}]`;if(b.end)return b.strict||(P+=`${A}?`),b.endsWith.length?P+=`(?=${J})`:P+="$",new RegExp(P,Fr(b));b.strict||(P+=`(?:${A}(?=${J}))?`);let C=!1;if(a.length){let d=a[a.length-1];d.type===3&&d.modifier===3&&(C=b.delimiter.indexOf(d)>-1)}return C||(P+=`(?=${A}|${J})`),new RegExp(P,Fr(b))}function gn(a,g){return a.length?a[0]==="/"?!0:!g||a.length<2?!1:(a[0]=="\\"||a[0]=="{")&&a[1]=="/":!1}function en(a,g){return a.startsWith(g)?a.substring(g.length,a.length):a}function mn(a,g){return a.endsWith(g)?a.substr(0,a.length-g.length):a}function tn(a){return!a||a.length<2?!1:a[0]==="["||(a[0]==="\\"||a[0]==="{")&&a[1]==="["}function rn(a){if(!a)return!0;for(let g of yn)if(a.test(g))return!0;return!1}function wn(a,g){if(a=en(a,"#"),g||a==="")return a;let b=new URL("https://example.com");return b.hash=a,b.hash?b.hash.substring(1,b.hash.length):""}function vn(a,g){if(a=en(a,"?"),g||a==="")return a;let b=new URL("https://example.com");return b.search=a,b.search?b.search.substring(1,b.search.length):""}function bn(a,g){return g||a===""?a:tn(a)?on(a):an(a)}function En(a,g){if(g||a==="")return a;let b=new URL("https://example.com");return b.password=a,b.password}function _n(a,g){if(g||a==="")return a;let b=new URL("https://example.com");return b.username=a,b.username}function Sn(a,g,b){if(b||a==="")return a;if(g&&!yn.includes(g))return new URL(`${g}:${a}`).pathname;let P=a[0]=="/";return a=new URL(P?a:"/-"+a,"https://example.com").pathname,P||(a=a.substring(2,a.length)),a}function xn(a,g,b){return nn(g)===a&&(a=""),b||a===""?a:sn(a)}function Cn(a,g){return a=mn(a,":"),g||a===""?a:_r(a)}function nn(a){switch(a){case"ws":case"http":return"80";case"wws":case"https":return"443";case"ftp":return"21";default:return""}}function _r(a){if(a==="")return a;if(/^[-+.A-Za-z0-9]*$/.test(a))return a.toLowerCase();throw new TypeError(`Invalid protocol '${a}'.`)}function An(a){if(a==="")return a;let g=new URL("https://example.com");return g.username=a,g.username}function Pn(a){if(a==="")return a;let g=new URL("https://example.com");return g.password=a,g.password}function an(a){if(a==="")return a;if(/[\t\n\r #%/:<>?@[\]^\\|]/g.test(a))throw new TypeError(`Invalid hostname '${a}'`);let g=new URL("https://example.com");return g.hostname=a,g.hostname}function on(a){if(a==="")return a;if(/[^0-9a-fA-F[\]:]/g.test(a))throw new TypeError(`Invalid IPv6 hostname '${a}'`);return a.toLowerCase()}function sn(a){if(a===""||/^[0-9]*$/.test(a)&&parseInt(a)<=65535)return a;throw new TypeError(`Invalid port '${a}'.`)}function Rn(a){if(a==="")return a;let g=new URL("https://example.com");return g.pathname=a[0]!=="/"?"/-"+a:a,a[0]!=="/"?g.pathname.substring(2,g.pathname.length):g.pathname}function Tn(a){return a===""?a:new URL(`data:${a}`).pathname}function On(a){if(a==="")return a;let g=new URL("https://example.com");return g.search=a,g.search.substring(1,g.search.length)}function kn(a){if(a==="")return a;let g=new URL("https://example.com");return g.hash=a,g.hash.substring(1,g.hash.length)}function Xr(a,g){if(typeof a!="string")throw new TypeError("parameter 1 is not of type 'string'.");let b=new URL(a,g);return{protocol:b.protocol.substring(0,b.protocol.length-1),username:b.username,password:b.password,hostname:b.hostname,port:b.port,pathname:b.pathname,search:b.search!==""?b.search.substring(1,b.search.length):void 0,hash:b.hash!==""?b.hash.substring(1,b.hash.length):void 0}}function Ze(a,g){return g?kt(a):a}function Ot(a,g,b){let P;if(typeof g.baseURL=="string")try{P=new URL(g.baseURL),g.protocol===void 0&&(a.protocol=Ze(P.protocol.substring(0,P.protocol.length-1),b)),!b&&g.protocol===void 0&&g.hostname===void 0&&g.port===void 0&&g.username===void 0&&(a.username=Ze(P.username,b)),!b&&g.protocol===void 0&&g.hostname===void 0&&g.port===void 0&&g.username===void 0&&g.password===void 0&&(a.password=Ze(P.password,b)),g.protocol===void 0&&g.hostname===void 0&&(a.hostname=Ze(P.hostname,b)),g.protocol===void 0&&g.hostname===void 0&&g.port===void 0&&(a.port=Ze(P.port,b)),g.protocol===void 0&&g.hostname===void 0&&g.port===void 0&&g.pathname===void 0&&(a.pathname=Ze(P.pathname,b)),g.protocol===void 0&&g.hostname===void 0&&g.port===void 0&&g.pathname===void 0&&g.search===void 0&&(a.search=Ze(P.search.substring(1,P.search.length),b)),g.protocol===void 0&&g.hostname===void 0&&g.port===void 0&&g.pathname===void 0&&g.search===void 0&&g.hash===void 0&&(a.hash=Ze(P.hash.substring(1,P.hash.length),b))}catch{throw new TypeError(`invalid baseURL '${g.baseURL}'.`)}if(typeof g.protocol=="string"&&(a.protocol=Cn(g.protocol,b)),typeof g.username=="string"&&(a.username=_n(g.username,b)),typeof g.password=="string"&&(a.password=En(g.password,b)),typeof g.hostname=="string"&&(a.hostname=bn(g.hostname,b)),typeof g.port=="string"&&(a.port=xn(g.port,a.protocol,b)),typeof g.pathname=="string"){if(a.pathname=g.pathname,P&&!gn(a.pathname,b)){let J=P.pathname.lastIndexOf("/");J>=0&&(a.pathname=Ze(P.pathname.substring(0,J+1),b)+a.pathname)}a.pathname=Sn(a.pathname,a.protocol,b)}return typeof g.search=="string"&&(a.search=vn(g.search,b)),typeof g.hash=="string"&&(a.hash=wn(g.hash,b)),a}function kt(a){return a.replace(/([+*?:{}()\\])/g,"\\$1")}function Nn(a){return a.replace(/([.+*?^${}()[\]|/\\])/g,"\\$1")}function Hn(a,g){g.delimiter??="/#?",g.prefixes??="./",g.sensitive??=!1,g.strict??=!1,g.end??=!0,g.start??=!0,g.endsWith="";let b=".*",P=`[^${Nn(g.delimiter)}]+?`,J=/[$_\u200C\u200D\p{ID_Continue}]/u,A="";for(let C=0;C<a.length;++C){let d=a[C];if(d.type===3){if(d.modifier===3){A+=kt(d.value);continue}A+=`{${kt(d.value)}}${yt(d.modifier)}`;continue}let r=d.hasCustomName(),i=!!d.suffix.length||!!d.prefix.length&&(d.prefix.length!==1||!g.prefixes.includes(d.prefix)),E=C>0?a[C-1]:null,_=C<a.length-1?a[C+1]:null;if(!i&&r&&d.type===1&&d.modifier===3&&_&&!_.prefix.length&&!_.suffix.length)if(_.type===3){let m=_.value.length>0?_.value[0]:"";i=J.test(m)}else i=!_.hasCustomName();if(!i&&!d.prefix.length&&E&&E.type===3){let m=E.value[E.value.length-1];i=g.prefixes.includes(m)}i&&(A+="{"),A+=kt(d.prefix),r&&(A+=`:${d.name}`),d.type===2?A+=`(${d.value})`:d.type===1?r||(A+=`(${P})`):d.type===0&&(!r&&(!E||E.type===3||E.modifier!==3||i||d.prefix!=="")?A+="*":A+=`(${b})`),d.type===1&&r&&d.suffix.length&&J.test(d.suffix[0])&&(A+="\\"),A+=kt(d.suffix),i&&(A+="}"),d.modifier!==3&&(A+=yt(d.modifier))}return A}var Fn,oe,It,Xn,Yn,zr,ct,Qn,Zn,yn,In,Gr,lt,Sr,Mn=Er(()=>{Fn=Object.defineProperty,oe=(a,g)=>Fn(a,"name",{value:g,configurable:!0}),It=class{type=3;name="";prefix="";value="";suffix="";modifier=3;constructor(a,g,b,P,J,A){this.type=a,this.name=g,this.prefix=b,this.value=P,this.suffix=J,this.modifier=A}hasCustomName(){return this.name!==""&&typeof this.name!="number"}};oe(It,"Part");Xn=/[$_\p{ID_Start}]/u,Yn=/[$_\u200C\u200D\p{ID_Continue}]/u,zr=".*";oe(pn,"isASCII");oe(Yr,"lexer");oe(Qr,"parse");oe(Be,"escapeString");oe(Fr,"flags");oe(fn,"stringToRegexp");oe(yt,"modifierToString");oe(Zr,"partsToRegexp");ct={delimiter:"",prefixes:"",sensitive:!0,strict:!0},Qn={delimiter:".",prefixes:"",sensitive:!0,strict:!0},Zn={delimiter:"/",prefixes:"/",sensitive:!0,strict:!0};oe(gn,"isAbsolutePathname");oe(en,"maybeStripPrefix");oe(mn,"maybeStripSuffix");oe(tn,"treatAsIPv6Hostname");yn=["ftp","file","http","https","ws","wss"];oe(rn,"isSpecialScheme");oe(wn,"canonicalizeHash");oe(vn,"canonicalizeSearch");oe(bn,"canonicalizeHostname");oe(En,"canonicalizePassword");oe(_n,"canonicalizeUsername");oe(Sn,"canonicalizePathname");oe(xn,"canonicalizePort");oe(Cn,"canonicalizeProtocol");oe(nn,"defaultPortForProtocol");oe(_r,"protocolEncodeCallback");oe(An,"usernameEncodeCallback");oe(Pn,"passwordEncodeCallback");oe(an,"hostnameEncodeCallback");oe(on,"ipv6HostnameEncodeCallback");oe(sn,"portEncodeCallback");oe(Rn,"standardURLPathnameEncodeCallback");oe(Tn,"pathURLPathnameEncodeCallback");oe(On,"searchEncodeCallback");oe(kn,"hashEncodeCallback");In=class{#a;#n=[];#t={};#e=0;#i=1;#c=0;#s=0;#p=0;#f=0;#g=!1;constructor(a){this.#a=a}get result(){return this.#t}parse(){for(this.#n=Yr(this.#a,!0);this.#e<this.#n.length;this.#e+=this.#i){if(this.#i=1,this.#n[this.#e].type==="END"){if(this.#s===0){this.#v(),this.#u()?this.#r(9,1):this.#d()?this.#r(8,1):this.#r(7,0);continue}else if(this.#s===2){this.#h(5);continue}this.#r(10,0);break}if(this.#p>0)if(this.#A())this.#p-=1;else continue;if(this.#C()){this.#p+=1;continue}switch(this.#s){case 0:this.#b()&&this.#h(1);break;case 1:if(this.#b()){this.#T();let a=7,g=1;this.#_()?(a=2,g=3):this.#g&&(a=2),this.#r(a,g)}break;case 2:this.#y()?this.#h(3):(this.#w()||this.#d()||this.#u())&&this.#h(5);break;case 3:this.#S()?this.#r(4,1):this.#y()&&this.#r(5,1);break;case 4:this.#y()&&this.#r(5,1);break;case 5:this.#P()?this.#f+=1:this.#R()&&(this.#f-=1),this.#x()&&!this.#f?this.#r(6,1):this.#w()?this.#r(7,0):this.#d()?this.#r(8,1):this.#u()&&this.#r(9,1);break;case 6:this.#w()?this.#r(7,0):this.#d()?this.#r(8,1):this.#u()&&this.#r(9,1);break;case 7:this.#d()?this.#r(8,1):this.#u()&&this.#r(9,1);break;case 8:this.#u()&&this.#r(9,1);break;case 9:break;case 10:break}}this.#t.hostname!==void 0&&this.#t.port===void 0&&(this.#t.port="")}#r(a,g){switch(this.#s){case 0:break;case 1:this.#t.protocol=this.#l();break;case 2:break;case 3:this.#t.username=this.#l();break;case 4:this.#t.password=this.#l();break;case 5:this.#t.hostname=this.#l();break;case 6:this.#t.port=this.#l();break;case 7:this.#t.pathname=this.#l();break;case 8:this.#t.search=this.#l();break;case 9:this.#t.hash=this.#l();break;case 10:break}this.#s!==0&&a!==10&&([1,2,3,4].includes(this.#s)&&[6,7,8,9].includes(a)&&(this.#t.hostname??=""),[1,2,3,4,5,6].includes(this.#s)&&[8,9].includes(a)&&(this.#t.pathname??=this.#g?"/":""),[1,2,3,4,5,6,7].includes(this.#s)&&a===9&&(this.#t.search??="")),this.#E(a,g)}#E(a,g){this.#s=a,this.#c=this.#e+g,this.#e+=g,this.#i=0}#v(){this.#e=this.#c,this.#i=0}#h(a){this.#v(),this.#s=a}#m(a){return a<0&&(a=this.#n.length-a),a<this.#n.length?this.#n[a]:this.#n[this.#n.length-1]}#o(a,g){let b=this.#m(a);return b.value===g&&(b.type==="CHAR"||b.type==="ESCAPED_CHAR"||b.type==="INVALID_CHAR")}#b(){return this.#o(this.#e,":")}#_(){return this.#o(this.#e+1,"/")&&this.#o(this.#e+2,"/")}#y(){return this.#o(this.#e,"@")}#S(){return this.#o(this.#e,":")}#x(){return this.#o(this.#e,":")}#w(){return this.#o(this.#e,"/")}#d(){if(this.#o(this.#e,"?"))return!0;if(this.#n[this.#e].value!=="?")return!1;let a=this.#m(this.#e-1);return a.type!=="NAME"&&a.type!=="REGEX"&&a.type!=="CLOSE"&&a.type!=="ASTERISK"}#u(){return this.#o(this.#e,"#")}#C(){return this.#n[this.#e].type=="OPEN"}#A(){return this.#n[this.#e].type=="CLOSE"}#P(){return this.#o(this.#e,"[")}#R(){return this.#o(this.#e,"]")}#l(){let a=this.#n[this.#e],g=this.#m(this.#c).index;return this.#a.substring(g,a.index)}#T(){let a={};Object.assign(a,ct),a.encodePart=_r;let g=fn(this.#l(),void 0,a);this.#g=rn(g)}};oe(In,"Parser");Gr=["protocol","username","password","hostname","port","pathname","search","hash"],lt="*";oe(Xr,"extractValues");oe(Ze,"processBaseURLString");oe(Ot,"applyInit");oe(kt,"escapePatternString");oe(Nn,"escapeRegexpString");oe(Hn,"partsToPattern");Sr=class{#a;#n={};#t={};#e={};#i={};#c=!1;constructor(a={},g,b){try{let P;if(typeof g=="string"?P=g:b=g,typeof a=="string"){let d=new In(a);if(d.parse(),a=d.result,P===void 0&&typeof a.protocol!="string")throw new TypeError("A base URL must be provided for a relative constructor string.");a.baseURL=P}else{if(!a||typeof a!="object")throw new TypeError("parameter 1 is not of type 'string' and cannot convert to dictionary.");if(P)throw new TypeError("parameter 1 is not of type 'string'.")}typeof b>"u"&&(b={ignoreCase:!1});let J={ignoreCase:b.ignoreCase===!0},A={pathname:lt,protocol:lt,username:lt,password:lt,hostname:lt,port:lt,search:lt,hash:lt};this.#a=Ot(A,a,!0),nn(this.#a.protocol)===this.#a.port&&(this.#a.port="");let C;for(C of Gr){if(!(C in this.#a))continue;let d={},r=this.#a[C];switch(this.#t[C]=[],C){case"protocol":Object.assign(d,ct),d.encodePart=_r;break;case"username":Object.assign(d,ct),d.encodePart=An;break;case"password":Object.assign(d,ct),d.encodePart=Pn;break;case"hostname":Object.assign(d,Qn),tn(r)?d.encodePart=on:d.encodePart=an;break;case"port":Object.assign(d,ct),d.encodePart=sn;break;case"pathname":rn(this.#n.protocol)?(Object.assign(d,Zn,J),d.encodePart=Rn):(Object.assign(d,ct,J),d.encodePart=Tn);break;case"search":Object.assign(d,ct,J),d.encodePart=On;break;case"hash":Object.assign(d,ct,J),d.encodePart=kn;break}try{this.#i[C]=Qr(r,d),this.#n[C]=Zr(this.#i[C],this.#t[C],d),this.#e[C]=Hn(this.#i[C],d),this.#c=this.#c||this.#i[C].some(i=>i.type===2)}catch{throw new TypeError(`invalid ${C} pattern '${this.#a[C]}'.`)}}}catch(P){throw new TypeError(`Failed to construct 'URLPattern': ${P.message}`)}}get[Symbol.toStringTag](){return"URLPattern"}test(a={},g){let b={pathname:"",protocol:"",username:"",password:"",hostname:"",port:"",search:"",hash:""};if(typeof a!="string"&&g)throw new TypeError("parameter 1 is not of type 'string'.");if(typeof a>"u")return!1;try{typeof a=="object"?b=Ot(b,a,!1):b=Ot(b,Xr(a,g),!1)}catch{return!1}let P;for(P of Gr)if(!this.#n[P].exec(b[P]))return!1;return!0}exec(a={},g){let b={pathname:"",protocol:"",username:"",password:"",hostname:"",port:"",search:"",hash:""};if(typeof a!="string"&&g)throw new TypeError("parameter 1 is not of type 'string'.");if(typeof a>"u")return;try{typeof a=="object"?b=Ot(b,a,!1):b=Ot(b,Xr(a,g),!1)}catch{return null}let P={};g?P.inputs=[a,g]:P.inputs=[a];let J;for(J of Gr){let A=this.#n[J].exec(b[J]);if(!A)return null;let C={};for(let[d,r]of this.#t[J].entries())if(typeof r=="string"||typeof r=="number"){let i=A[d+1];C[r]=i}P[J]={input:b[J]??"",groups:C}}return P}static compareComponent(a,g,b){let P=oe((d,r)=>{for(let i of["type","modifier","prefix","value","suffix"]){if(d[i]<r[i])return-1;if(d[i]!==r[i])return 1}return 0},"comparePart"),J=new It(3,"","","","",3),A=new It(0,"","","","",3),C=oe((d,r)=>{let i=0;for(;i<Math.min(d.length,r.length);++i){let E=P(d[i],r[i]);if(E)return E}return d.length===r.length?0:P(d[i]??J,r[i]??J)},"comparePartList");return!g.#e[a]&&!b.#e[a]?0:g.#e[a]&&!b.#e[a]?C(g.#i[a],[A]):!g.#e[a]&&b.#e[a]?C([A],b.#i[a]):C(g.#i[a],b.#i[a])}get protocol(){return this.#e.protocol}get username(){return this.#e.username}get password(){return this.#e.password}get hostname(){return this.#e.hostname}get port(){return this.#e.port}get pathname(){return this.#e.pathname}get search(){return this.#e.search}get hash(){return this.#e.hash}get hasRegExpGroups(){return this.#c}};oe(Sr,"URLPattern")});var Dn={};zn(Dn,{URLPattern:()=>Sr});var Un=Er(()=>{Mn();globalThis.URLPattern||(globalThis.URLPattern=Sr)});var Ln=dn(()=>{"use strict";(()=>{"use strict";var a={},g={};function b(P){var J=g[P];if(J!==void 0)return J.exports;var A=g[P]={exports:{}},C=!0;try{a[P](A,A.exports,b),C=!1}finally{C&&delete g[P]}return A.exports}b.m=a,b.amdO={},(()=>{var P=[];b.O=(J,A,C,d)=>{if(A){d=d||0;for(var r=P.length;r>0&&P[r-1][2]>d;r--)P[r]=P[r-1];P[r]=[A,C,d];return}for(var i=1/0,r=0;r<P.length;r++){for(var[A,C,d]=P[r],E=!0,_=0;_<A.length;_++)(!1&d||i>=d)&&Object.keys(b.O).every(v=>b.O[v](A[_]))?A.splice(_--,1):(E=!1,d<i&&(i=d));if(E){P.splice(r--,1);var m=C();m!==void 0&&(J=m)}}return J}})(),b.n=P=>{var J=P&&P.__esModule?()=>P.default:()=>P;return b.d(J,{a:J}),J},b.d=(P,J)=>{for(var A in J)b.o(J,A)&&!b.o(P,A)&&Object.defineProperty(P,A,{enumerable:!0,get:J[A]})},b.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||Function("return this")()}catch{if(typeof window=="object")return window}}(),b.o=(P,J)=>Object.prototype.hasOwnProperty.call(P,J),b.r=P=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(P,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(P,"__esModule",{value:!0})},(()=>{var P={149:0};b.O.j=C=>P[C]===0;var J=(C,d)=>{var r,i,[E,_,m]=d,o=0;if(E.some(w=>P[w]!==0)){for(r in _)b.o(_,r)&&(b.m[r]=_[r]);if(m)var c=m(b)}for(C&&C(d);o<E.length;o++)i=E[o],b.o(P,i)&&P[i]&&P[i][0](),P[i]=0;return b.O(c)},A=self.webpackChunk_N_E=self.webpackChunk_N_E||[];A.forEach(J.bind(null,0)),A.push=J.bind(null,A.push.bind(A))})()})()});var Ft={};import*as ui from"node:buffer";var jn=Er(()=>{Tt(Ft,ui)});var Xt={};import*as di from"node:async_hooks";var Kn=Er(()=>{Tt(Xt,di)});var Wn=dn(()=>{"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[550],{1:(a,g,b)=>{"use strict";b.r(g),b.d(g,{NIL:()=>Oe,parse:()=>u,stringify:()=>m,v1:()=>w,v3:()=>ne,v4:()=>W,v5:()=>ye,validate:()=>i,version:()=>Pe});var P,J,A,C=new Uint8Array(16);function d(){if(!P&&!(P=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto)))throw Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return P(C)}let r=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,i=function(G){return typeof G=="string"&&r.test(G)};for(var E=[],_=0;_<256;++_)E.push((_+256).toString(16).substr(1));let m=function(G){var Q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,X=(E[G[Q+0]]+E[G[Q+1]]+E[G[Q+2]]+E[G[Q+3]]+"-"+E[G[Q+4]]+E[G[Q+5]]+"-"+E[G[Q+6]]+E[G[Q+7]]+"-"+E[G[Q+8]]+E[G[Q+9]]+"-"+E[G[Q+10]]+E[G[Q+11]]+E[G[Q+12]]+E[G[Q+13]]+E[G[Q+14]]+E[G[Q+15]]).toLowerCase();if(!i(X))throw TypeError("Stringified UUID is invalid");return X};var o=0,c=0;let w=function(G,Q,X){var U=Q&&X||0,$=Q||Array(16),H=(G=G||{}).node||J,I=G.clockseq!==void 0?G.clockseq:A;if(H==null||I==null){var j=G.random||(G.rng||d)();H==null&&(H=J=[1|j[0],j[1],j[2],j[3],j[4],j[5]]),I==null&&(I=A=(j[6]<<8|j[7])&16383)}var B=G.msecs!==void 0?G.msecs:Date.now(),L=G.nsecs!==void 0?G.nsecs:c+1,Ee=B-o+(L-c)/1e4;if(Ee<0&&G.clockseq===void 0&&(I=I+1&16383),(Ee<0||B>o)&&G.nsecs===void 0&&(L=0),L>=1e4)throw Error("uuid.v1(): Can't create more than 10M uuids/sec");o=B,c=L,A=I;var ve=((268435455&(B+=122192928e5))*1e4+L)%4294967296;$[U++]=ve>>>24&255,$[U++]=ve>>>16&255,$[U++]=ve>>>8&255,$[U++]=255&ve;var xe=B/4294967296*1e4&268435455;$[U++]=xe>>>8&255,$[U++]=255&xe,$[U++]=xe>>>24&15|16,$[U++]=xe>>>16&255,$[U++]=I>>>8|128,$[U++]=255&I;for(var he=0;he<6;++he)$[U+he]=H[he];return Q||m($)},u=function(G){if(!i(G))throw TypeError("Invalid UUID");var Q,X=new Uint8Array(16);return X[0]=(Q=parseInt(G.slice(0,8),16))>>>24,X[1]=Q>>>16&255,X[2]=Q>>>8&255,X[3]=255&Q,X[4]=(Q=parseInt(G.slice(9,13),16))>>>8,X[5]=255&Q,X[6]=(Q=parseInt(G.slice(14,18),16))>>>8,X[7]=255&Q,X[8]=(Q=parseInt(G.slice(19,23),16))>>>8,X[9]=255&Q,X[10]=(Q=parseInt(G.slice(24,36),16))/1099511627776&255,X[11]=Q/4294967296&255,X[12]=Q>>>24&255,X[13]=Q>>>16&255,X[14]=Q>>>8&255,X[15]=255&Q,X};function v(G,Q,X){function U($,H,I,j){if(typeof $=="string"&&($=function(Ee){Ee=unescape(encodeURIComponent(Ee));for(var ve=[],xe=0;xe<Ee.length;++xe)ve.push(Ee.charCodeAt(xe));return ve}($)),typeof H=="string"&&(H=u(H)),H.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var B=new Uint8Array(16+$.length);if(B.set(H),B.set($,H.length),(B=X(B))[6]=15&B[6]|Q,B[8]=63&B[8]|128,I){j=j||0;for(var L=0;L<16;++L)I[j+L]=B[L];return I}return m(B)}try{U.name=G}catch{}return U.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",U.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",U}function f(G){return(G+64>>>9<<4)+14+1}function p(G,Q){var X=(65535&G)+(65535&Q);return(G>>16)+(Q>>16)+(X>>16)<<16|65535&X}function S(G,Q,X,U,$,H){var I;return p((I=p(p(Q,G),p(U,H)))<<$|I>>>32-$,X)}function K(G,Q,X,U,$,H,I){return S(Q&X|~Q&U,G,Q,$,H,I)}function V(G,Q,X,U,$,H,I){return S(Q&U|X&~U,G,Q,$,H,I)}function N(G,Q,X,U,$,H,I){return S(Q^X^U,G,Q,$,H,I)}function F(G,Q,X,U,$,H,I){return S(X^(Q|~U),G,Q,$,H,I)}let ne=v("v3",48,function(G){if(typeof G=="string"){var Q=unescape(encodeURIComponent(G));G=new Uint8Array(Q.length);for(var X=0;X<Q.length;++X)G[X]=Q.charCodeAt(X)}return function(U){for(var $=[],H=32*U.length,I="0123456789abcdef",j=0;j<H;j+=8){var B=U[j>>5]>>>j%32&255,L=parseInt(I.charAt(B>>>4&15)+I.charAt(15&B),16);$.push(L)}return $}(function(U,$){U[$>>5]|=128<<$%32,U[f($)-1]=$;for(var H=1732584193,I=-271733879,j=-1732584194,B=271733878,L=0;L<U.length;L+=16){var Ee=H,ve=I,xe=j,he=B;H=K(H,I,j,B,U[L],7,-680876936),B=K(B,H,I,j,U[L+1],12,-389564586),j=K(j,B,H,I,U[L+2],17,606105819),I=K(I,j,B,H,U[L+3],22,-1044525330),H=K(H,I,j,B,U[L+4],7,-176418897),B=K(B,H,I,j,U[L+5],12,1200080426),j=K(j,B,H,I,U[L+6],17,-1473231341),I=K(I,j,B,H,U[L+7],22,-45705983),H=K(H,I,j,B,U[L+8],7,1770035416),B=K(B,H,I,j,U[L+9],12,-1958414417),j=K(j,B,H,I,U[L+10],17,-42063),I=K(I,j,B,H,U[L+11],22,-1990404162),H=K(H,I,j,B,U[L+12],7,1804603682),B=K(B,H,I,j,U[L+13],12,-40341101),j=K(j,B,H,I,U[L+14],17,-1502002290),I=K(I,j,B,H,U[L+15],22,1236535329),H=V(H,I,j,B,U[L+1],5,-165796510),B=V(B,H,I,j,U[L+6],9,-1069501632),j=V(j,B,H,I,U[L+11],14,643717713),I=V(I,j,B,H,U[L],20,-373897302),H=V(H,I,j,B,U[L+5],5,-701558691),B=V(B,H,I,j,U[L+10],9,38016083),j=V(j,B,H,I,U[L+15],14,-660478335),I=V(I,j,B,H,U[L+4],20,-405537848),H=V(H,I,j,B,U[L+9],5,568446438),B=V(B,H,I,j,U[L+14],9,-1019803690),j=V(j,B,H,I,U[L+3],14,-187363961),I=V(I,j,B,H,U[L+8],20,1163531501),H=V(H,I,j,B,U[L+13],5,-1444681467),B=V(B,H,I,j,U[L+2],9,-51403784),j=V(j,B,H,I,U[L+7],14,1735328473),I=V(I,j,B,H,U[L+12],20,-1926607734),H=N(H,I,j,B,U[L+5],4,-378558),B=N(B,H,I,j,U[L+8],11,-2022574463),j=N(j,B,H,I,U[L+11],16,1839030562),I=N(I,j,B,H,U[L+14],23,-35309556),H=N(H,I,j,B,U[L+1],4,-1530992060),B=N(B,H,I,j,U[L+4],11,1272893353),j=N(j,B,H,I,U[L+7],16,-155497632),I=N(I,j,B,H,U[L+10],23,-1094730640),H=N(H,I,j,B,U[L+13],4,681279174),B=N(B,H,I,j,U[L],11,-358537222),j=N(j,B,H,I,U[L+3],16,-722521979),I=N(I,j,B,H,U[L+6],23,76029189),H=N(H,I,j,B,U[L+9],4,-640364487),B=N(B,H,I,j,U[L+12],11,-421815835),j=N(j,B,H,I,U[L+15],16,530742520),I=N(I,j,B,H,U[L+2],23,-995338651),H=F(H,I,j,B,U[L],6,-198630844),B=F(B,H,I,j,U[L+7],10,1126891415),j=F(j,B,H,I,U[L+14],15,-1416354905),I=F(I,j,B,H,U[L+5],21,-57434055),H=F(H,I,j,B,U[L+12],6,1700485571),B=F(B,H,I,j,U[L+3],10,-1894986606),j=F(j,B,H,I,U[L+10],15,-1051523),I=F(I,j,B,H,U[L+1],21,-2054922799),H=F(H,I,j,B,U[L+8],6,1873313359),B=F(B,H,I,j,U[L+15],10,-30611744),j=F(j,B,H,I,U[L+6],15,-1560198380),I=F(I,j,B,H,U[L+13],21,1309151649),H=F(H,I,j,B,U[L+4],6,-145523070),B=F(B,H,I,j,U[L+11],10,-1120210379),j=F(j,B,H,I,U[L+2],15,718787259),I=F(I,j,B,H,U[L+9],21,-343485551),H=p(H,Ee),I=p(I,ve),j=p(j,xe),B=p(B,he)}return[H,I,j,B]}(function(U){if(U.length===0)return[];for(var $=8*U.length,H=new Uint32Array(f($)),I=0;I<$;I+=8)H[I>>5]|=(255&U[I/8])<<I%32;return H}(G),8*G.length))}),W=function(G,Q,X){var U=(G=G||{}).random||(G.rng||d)();if(U[6]=15&U[6]|64,U[8]=63&U[8]|128,Q){X=X||0;for(var $=0;$<16;++$)Q[X+$]=U[$];return Q}return m(U)};function te(G,Q){return G<<Q|G>>>32-Q}let ye=v("v5",80,function(G){var Q=[1518500249,1859775393,2400959708,3395469782],X=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof G=="string"){var U=unescape(encodeURIComponent(G));G=[];for(var $=0;$<U.length;++$)G.push(U.charCodeAt($))}else Array.isArray(G)||(G=Array.prototype.slice.call(G));G.push(128);for(var H=Math.ceil((G.length/4+2)/16),I=Array(H),j=0;j<H;++j){for(var B=new Uint32Array(16),L=0;L<16;++L)B[L]=G[64*j+4*L]<<24|G[64*j+4*L+1]<<16|G[64*j+4*L+2]<<8|G[64*j+4*L+3];I[j]=B}I[H-1][14]=(G.length-1)*8/4294967296,I[H-1][14]=Math.floor(I[H-1][14]),I[H-1][15]=(G.length-1)*8|0;for(var Ee=0;Ee<H;++Ee){for(var ve=new Uint32Array(80),xe=0;xe<16;++xe)ve[xe]=I[Ee][xe];for(var he=16;he<80;++he)ve[he]=te(ve[he-3]^ve[he-8]^ve[he-14]^ve[he-16],1);for(var We=X[0],_e=X[1],$e=X[2],pe=X[3],je=X[4],Ie=0;Ie<80;++Ie){var He=Math.floor(Ie/20),et=te(We,5)+function(Ve,Re,we,Ne){switch(Ve){case 0:return Re&we^~Re&Ne;case 1:case 3:return Re^we^Ne;case 2:return Re&we^Re&Ne^we&Ne}}(He,_e,$e,pe)+je+Q[He]+ve[Ie]>>>0;je=pe,pe=$e,$e=te(_e,30)>>>0,_e=We,We=et}X[0]=X[0]+We>>>0,X[1]=X[1]+_e>>>0,X[2]=X[2]+$e>>>0,X[3]=X[3]+pe>>>0,X[4]=X[4]+je>>>0}return[X[0]>>24&255,X[0]>>16&255,X[0]>>8&255,255&X[0],X[1]>>24&255,X[1]>>16&255,X[1]>>8&255,255&X[1],X[2]>>24&255,X[2]>>16&255,X[2]>>8&255,255&X[2],X[3]>>24&255,X[3]>>16&255,X[3]>>8&255,255&X[3],X[4]>>24&255,X[4]>>16&255,X[4]>>8&255,255&X[4]]}),Oe="00000000-0000-0000-0000-000000000000",Pe=function(G){if(!i(G))throw TypeError("Invalid UUID");return parseInt(G.substr(14,1),16)}},153:(a,g,b)=>{"use strict";b.r(g),b.d(g,{default:()=>A,hkdf:()=>A});let P=async(C,d,r,i,E)=>{let{crypto:{subtle:_}}=(()=>{if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;throw Error("unable to locate global object")})();return new Uint8Array(await _.deriveBits({name:"HKDF",hash:`SHA-${C.substr(3)}`,salt:r,info:i},await _.importKey("raw",d,"HKDF",!1,["deriveBits"]),E<<3))};function J(C,d){if(typeof C=="string")return new TextEncoder().encode(C);if(!(C instanceof Uint8Array))throw TypeError(`"${d}"" must be an instance of Uint8Array or a string`);return C}async function A(C,d,r,i,E){return P(function(_){switch(_){case"sha256":case"sha384":case"sha512":case"sha1":return _;default:throw TypeError('unsupported "digest" value')}}(C),function(_){let m=J(_,"ikm");if(!m.byteLength)throw TypeError('"ikm" must be at least one byte in length');return m}(d),J(r,"salt"),function(_){let m=J(_,"info");if(m.byteLength>1024)throw TypeError('"info" must not contain more than 1024 bytes');return m}(i),function(_,m){if(typeof _!="number"||!Number.isInteger(_)||_<1)throw TypeError('"keylen" must be a positive integer');if(_>255*(parseInt(m.substr(3),10)>>3||20))throw TypeError('"keylen" too large');return _}(E,C))}},165:(a,g,b)=>{"use strict";var P=b(356).Buffer;Object.defineProperty(g,"__esModule",{value:!0}),function(i,E){for(var _ in E)Object.defineProperty(i,_,{enumerable:!0,get:E[_]})}(g,{handleFetch:function(){return d},interceptFetch:function(){return r},reader:function(){return A}});let J=b(392),A={url:i=>i.url,header:(i,E)=>i.headers.get(E)};async function C(i,E){let{url:_,method:m,headers:o,body:c,cache:w,credentials:u,integrity:v,mode:f,redirect:p,referrer:S,referrerPolicy:K}=E;return{testData:i,api:"fetch",request:{url:_,method:m,headers:[...Array.from(o),["next-test-stack",function(){let V=(Error().stack??"").split(`
`);for(let N=1;N<V.length;N++)if(V[N].length>0){V=V.slice(N);break}return(V=(V=(V=V.filter(N=>!N.includes("/next/dist/"))).slice(0,5)).map(N=>N.replace("webpack-internal:///(rsc)/","").trim())).join("    ")}()]],body:c?P.from(await E.arrayBuffer()).toString("base64"):null,cache:w,credentials:u,integrity:v,mode:f,redirect:p,referrer:S,referrerPolicy:K}}}async function d(i,E){let _=(0,J.getTestReqInfo)(E,A);if(!_)return i(E);let{testData:m,proxyPort:o}=_,c=await C(m,E),w=await i(`http://localhost:${o}`,{method:"POST",body:JSON.stringify(c),next:{internal:!0}});if(!w.ok)throw Object.defineProperty(Error(`Proxy request failed: ${w.status}`),"__NEXT_ERROR_CODE",{value:"E146",enumerable:!1,configurable:!0});let u=await w.json(),{api:v}=u;switch(v){case"continue":return i(E);case"abort":case"unhandled":throw Object.defineProperty(Error(`Proxy request aborted [${E.method} ${E.url}]`),"__NEXT_ERROR_CODE",{value:"E145",enumerable:!1,configurable:!0});case"fetch":let{status:f,headers:p,body:S}=u.response;return new Response(S?P.from(S,"base64"):null,{status:f,headers:new Headers(p)});default:return v}}function r(i){return b.g.fetch=function(E,_){var m;return!(_==null||(m=_.next)==null)&&m.internal?i(E,_):d(i,new Request(E,_))},()=>{b.g.fetch=i}}},213:a=>{(()=>{"use strict";var g={993:A=>{var C=Object.prototype.hasOwnProperty,d="~";function r(){}function i(o,c,w){this.fn=o,this.context=c,this.once=w||!1}function E(o,c,w,u,v){if(typeof w!="function")throw TypeError("The listener must be a function");var f=new i(w,u||o,v),p=d?d+c:c;return o._events[p]?o._events[p].fn?o._events[p]=[o._events[p],f]:o._events[p].push(f):(o._events[p]=f,o._eventsCount++),o}function _(o,c){--o._eventsCount==0?o._events=new r:delete o._events[c]}function m(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(d=!1)),m.prototype.eventNames=function(){var o,c,w=[];if(this._eventsCount===0)return w;for(c in o=this._events)C.call(o,c)&&w.push(d?c.slice(1):c);return Object.getOwnPropertySymbols?w.concat(Object.getOwnPropertySymbols(o)):w},m.prototype.listeners=function(o){var c=d?d+o:o,w=this._events[c];if(!w)return[];if(w.fn)return[w.fn];for(var u=0,v=w.length,f=Array(v);u<v;u++)f[u]=w[u].fn;return f},m.prototype.listenerCount=function(o){var c=d?d+o:o,w=this._events[c];return w?w.fn?1:w.length:0},m.prototype.emit=function(o,c,w,u,v,f){var p=d?d+o:o;if(!this._events[p])return!1;var S,K,V=this._events[p],N=arguments.length;if(V.fn){switch(V.once&&this.removeListener(o,V.fn,void 0,!0),N){case 1:return V.fn.call(V.context),!0;case 2:return V.fn.call(V.context,c),!0;case 3:return V.fn.call(V.context,c,w),!0;case 4:return V.fn.call(V.context,c,w,u),!0;case 5:return V.fn.call(V.context,c,w,u,v),!0;case 6:return V.fn.call(V.context,c,w,u,v,f),!0}for(K=1,S=Array(N-1);K<N;K++)S[K-1]=arguments[K];V.fn.apply(V.context,S)}else{var F,ne=V.length;for(K=0;K<ne;K++)switch(V[K].once&&this.removeListener(o,V[K].fn,void 0,!0),N){case 1:V[K].fn.call(V[K].context);break;case 2:V[K].fn.call(V[K].context,c);break;case 3:V[K].fn.call(V[K].context,c,w);break;case 4:V[K].fn.call(V[K].context,c,w,u);break;default:if(!S)for(F=1,S=Array(N-1);F<N;F++)S[F-1]=arguments[F];V[K].fn.apply(V[K].context,S)}}return!0},m.prototype.on=function(o,c,w){return E(this,o,c,w,!1)},m.prototype.once=function(o,c,w){return E(this,o,c,w,!0)},m.prototype.removeListener=function(o,c,w,u){var v=d?d+o:o;if(!this._events[v])return this;if(!c)return _(this,v),this;var f=this._events[v];if(f.fn)f.fn!==c||u&&!f.once||w&&f.context!==w||_(this,v);else{for(var p=0,S=[],K=f.length;p<K;p++)(f[p].fn!==c||u&&!f[p].once||w&&f[p].context!==w)&&S.push(f[p]);S.length?this._events[v]=S.length===1?S[0]:S:_(this,v)}return this},m.prototype.removeAllListeners=function(o){var c;return o?(c=d?d+o:o,this._events[c]&&_(this,c)):(this._events=new r,this._eventsCount=0),this},m.prototype.off=m.prototype.removeListener,m.prototype.addListener=m.prototype.on,m.prefixed=d,m.EventEmitter=m,A.exports=m},213:A=>{A.exports=(C,d)=>(d=d||(()=>{}),C.then(r=>new Promise(i=>{i(d())}).then(()=>r),r=>new Promise(i=>{i(d())}).then(()=>{throw r})))},574:(A,C)=>{Object.defineProperty(C,"__esModule",{value:!0}),C.default=function(d,r,i){let E=0,_=d.length;for(;_>0;){let m=_/2|0,o=E+m;0>=i(d[o],r)?(E=++o,_-=m+1):_=m}return E}},821:(A,C,d)=>{Object.defineProperty(C,"__esModule",{value:!0});let r=d(574);class i{constructor(){this._queue=[]}enqueue(_,m){let o={priority:(m=Object.assign({priority:0},m)).priority,run:_};if(this.size&&this._queue[this.size-1].priority>=m.priority)return void this._queue.push(o);let c=r.default(this._queue,o,(w,u)=>u.priority-w.priority);this._queue.splice(c,0,o)}dequeue(){let _=this._queue.shift();return _?.run}filter(_){return this._queue.filter(m=>m.priority===_.priority).map(m=>m.run)}get size(){return this._queue.length}}C.default=i},816:(A,C,d)=>{let r=d(213);class i extends Error{constructor(m){super(m),this.name="TimeoutError"}}let E=(_,m,o)=>new Promise((c,w)=>{if(typeof m!="number"||m<0)throw TypeError("Expected `milliseconds` to be a positive number");if(m===1/0)return void c(_);let u=setTimeout(()=>{if(typeof o=="function"){try{c(o())}catch(p){w(p)}return}let v=typeof o=="string"?o:`Promise timed out after ${m} milliseconds`,f=o instanceof Error?o:new i(v);typeof _.cancel=="function"&&_.cancel(),w(f)},m);r(_.then(c,w),()=>{clearTimeout(u)})});A.exports=E,A.exports.default=E,A.exports.TimeoutError=i}},b={};function P(A){var C=b[A];if(C!==void 0)return C.exports;var d=b[A]={exports:{}},r=!0;try{g[A](d,d.exports,P),r=!1}finally{r&&delete b[A]}return d.exports}P.ab="//";var J={};(()=>{Object.defineProperty(J,"__esModule",{value:!0});let A=P(993),C=P(816),d=P(821),r=()=>{},i=new C.TimeoutError;class E extends A{constructor(m){var o,c,w,u;if(super(),this._intervalCount=0,this._intervalEnd=0,this._pendingCount=0,this._resolveEmpty=r,this._resolveIdle=r,!(typeof(m=Object.assign({carryoverConcurrencyCount:!1,intervalCap:1/0,interval:0,concurrency:1/0,autoStart:!0,queueClass:d.default},m)).intervalCap=="number"&&m.intervalCap>=1))throw TypeError(`Expected \`intervalCap\` to be a number from 1 and up, got \`${(c=(o=m.intervalCap)==null?void 0:o.toString())!=null?c:""}\` (${typeof m.intervalCap})`);if(m.interval===void 0||!(Number.isFinite(m.interval)&&m.interval>=0))throw TypeError(`Expected \`interval\` to be a finite number >= 0, got \`${(u=(w=m.interval)==null?void 0:w.toString())!=null?u:""}\` (${typeof m.interval})`);this._carryoverConcurrencyCount=m.carryoverConcurrencyCount,this._isIntervalIgnored=m.intervalCap===1/0||m.interval===0,this._intervalCap=m.intervalCap,this._interval=m.interval,this._queue=new m.queueClass,this._queueClass=m.queueClass,this.concurrency=m.concurrency,this._timeout=m.timeout,this._throwOnTimeout=m.throwOnTimeout===!0,this._isPaused=m.autoStart===!1}get _doesIntervalAllowAnother(){return this._isIntervalIgnored||this._intervalCount<this._intervalCap}get _doesConcurrentAllowAnother(){return this._pendingCount<this._concurrency}_next(){this._pendingCount--,this._tryToStartAnother(),this.emit("next")}_resolvePromises(){this._resolveEmpty(),this._resolveEmpty=r,this._pendingCount===0&&(this._resolveIdle(),this._resolveIdle=r,this.emit("idle"))}_onResumeInterval(){this._onInterval(),this._initializeIntervalIfNeeded(),this._timeoutId=void 0}_isIntervalPaused(){let m=Date.now();if(this._intervalId===void 0){let o=this._intervalEnd-m;if(!(o<0))return this._timeoutId===void 0&&(this._timeoutId=setTimeout(()=>{this._onResumeInterval()},o)),!0;this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0}return!1}_tryToStartAnother(){if(this._queue.size===0)return this._intervalId&&clearInterval(this._intervalId),this._intervalId=void 0,this._resolvePromises(),!1;if(!this._isPaused){let m=!this._isIntervalPaused();if(this._doesIntervalAllowAnother&&this._doesConcurrentAllowAnother){let o=this._queue.dequeue();return!!o&&(this.emit("active"),o(),m&&this._initializeIntervalIfNeeded(),!0)}}return!1}_initializeIntervalIfNeeded(){this._isIntervalIgnored||this._intervalId!==void 0||(this._intervalId=setInterval(()=>{this._onInterval()},this._interval),this._intervalEnd=Date.now()+this._interval)}_onInterval(){this._intervalCount===0&&this._pendingCount===0&&this._intervalId&&(clearInterval(this._intervalId),this._intervalId=void 0),this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0,this._processQueue()}_processQueue(){for(;this._tryToStartAnother(););}get concurrency(){return this._concurrency}set concurrency(m){if(!(typeof m=="number"&&m>=1))throw TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${m}\` (${typeof m})`);this._concurrency=m,this._processQueue()}async add(m,o={}){return new Promise((c,w)=>{let u=async()=>{this._pendingCount++,this._intervalCount++;try{let v=this._timeout===void 0&&o.timeout===void 0?m():C.default(Promise.resolve(m()),o.timeout===void 0?this._timeout:o.timeout,()=>{(o.throwOnTimeout===void 0?this._throwOnTimeout:o.throwOnTimeout)&&w(i)});c(await v)}catch(v){w(v)}this._next()};this._queue.enqueue(u,o),this._tryToStartAnother(),this.emit("add")})}async addAll(m,o){return Promise.all(m.map(async c=>this.add(c,o)))}start(){return this._isPaused&&(this._isPaused=!1,this._processQueue()),this}pause(){this._isPaused=!0}clear(){this._queue=new this._queueClass}async onEmpty(){if(this._queue.size!==0)return new Promise(m=>{let o=this._resolveEmpty;this._resolveEmpty=()=>{o(),m()}})}async onIdle(){if(this._pendingCount!==0||this._queue.size!==0)return new Promise(m=>{let o=this._resolveIdle;this._resolveIdle=()=>{o(),m()}})}get size(){return this._queue.size}sizeBy(m){return this._queue.filter(m).length}get pending(){return this._pendingCount}get isPaused(){return this._isPaused}get timeout(){return this._timeout}set timeout(m){this._timeout=m}}J.default=E})(),a.exports=J})()},345:(a,g)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0})},356:a=>{"use strict";a.exports=(jn(),hn(Ft))},392:(a,g,b)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0}),function(d,r){for(var i in r)Object.defineProperty(d,i,{enumerable:!0,get:r[i]})}(g,{getTestReqInfo:function(){return C},withRequest:function(){return A}});let P=new(b(521)).AsyncLocalStorage;function J(d,r){let i=r.header(d,"next-test-proxy-port");return i?{url:r.url(d),proxyPort:Number(i),testData:r.header(d,"next-test-data")||""}:void 0}function A(d,r,i){let E=J(d,r);return E?P.run(E,i):i()}function C(d,r){return P.getStore()||(d&&r?J(d,r):void 0)}},426:(a,g,b)=>{"use strict";var P=b(522);Object.defineProperty(g,"__esModule",{value:!0});var J={encode:!0,decode:!0,getToken:!0};g.decode=_,g.encode=E,g.getToken=m;var A=b(743),C=P(b(153)),d=b(1),r=b(674),i=b(345);async function E(c){let{token:w={},secret:u,maxAge:v=2592e3,salt:f=""}=c,p=await o(u,f);return await new A.EncryptJWT(w).setProtectedHeader({alg:"dir",enc:"A256GCM"}).setIssuedAt().setExpirationTime((Date.now()/1e3|0)+v).setJti((0,d.v4)()).encrypt(p)}async function _(c){let{token:w,secret:u,salt:v=""}=c;if(!w)return null;let f=await o(u,v),{payload:p}=await(0,A.jwtDecrypt)(w,f,{clockTolerance:15});return p}async function m(c){var w,u,v,f;let{req:p,secureCookie:S=(w=(u=process.env.NEXTAUTH_URL)==null?void 0:u.startsWith("https://"))!=null?w:!!process.env.VERCEL,cookieName:K=S?"__Secure-next-auth.session-token":"next-auth.session-token",raw:V,decode:N=_,logger:F=console,secret:ne=(v=process.env.NEXTAUTH_SECRET)!=null?v:process.env.AUTH_SECRET}=c;if(!p)throw Error("Must pass `req` to JWT getToken()");let W=new r.SessionStore({name:K,options:{secure:S}},{cookies:p.cookies,headers:p.headers},F).value,te=p.headers instanceof Headers?p.headers.get("authorization"):(f=p.headers)==null?void 0:f.authorization;if(W||te?.split(" ")[0]!=="Bearer"||(W=decodeURIComponent(te.split(" ")[1])),!W)return null;if(V)return W;try{return await N({token:W,secret:ne})}catch{return null}}async function o(c,w){return await(0,C.default)("sha256",c,w,`NextAuth.js Generated Encryption Key${w?` (${w})`:""}`,32)}Object.keys(i).forEach(function(c){!(c==="default"||c==="__esModule"||Object.prototype.hasOwnProperty.call(J,c))&&(c in g&&g[c]===i[c]||Object.defineProperty(g,c,{enumerable:!0,get:function(){return i[c]}}))})},440:(a,g)=>{"use strict";Symbol.for("react.transitional.element"),Symbol.for("react.portal"),Symbol.for("react.fragment"),Symbol.for("react.strict_mode"),Symbol.for("react.profiler"),Symbol.for("react.forward_ref"),Symbol.for("react.suspense"),Symbol.for("react.memo"),Symbol.for("react.lazy")},443:a=>{"use strict";var g=Object.defineProperty,b=Object.getOwnPropertyDescriptor,P=Object.getOwnPropertyNames,J=Object.prototype.hasOwnProperty,A={};function C(o){var c;let w=["path"in o&&o.path&&`Path=${o.path}`,"expires"in o&&(o.expires||o.expires===0)&&`Expires=${(typeof o.expires=="number"?new Date(o.expires):o.expires).toUTCString()}`,"maxAge"in o&&typeof o.maxAge=="number"&&`Max-Age=${o.maxAge}`,"domain"in o&&o.domain&&`Domain=${o.domain}`,"secure"in o&&o.secure&&"Secure","httpOnly"in o&&o.httpOnly&&"HttpOnly","sameSite"in o&&o.sameSite&&`SameSite=${o.sameSite}`,"partitioned"in o&&o.partitioned&&"Partitioned","priority"in o&&o.priority&&`Priority=${o.priority}`].filter(Boolean),u=`${o.name}=${encodeURIComponent((c=o.value)!=null?c:"")}`;return w.length===0?u:`${u}; ${w.join("; ")}`}function d(o){let c=new Map;for(let w of o.split(/; */)){if(!w)continue;let u=w.indexOf("=");if(u===-1){c.set(w,"true");continue}let[v,f]=[w.slice(0,u),w.slice(u+1)];try{c.set(v,decodeURIComponent(f??"true"))}catch{}}return c}function r(o){if(!o)return;let[[c,w],...u]=d(o),{domain:v,expires:f,httponly:p,maxage:S,path:K,samesite:V,secure:N,partitioned:F,priority:ne}=Object.fromEntries(u.map(([Oe,Pe])=>[Oe.toLowerCase().replace(/-/g,""),Pe]));{var W,te,ye={name:c,value:decodeURIComponent(w),domain:v,...f&&{expires:new Date(f)},...p&&{httpOnly:!0},...typeof S=="string"&&{maxAge:Number(S)},path:K,...V&&{sameSite:i.includes(W=(W=V).toLowerCase())?W:void 0},...N&&{secure:!0},...ne&&{priority:E.includes(te=(te=ne).toLowerCase())?te:void 0},...F&&{partitioned:!0}};let Oe={};for(let Pe in ye)ye[Pe]&&(Oe[Pe]=ye[Pe]);return Oe}}((o,c)=>{for(var w in c)g(o,w,{get:c[w],enumerable:!0})})(A,{RequestCookies:()=>_,ResponseCookies:()=>m,parseCookie:()=>d,parseSetCookie:()=>r,stringifyCookie:()=>C}),a.exports=((o,c,w,u)=>{if(c&&typeof c=="object"||typeof c=="function")for(let v of P(c))J.call(o,v)||v===w||g(o,v,{get:()=>c[v],enumerable:!(u=b(c,v))||u.enumerable});return o})(g({},"__esModule",{value:!0}),A);var i=["strict","lax","none"],E=["low","medium","high"],_=class{constructor(o){this._parsed=new Map,this._headers=o;let c=o.get("cookie");if(c)for(let[w,u]of d(c))this._parsed.set(w,{name:w,value:u})}[Symbol.iterator](){return this._parsed[Symbol.iterator]()}get size(){return this._parsed.size}get(...o){let c=typeof o[0]=="string"?o[0]:o[0].name;return this._parsed.get(c)}getAll(...o){var c;let w=Array.from(this._parsed);if(!o.length)return w.map(([v,f])=>f);let u=typeof o[0]=="string"?o[0]:(c=o[0])==null?void 0:c.name;return w.filter(([v])=>v===u).map(([v,f])=>f)}has(o){return this._parsed.has(o)}set(...o){let[c,w]=o.length===1?[o[0].name,o[0].value]:o,u=this._parsed;return u.set(c,{name:c,value:w}),this._headers.set("cookie",Array.from(u).map(([v,f])=>C(f)).join("; ")),this}delete(o){let c=this._parsed,w=Array.isArray(o)?o.map(u=>c.delete(u)):c.delete(o);return this._headers.set("cookie",Array.from(c).map(([u,v])=>C(v)).join("; ")),w}clear(){return this.delete(Array.from(this._parsed.keys())),this}[Symbol.for("edge-runtime.inspect.custom")](){return`RequestCookies ${JSON.stringify(Object.fromEntries(this._parsed))}`}toString(){return[...this._parsed.values()].map(o=>`${o.name}=${encodeURIComponent(o.value)}`).join("; ")}},m=class{constructor(o){var c,w,u;this._parsed=new Map,this._headers=o;let v=(u=(w=(c=o.getSetCookie)==null?void 0:c.call(o))!=null?w:o.get("set-cookie"))!=null?u:[];for(let f of Array.isArray(v)?v:function(p){if(!p)return[];var S,K,V,N,F,ne=[],W=0;function te(){for(;W<p.length&&/\s/.test(p.charAt(W));)W+=1;return W<p.length}for(;W<p.length;){for(S=W,F=!1;te();)if((K=p.charAt(W))===","){for(V=W,W+=1,te(),N=W;W<p.length&&(K=p.charAt(W))!=="="&&K!==";"&&K!==",";)W+=1;W<p.length&&p.charAt(W)==="="?(F=!0,W=N,ne.push(p.substring(S,V)),S=W):W=V+1}else W+=1;(!F||W>=p.length)&&ne.push(p.substring(S,p.length))}return ne}(v)){let p=r(f);p&&this._parsed.set(p.name,p)}}get(...o){let c=typeof o[0]=="string"?o[0]:o[0].name;return this._parsed.get(c)}getAll(...o){var c;let w=Array.from(this._parsed.values());if(!o.length)return w;let u=typeof o[0]=="string"?o[0]:(c=o[0])==null?void 0:c.name;return w.filter(v=>v.name===u)}has(o){return this._parsed.has(o)}set(...o){let[c,w,u]=o.length===1?[o[0].name,o[0].value,o[0]]:o,v=this._parsed;return v.set(c,function(f={name:"",value:""}){return typeof f.expires=="number"&&(f.expires=new Date(f.expires)),f.maxAge&&(f.expires=new Date(Date.now()+1e3*f.maxAge)),(f.path===null||f.path===void 0)&&(f.path="/"),f}({name:c,value:w,...u})),function(f,p){for(let[,S]of(p.delete("set-cookie"),f)){let K=C(S);p.append("set-cookie",K)}}(v,this._headers),this}delete(...o){let[c,w]=typeof o[0]=="string"?[o[0]]:[o[0].name,o[0]];return this.set({...w,name:c,value:"",expires:new Date(0)})}[Symbol.for("edge-runtime.inspect.custom")](){return`ResponseCookies ${JSON.stringify(Object.fromEntries(this._parsed))}`}toString(){return[...this._parsed.values()].map(C).join("; ")}}},449:(a,g,b)=>{var P;(()=>{var J={226:function(d,r){(function(i,E){"use strict";var _="function",m="undefined",o="object",c="string",w="major",u="model",v="name",f="type",p="vendor",S="version",K="architecture",V="console",N="mobile",F="tablet",ne="smarttv",W="wearable",te="embedded",ye="Amazon",Oe="Apple",Pe="ASUS",G="BlackBerry",Q="Browser",X="Chrome",U="Firefox",$="Google",H="Huawei",I="Microsoft",j="Motorola",B="Opera",L="Samsung",Ee="Sharp",ve="Sony",xe="Xiaomi",he="Zebra",We="Facebook",_e="Chromium OS",$e="Mac OS",pe=function(de,fe){var le={};for(var be in de)fe[be]&&fe[be].length%2==0?le[be]=fe[be].concat(de[be]):le[be]=de[be];return le},je=function(de){for(var fe={},le=0;le<de.length;le++)fe[de[le].toUpperCase()]=de[le];return fe},Ie=function(de,fe){return typeof de===c&&He(fe).indexOf(He(de))!==-1},He=function(de){return de.toLowerCase()},et=function(de,fe){if(typeof de===c)return de=de.replace(/^\s\s*/,""),typeof fe===m?de:de.substring(0,350)},Ve=function(de,fe){for(var le,be,De,ge,Je,se,Te=0;Te<fe.length&&!Je;){var ut=fe[Te],wt=fe[Te+1];for(le=be=0;le<ut.length&&!Je&&ut[le];)if(Je=ut[le++].exec(de))for(De=0;De<wt.length;De++)se=Je[++be],typeof(ge=wt[De])===o&&ge.length>0?ge.length===2?typeof ge[1]==_?this[ge[0]]=ge[1].call(this,se):this[ge[0]]=ge[1]:ge.length===3?typeof ge[1]!==_||ge[1].exec&&ge[1].test?this[ge[0]]=se?se.replace(ge[1],ge[2]):void 0:this[ge[0]]=se?ge[1].call(this,se,ge[2]):void 0:ge.length===4&&(this[ge[0]]=se?ge[3].call(this,se.replace(ge[1],ge[2])):E):this[ge]=se||E;Te+=2}},Re=function(de,fe){for(var le in fe)if(typeof fe[le]===o&&fe[le].length>0){for(var be=0;be<fe[le].length;be++)if(Ie(fe[le][be],de))return le==="?"?E:le}else if(Ie(fe[le],de))return le==="?"?E:le;return de},we={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},Ne={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[S,[v,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[S,[v,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[v,S],[/opios[\/ ]+([\w\.]+)/i],[S,[v,B+" Mini"]],[/\bopr\/([\w\.]+)/i],[S,[v,B]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[v,S],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[S,[v,"UC"+Q]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i],[S,[v,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[S,[v,"WeChat"]],[/konqueror\/([\w\.]+)/i],[S,[v,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[S,[v,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[S,[v,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[v,/(.+)/,"$1 Secure "+Q],S],[/\bfocus\/([\w\.]+)/i],[S,[v,U+" Focus"]],[/\bopt\/([\w\.]+)/i],[S,[v,B+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[S,[v,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[S,[v,"Dolphin"]],[/coast\/([\w\.]+)/i],[S,[v,B+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[S,[v,"MIUI "+Q]],[/fxios\/([-\w\.]+)/i],[S,[v,U]],[/\bqihu|(qi?ho?o?|360)browser/i],[[v,"360 "+Q]],[/(oculus|samsung|sailfish|huawei)browser\/([\w\.]+)/i],[[v,/(.+)/,"$1 "+Q],S],[/(comodo_dragon)\/([\w\.]+)/i],[[v,/_/g," "],S],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[v,S],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i,/\[(linkedin)app\]/i],[v],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[v,We],S],[/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[v,S],[/\bgsa\/([\w\.]+) .*safari\//i],[S,[v,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[S,[v,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[S,[v,X+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[v,X+" WebView"],S],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[S,[v,"Android "+Q]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[v,S],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[S,[v,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[S,v],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[v,[S,Re,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[v,S],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[v,"Netscape"],S],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[S,[v,U+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i,/panasonic;(viera)/i],[v,S],[/(cobalt)\/([\w\.]+)/i],[v,[S,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[K,"amd64"]],[/(ia32(?=;))/i],[[K,He]],[/((?:i[346]|x)86)[;\)]/i],[[K,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[K,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[K,"armhf"]],[/windows (ce|mobile); ppc;/i],[[K,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[K,/ower/,"",He]],[/(sun4\w)[;\)]/i],[[K,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[K,He]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[u,[p,L],[f,F]],[/\b((?:s[cgp]h|gt|sm)-\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[u,[p,L],[f,N]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[u,[p,Oe],[f,N]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[u,[p,Oe],[f,F]],[/(macintosh);/i],[u,[p,Oe]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[u,[p,Ee],[f,N]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[u,[p,H],[f,F]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[u,[p,H],[f,N]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[u,/_/g," "],[p,xe],[f,N]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[u,/_/g," "],[p,xe],[f,F]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[u,[p,"OPPO"],[f,N]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[u,[p,"Vivo"],[f,N]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[u,[p,"Realme"],[f,N]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[u,[p,j],[f,N]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[u,[p,j],[f,F]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[u,[p,"LG"],[f,F]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[u,[p,"LG"],[f,N]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[u,[p,"Lenovo"],[f,F]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[u,/_/g," "],[p,"Nokia"],[f,N]],[/(pixel c)\b/i],[u,[p,$],[f,F]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[u,[p,$],[f,N]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[u,[p,ve],[f,N]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[u,"Xperia Tablet"],[p,ve],[f,F]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[u,[p,"OnePlus"],[f,N]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[u,[p,ye],[f,F]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[u,/(.+)/g,"Fire Phone $1"],[p,ye],[f,N]],[/(playbook);[-\w\),; ]+(rim)/i],[u,p,[f,F]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[u,[p,G],[f,N]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[u,[p,Pe],[f,F]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[u,[p,Pe],[f,N]],[/(nexus 9)/i],[u,[p,"HTC"],[f,F]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[p,[u,/_/g," "],[f,N]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[u,[p,"Acer"],[f,F]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[u,[p,"Meizu"],[f,N]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[p,u,[f,N]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[p,u,[f,F]],[/(surface duo)/i],[u,[p,I],[f,F]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[u,[p,"Fairphone"],[f,N]],[/(u304aa)/i],[u,[p,"AT&T"],[f,N]],[/\bsie-(\w*)/i],[u,[p,"Siemens"],[f,N]],[/\b(rct\w+) b/i],[u,[p,"RCA"],[f,F]],[/\b(venue[\d ]{2,7}) b/i],[u,[p,"Dell"],[f,F]],[/\b(q(?:mv|ta)\w+) b/i],[u,[p,"Verizon"],[f,F]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[u,[p,"Barnes & Noble"],[f,F]],[/\b(tm\d{3}\w+) b/i],[u,[p,"NuVision"],[f,F]],[/\b(k88) b/i],[u,[p,"ZTE"],[f,F]],[/\b(nx\d{3}j) b/i],[u,[p,"ZTE"],[f,N]],[/\b(gen\d{3}) b.+49h/i],[u,[p,"Swiss"],[f,N]],[/\b(zur\d{3}) b/i],[u,[p,"Swiss"],[f,F]],[/\b((zeki)?tb.*\b) b/i],[u,[p,"Zeki"],[f,F]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[p,"Dragon Touch"],u,[f,F]],[/\b(ns-?\w{0,9}) b/i],[u,[p,"Insignia"],[f,F]],[/\b((nxa|next)-?\w{0,9}) b/i],[u,[p,"NextBook"],[f,F]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[p,"Voice"],u,[f,N]],[/\b(lvtel\-)?(v1[12]) b/i],[[p,"LvTel"],u,[f,N]],[/\b(ph-1) /i],[u,[p,"Essential"],[f,N]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[u,[p,"Envizen"],[f,F]],[/\b(trio[-\w\. ]+) b/i],[u,[p,"MachSpeed"],[f,F]],[/\btu_(1491) b/i],[u,[p,"Rotor"],[f,F]],[/(shield[\w ]+) b/i],[u,[p,"Nvidia"],[f,F]],[/(sprint) (\w+)/i],[p,u,[f,N]],[/(kin\.[onetw]{3})/i],[[u,/\./g," "],[p,I],[f,N]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[u,[p,he],[f,F]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[u,[p,he],[f,N]],[/smart-tv.+(samsung)/i],[p,[f,ne]],[/hbbtv.+maple;(\d+)/i],[[u,/^/,"SmartTV"],[p,L],[f,ne]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[p,"LG"],[f,ne]],[/(apple) ?tv/i],[p,[u,Oe+" TV"],[f,ne]],[/crkey/i],[[u,X+"cast"],[p,$],[f,ne]],[/droid.+aft(\w)( bui|\))/i],[u,[p,ye],[f,ne]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[u,[p,Ee],[f,ne]],[/(bravia[\w ]+)( bui|\))/i],[u,[p,ve],[f,ne]],[/(mitv-\w{5}) bui/i],[u,[p,xe],[f,ne]],[/Hbbtv.*(technisat) (.*);/i],[p,u,[f,ne]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[p,et],[u,et],[f,ne]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[f,ne]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[p,u,[f,V]],[/droid.+; (shield) bui/i],[u,[p,"Nvidia"],[f,V]],[/(playstation [345portablevi]+)/i],[u,[p,ve],[f,V]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[u,[p,I],[f,V]],[/((pebble))app/i],[p,u,[f,W]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[u,[p,Oe],[f,W]],[/droid.+; (glass) \d/i],[u,[p,$],[f,W]],[/droid.+; (wt63?0{2,3})\)/i],[u,[p,he],[f,W]],[/(quest( 2| pro)?)/i],[u,[p,We],[f,W]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[p,[f,te]],[/(aeobc)\b/i],[u,[p,ye],[f,te]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[u,[f,N]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[u,[f,F]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[f,F]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[f,N]],[/(android[-\w\. ]{0,9});.+buil/i],[u,[p,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[S,[v,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[S,[v,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[v,S],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[S,v]],os:[[/microsoft (windows) (vista|xp)/i],[v,S],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[v,[S,Re,we]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[v,"Windows"],[S,Re,we]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/ios;fbsv\/([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[S,/_/g,"."],[v,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[v,$e],[S,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[S,v],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[v,S],[/\(bb(10);/i],[S,[v,G]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[S,[v,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[S,[v,U+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[S,[v,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[S,[v,"watchOS"]],[/crkey\/([\d\.]+)/i],[S,[v,X+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[v,_e],S],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[v,S],[/(sunos) ?([\w\.\d]*)/i],[[v,"Solaris"],S],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[v,S]]},ke=function(de,fe){if(typeof de===o&&(fe=de,de=E),!(this instanceof ke))return new ke(de,fe).getResult();var le=typeof i!==m&&i.navigator?i.navigator:E,be=de||(le&&le.userAgent?le.userAgent:""),De=le&&le.userAgentData?le.userAgentData:E,ge=fe?pe(Ne,fe):Ne,Je=le&&le.userAgent==be;return this.getBrowser=function(){var se,Te={};return Te[v]=E,Te[S]=E,Ve.call(Te,be,ge.browser),Te[w]=typeof(se=Te[S])===c?se.replace(/[^\d\.]/g,"").split(".")[0]:E,Je&&le&&le.brave&&typeof le.brave.isBrave==_&&(Te[v]="Brave"),Te},this.getCPU=function(){var se={};return se[K]=E,Ve.call(se,be,ge.cpu),se},this.getDevice=function(){var se={};return se[p]=E,se[u]=E,se[f]=E,Ve.call(se,be,ge.device),Je&&!se[f]&&De&&De.mobile&&(se[f]=N),Je&&se[u]=="Macintosh"&&le&&typeof le.standalone!==m&&le.maxTouchPoints&&le.maxTouchPoints>2&&(se[u]="iPad",se[f]=F),se},this.getEngine=function(){var se={};return se[v]=E,se[S]=E,Ve.call(se,be,ge.engine),se},this.getOS=function(){var se={};return se[v]=E,se[S]=E,Ve.call(se,be,ge.os),Je&&!se[v]&&De&&De.platform!="Unknown"&&(se[v]=De.platform.replace(/chrome os/i,_e).replace(/macos/i,$e)),se},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return be},this.setUA=function(se){return be=typeof se===c&&se.length>350?et(se,350):se,this},this.setUA(be),this};ke.VERSION="1.0.35",ke.BROWSER=je([v,S,w]),ke.CPU=je([K]),ke.DEVICE=je([u,p,f,V,N,ne,F,W,te]),ke.ENGINE=ke.OS=je([v,S]),typeof r!==m?(d.exports&&(r=d.exports=ke),r.UAParser=ke):b.amdO?(P=function(){return ke}.call(g,b,g,a))===void 0||(a.exports=P):typeof i!==m&&(i.UAParser=ke);var Ge=typeof i!==m&&(i.jQuery||i.Zepto);if(Ge&&!Ge.ua){var Fe=new ke;Ge.ua=Fe.getResult(),Ge.ua.get=function(){return Fe.getUA()},Ge.ua.set=function(de){Fe.setUA(de);var fe=Fe.getResult();for(var le in fe)Ge.ua[le]=fe[le]}}})(typeof window=="object"?window:this)}},A={};function C(d){var r=A[d];if(r!==void 0)return r.exports;var i=A[d]={exports:{}},E=!0;try{J[d].call(i.exports,i,i.exports,C),E=!1}finally{E&&delete A[d]}return i.exports}C.ab="//",a.exports=C(226)})()},521:a=>{"use strict";a.exports=(Kn(),hn(Xt))},522:a=>{a.exports=function(g){return g&&g.__esModule?g:{default:g}},a.exports.__esModule=!0,a.exports.default=a.exports},663:a=>{(()=>{"use strict";typeof __nccwpck_require__<"u"&&(__nccwpck_require__.ab="//");var g={};(()=>{g.parse=function(C,d){if(typeof C!="string")throw TypeError("argument str must be a string");for(var r={},i=C.split(J),E=(d||{}).decode||b,_=0;_<i.length;_++){var m=i[_],o=m.indexOf("=");if(!(o<0)){var c=m.substr(0,o).trim(),w=m.substr(++o,m.length).trim();w[0]=='"'&&(w=w.slice(1,-1)),r[c]==null&&(r[c]=function(u,v){try{return v(u)}catch{return u}}(w,E))}}return r},g.serialize=function(C,d,r){var i=r||{},E=i.encode||P;if(typeof E!="function")throw TypeError("option encode is invalid");if(!A.test(C))throw TypeError("argument name is invalid");var _=E(d);if(_&&!A.test(_))throw TypeError("argument val is invalid");var m=C+"="+_;if(i.maxAge!=null){var o=i.maxAge-0;if(isNaN(o)||!isFinite(o))throw TypeError("option maxAge is invalid");m+="; Max-Age="+Math.floor(o)}if(i.domain){if(!A.test(i.domain))throw TypeError("option domain is invalid");m+="; Domain="+i.domain}if(i.path){if(!A.test(i.path))throw TypeError("option path is invalid");m+="; Path="+i.path}if(i.expires){if(typeof i.expires.toUTCString!="function")throw TypeError("option expires is invalid");m+="; Expires="+i.expires.toUTCString()}if(i.httpOnly&&(m+="; HttpOnly"),i.secure&&(m+="; Secure"),i.sameSite)switch(typeof i.sameSite=="string"?i.sameSite.toLowerCase():i.sameSite){case!0:case"strict":m+="; SameSite=Strict";break;case"lax":m+="; SameSite=Lax";break;case"none":m+="; SameSite=None";break;default:throw TypeError("option sameSite is invalid")}return m};var b=decodeURIComponent,P=encodeURIComponent,J=/; */,A=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/})(),a.exports=g})()},668:(a,g,b)=>{"use strict";let P;b.r(g),b.d(g,{default:()=>Wr});var J,A={};async function C(){return"_ENTRIES"in globalThis&&_ENTRIES.middleware_instrumentation&&await _ENTRIES.middleware_instrumentation}b.r(A),b.d(A,{config:()=>Kr,middleware:()=>jr});let d=null;async function r(){if(process.env.NEXT_PHASE==="phase-production-build")return;d||(d=C());let h=await d;if(h?.register)try{await h.register()}catch(s){throw s.message=`An error occurred while loading instrumentation hook: ${s.message}`,s}}async function i(...h){let s=await C();try{var y;await(s==null||(y=s.onRequestError)==null?void 0:y.call(s,...h))}catch(R){console.error("Error in instrumentation.onRequestError:",R)}}let E=null;function _(){return E||(E=r()),E}function m(h){return`The edge runtime does not support Node.js '${h}' module.
Learn More: https://nextjs.org/docs/messages/node-module-in-edge-runtime`}process!==b.g.process&&(process.env=b.g.process.env,b.g.process=process);try{Object.defineProperty(globalThis,"__import_unsupported",{value:function(h){let s=new Proxy(function(){},{get(y,R){if(R==="then")return{};throw Object.defineProperty(Error(m(h)),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0})},construct(){throw Object.defineProperty(Error(m(h)),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0})},apply(y,R,M){if(typeof M[0]=="function")return M[0](s);throw Object.defineProperty(Error(m(h)),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0})}});return new Proxy({},{get:()=>s})},enumerable:!1,configurable:!1})}catch{}_();class o extends Error{constructor({page:s}){super(`The middleware "${s}" accepts an async API directly with the form:
  
  export function middleware(request, event) {
    return NextResponse.redirect('/new-location')
  }
  
  Read more: https://nextjs.org/docs/messages/middleware-new-signature
  `)}}class c extends Error{constructor(){super("The request.page has been deprecated in favour of `URLPattern`.\n  Read more: https://nextjs.org/docs/messages/middleware-request-page\n  ")}}class w extends Error{constructor(){super("The request.ua has been removed in favour of `userAgent` function.\n  Read more: https://nextjs.org/docs/messages/middleware-parse-user-agent\n  ")}}let u="_N_T_",v={shared:"shared",reactServerComponents:"rsc",serverSideRendering:"ssr",actionBrowser:"action-browser",apiNode:"api-node",apiEdge:"api-edge",middleware:"middleware",instrument:"instrument",edgeAsset:"edge-asset",appPagesBrowser:"app-pages-browser",pagesDirBrowser:"pages-dir-browser",pagesDirEdge:"pages-dir-edge",pagesDirNode:"pages-dir-node"};function f(h){var s,y,R,M,q,re=[],ee=0;function ue(){for(;ee<h.length&&/\s/.test(h.charAt(ee));)ee+=1;return ee<h.length}for(;ee<h.length;){for(s=ee,q=!1;ue();)if((y=h.charAt(ee))===","){for(R=ee,ee+=1,ue(),M=ee;ee<h.length&&(y=h.charAt(ee))!=="="&&y!==";"&&y!==",";)ee+=1;ee<h.length&&h.charAt(ee)==="="?(q=!0,ee=M,re.push(h.substring(s,R)),s=ee):ee=R+1}else ee+=1;(!q||ee>=h.length)&&re.push(h.substring(s,h.length))}return re}function p(h){let s={},y=[];if(h)for(let[R,M]of h.entries())R.toLowerCase()==="set-cookie"?(y.push(...f(M)),s[R]=y.length===1?y[0]:y):s[R]=M;return s}function S(h){try{return String(new URL(String(h)))}catch(s){throw Object.defineProperty(Error(`URL is malformed "${String(h)}". Please use only absolute URLs - https://nextjs.org/docs/messages/middleware-relative-urls`,{cause:s}),"__NEXT_ERROR_CODE",{value:"E61",enumerable:!1,configurable:!0})}}({...v,GROUP:(v.reactServerComponents,v.actionBrowser,v.reactServerComponents,v.actionBrowser,v.instrument,v.middleware,v.apiNode,v.apiEdge,v.serverSideRendering,v.appPagesBrowser,v.reactServerComponents,v.actionBrowser,v.serverSideRendering,v.appPagesBrowser,v.shared,v.instrument,v.middleware,v.reactServerComponents,v.serverSideRendering,v.appPagesBrowser,v.actionBrowser)});let K=Symbol("response"),V=Symbol("passThrough"),N=Symbol("waitUntil");class F{constructor(s,y){this[V]=!1,this[N]=y?{kind:"external",function:y}:{kind:"internal",promises:[]}}respondWith(s){this[K]||(this[K]=Promise.resolve(s))}passThroughOnException(){this[V]=!0}waitUntil(s){if(this[N].kind==="external")return(0,this[N].function)(s);this[N].promises.push(s)}}class ne extends F{constructor(s){var y;super(s.request,(y=s.context)==null?void 0:y.waitUntil),this.sourcePage=s.page}get request(){throw Object.defineProperty(new o({page:this.sourcePage}),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0})}respondWith(){throw Object.defineProperty(new o({page:this.sourcePage}),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0})}}function W(h){return h.replace(/\/$/,"")||"/"}function te(h){let s=h.indexOf("#"),y=h.indexOf("?"),R=y>-1&&(s<0||y<s);return R||s>-1?{pathname:h.substring(0,R?y:s),query:R?h.substring(y,s>-1?s:void 0):"",hash:s>-1?h.slice(s):""}:{pathname:h,query:"",hash:""}}function ye(h,s){if(!h.startsWith("/")||!s)return h;let{pathname:y,query:R,hash:M}=te(h);return""+s+y+R+M}function Oe(h,s){if(!h.startsWith("/")||!s)return h;let{pathname:y,query:R,hash:M}=te(h);return""+y+s+R+M}function Pe(h,s){if(typeof h!="string")return!1;let{pathname:y}=te(h);return y===s||y.startsWith(s+"/")}let G=new WeakMap;function Q(h,s){let y;if(!s)return{pathname:h};let R=G.get(s);R||(R=s.map(ee=>ee.toLowerCase()),G.set(s,R));let M=h.split("/",2);if(!M[1])return{pathname:h};let q=M[1].toLowerCase(),re=R.indexOf(q);return re<0?{pathname:h}:(y=s[re],{pathname:h=h.slice(y.length+1)||"/",detectedLocale:y})}let X=/(?!^https?:\/\/)(127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}|\[::1\]|localhost)/;function U(h,s){return new URL(String(h).replace(X,"localhost"),s&&String(s).replace(X,"localhost"))}let $=Symbol("NextURLInternal");class H{constructor(s,y,R){let M,q;typeof y=="object"&&"pathname"in y||typeof y=="string"?(M=y,q=R||{}):q=R||y||{},this[$]={url:U(s,M??q.base),options:q,basePath:""},this.analyze()}analyze(){var s,y,R,M,q;let re=function(e,t){var n,l;let{basePath:x,i18n:T,trailingSlash:O}=(n=t.nextConfig)!=null?n:{},k={pathname:e,trailingSlash:e!=="/"?e.endsWith("/"):O};x&&Pe(k.pathname,x)&&(k.pathname=function(D,Y){if(!Pe(D,Y))return D;let Z=D.slice(Y.length);return Z.startsWith("/")?Z:"/"+Z}(k.pathname,x),k.basePath=x);let z=k.pathname;if(k.pathname.startsWith("/_next/data/")&&k.pathname.endsWith(".json")){let D=k.pathname.replace(/^\/_next\/data\//,"").replace(/\.json$/,"").split("/");k.buildId=D[0],z=D[1]!=="index"?"/"+D.slice(1).join("/"):"/",t.parseData===!0&&(k.pathname=z)}if(T){let D=t.i18nProvider?t.i18nProvider.analyze(k.pathname):Q(k.pathname,T.locales);k.locale=D.detectedLocale,k.pathname=(l=D.pathname)!=null?l:k.pathname,!D.detectedLocale&&k.buildId&&(D=t.i18nProvider?t.i18nProvider.analyze(z):Q(z,T.locales)).detectedLocale&&(k.locale=D.detectedLocale)}return k}(this[$].url.pathname,{nextConfig:this[$].options.nextConfig,parseData:!0,i18nProvider:this[$].options.i18nProvider}),ee=function(e,t){let n;if(t?.host&&!Array.isArray(t.host))n=t.host.toString().split(":",1)[0];else{if(!e.hostname)return;n=e.hostname}return n.toLowerCase()}(this[$].url,this[$].options.headers);this[$].domainLocale=this[$].options.i18nProvider?this[$].options.i18nProvider.detectDomainLocale(ee):function(e,t,n){if(e)for(let T of(n&&(n=n.toLowerCase()),e)){var l,x;if(t===((l=T.domain)==null?void 0:l.split(":",1)[0].toLowerCase())||n===T.defaultLocale.toLowerCase()||(x=T.locales)!=null&&x.some(O=>O.toLowerCase()===n))return T}}((y=this[$].options.nextConfig)==null||(s=y.i18n)==null?void 0:s.domains,ee);let ue=((R=this[$].domainLocale)==null?void 0:R.defaultLocale)||((q=this[$].options.nextConfig)==null||(M=q.i18n)==null?void 0:M.defaultLocale);this[$].url.pathname=re.pathname,this[$].defaultLocale=ue,this[$].basePath=re.basePath??"",this[$].buildId=re.buildId,this[$].locale=re.locale??ue,this[$].trailingSlash=re.trailingSlash}formatPathname(){var s;let y;return y=function(R,M,q,re){if(!M||M===q)return R;let ee=R.toLowerCase();return!re&&(Pe(ee,"/api")||Pe(ee,"/"+M.toLowerCase()))?R:ye(R,"/"+M)}((s={basePath:this[$].basePath,buildId:this[$].buildId,defaultLocale:this[$].options.forceLocale?void 0:this[$].defaultLocale,locale:this[$].locale,pathname:this[$].url.pathname,trailingSlash:this[$].trailingSlash}).pathname,s.locale,s.buildId?void 0:s.defaultLocale,s.ignorePrefix),(s.buildId||!s.trailingSlash)&&(y=W(y)),s.buildId&&(y=Oe(ye(y,"/_next/data/"+s.buildId),s.pathname==="/"?"index.json":".json")),y=ye(y,s.basePath),!s.buildId&&s.trailingSlash?y.endsWith("/")?y:Oe(y,"/"):W(y)}formatSearch(){return this[$].url.search}get buildId(){return this[$].buildId}set buildId(s){this[$].buildId=s}get locale(){return this[$].locale??""}set locale(s){var y,R;if(!this[$].locale||!(!((R=this[$].options.nextConfig)==null||(y=R.i18n)==null)&&y.locales.includes(s)))throw Object.defineProperty(TypeError(`The NextURL configuration includes no locale "${s}"`),"__NEXT_ERROR_CODE",{value:"E597",enumerable:!1,configurable:!0});this[$].locale=s}get defaultLocale(){return this[$].defaultLocale}get domainLocale(){return this[$].domainLocale}get searchParams(){return this[$].url.searchParams}get host(){return this[$].url.host}set host(s){this[$].url.host=s}get hostname(){return this[$].url.hostname}set hostname(s){this[$].url.hostname=s}get port(){return this[$].url.port}set port(s){this[$].url.port=s}get protocol(){return this[$].url.protocol}set protocol(s){this[$].url.protocol=s}get href(){let s=this.formatPathname(),y=this.formatSearch();return`${this.protocol}//${this.host}${s}${y}${this.hash}`}set href(s){this[$].url=U(s),this.analyze()}get origin(){return this[$].url.origin}get pathname(){return this[$].url.pathname}set pathname(s){this[$].url.pathname=s}get hash(){return this[$].url.hash}set hash(s){this[$].url.hash=s}get search(){return this[$].url.search}set search(s){this[$].url.search=s}get password(){return this[$].url.password}set password(s){this[$].url.password=s}get username(){return this[$].url.username}set username(s){this[$].url.username=s}get basePath(){return this[$].basePath}set basePath(s){this[$].basePath=s.startsWith("/")?s:`/${s}`}toString(){return this.href}toJSON(){return this.href}[Symbol.for("edge-runtime.inspect.custom")](){return{href:this.href,origin:this.origin,protocol:this.protocol,username:this.username,password:this.password,host:this.host,hostname:this.hostname,port:this.port,pathname:this.pathname,search:this.search,searchParams:this.searchParams,hash:this.hash}}clone(){return new H(String(this),this[$].options)}}var I=b(443);let j=Symbol("internal request");class B extends Request{constructor(s,y={}){let R=typeof s!="string"&&"url"in s?s.url:String(s);S(R),s instanceof Request?super(s,y):super(R,y);let M=new H(R,{headers:p(this.headers),nextConfig:y.nextConfig});this[j]={cookies:new I.RequestCookies(this.headers),nextUrl:M,url:M.toString()}}[Symbol.for("edge-runtime.inspect.custom")](){return{cookies:this.cookies,nextUrl:this.nextUrl,url:this.url,bodyUsed:this.bodyUsed,cache:this.cache,credentials:this.credentials,destination:this.destination,headers:Object.fromEntries(this.headers),integrity:this.integrity,keepalive:this.keepalive,method:this.method,mode:this.mode,redirect:this.redirect,referrer:this.referrer,referrerPolicy:this.referrerPolicy,signal:this.signal}}get cookies(){return this[j].cookies}get nextUrl(){return this[j].nextUrl}get page(){throw new c}get ua(){throw new w}get url(){return this[j].url}}class L{static get(s,y,R){let M=Reflect.get(s,y,R);return typeof M=="function"?M.bind(s):M}static set(s,y,R,M){return Reflect.set(s,y,R,M)}static has(s,y){return Reflect.has(s,y)}static deleteProperty(s,y){return Reflect.deleteProperty(s,y)}}let Ee=Symbol("internal response"),ve=new Set([301,302,303,307,308]);function xe(h,s){var y;if(!(h==null||(y=h.request)==null)&&y.headers){if(!(h.request.headers instanceof Headers))throw Object.defineProperty(Error("request.headers must be an instance of Headers"),"__NEXT_ERROR_CODE",{value:"E119",enumerable:!1,configurable:!0});let R=[];for(let[M,q]of h.request.headers)s.set("x-middleware-request-"+M,q),R.push(M);s.set("x-middleware-override-headers",R.join(","))}}class he extends Response{constructor(s,y={}){super(s,y);let R=this.headers,M=new Proxy(new I.ResponseCookies(R),{get(q,re,ee){switch(re){case"delete":case"set":return(...ue)=>{let e=Reflect.apply(q[re],q,ue),t=new Headers(R);return e instanceof I.ResponseCookies&&R.set("x-middleware-set-cookie",e.getAll().map(n=>(0,I.stringifyCookie)(n)).join(",")),xe(y,t),e};default:return L.get(q,re,ee)}}});this[Ee]={cookies:M,url:y.url?new H(y.url,{headers:p(R),nextConfig:y.nextConfig}):void 0}}[Symbol.for("edge-runtime.inspect.custom")](){return{cookies:this.cookies,url:this.url,body:this.body,bodyUsed:this.bodyUsed,headers:Object.fromEntries(this.headers),ok:this.ok,redirected:this.redirected,status:this.status,statusText:this.statusText,type:this.type}}get cookies(){return this[Ee].cookies}static json(s,y){let R=Response.json(s,y);return new he(R.body,R)}static redirect(s,y){let R=typeof y=="number"?y:y?.status??307;if(!ve.has(R))throw Object.defineProperty(RangeError('Failed to execute "redirect" on "response": Invalid status code'),"__NEXT_ERROR_CODE",{value:"E529",enumerable:!1,configurable:!0});let M=typeof y=="object"?y:{},q=new Headers(M?.headers);return q.set("Location",S(s)),new he(null,{...M,headers:q,status:R})}static rewrite(s,y){let R=new Headers(y?.headers);return R.set("x-middleware-rewrite",S(s)),xe(y,R),new he(null,{...y,headers:R})}static next(s){let y=new Headers(s?.headers);return y.set("x-middleware-next","1"),xe(s,y),new he(null,{...s,headers:y})}}function We(h,s){let y=typeof s=="string"?new URL(s):s,R=new URL(h,s),M=R.origin===y.origin;return{url:M?R.toString().slice(y.origin.length):R.toString(),isRelative:M}}let _e="next-router-prefetch",$e=["rsc","next-router-state-tree",_e,"next-hmr-refresh","next-router-segment-prefetch"],pe="_rsc";class je extends Error{constructor(){super("Headers cannot be modified. Read more: https://nextjs.org/docs/app/api-reference/functions/headers")}static callable(){throw new je}}class Ie extends Headers{constructor(s){super(),this.headers=new Proxy(s,{get(y,R,M){if(typeof R=="symbol")return L.get(y,R,M);let q=R.toLowerCase(),re=Object.keys(s).find(ee=>ee.toLowerCase()===q);if(re!==void 0)return L.get(y,re,M)},set(y,R,M,q){if(typeof R=="symbol")return L.set(y,R,M,q);let re=R.toLowerCase(),ee=Object.keys(s).find(ue=>ue.toLowerCase()===re);return L.set(y,ee??R,M,q)},has(y,R){if(typeof R=="symbol")return L.has(y,R);let M=R.toLowerCase(),q=Object.keys(s).find(re=>re.toLowerCase()===M);return q!==void 0&&L.has(y,q)},deleteProperty(y,R){if(typeof R=="symbol")return L.deleteProperty(y,R);let M=R.toLowerCase(),q=Object.keys(s).find(re=>re.toLowerCase()===M);return q===void 0||L.deleteProperty(y,q)}})}static seal(s){return new Proxy(s,{get(y,R,M){switch(R){case"append":case"delete":case"set":return je.callable;default:return L.get(y,R,M)}}})}merge(s){return Array.isArray(s)?s.join(", "):s}static from(s){return s instanceof Headers?s:new Ie(s)}append(s,y){let R=this.headers[s];typeof R=="string"?this.headers[s]=[R,y]:Array.isArray(R)?R.push(y):this.headers[s]=y}delete(s){delete this.headers[s]}get(s){let y=this.headers[s];return y!==void 0?this.merge(y):null}has(s){return this.headers[s]!==void 0}set(s,y){this.headers[s]=y}forEach(s,y){for(let[R,M]of this.entries())s.call(y,M,R,this)}*entries(){for(let s of Object.keys(this.headers)){let y=s.toLowerCase(),R=this.get(y);yield[y,R]}}*keys(){for(let s of Object.keys(this.headers))yield s.toLowerCase()}*values(){for(let s of Object.keys(this.headers))yield this.get(s)}[Symbol.iterator](){return this.entries()}}let He=Object.defineProperty(Error("Invariant: AsyncLocalStorage accessed in runtime where it is not available"),"__NEXT_ERROR_CODE",{value:"E504",enumerable:!1,configurable:!0});class et{disable(){throw He}getStore(){}run(){throw He}exit(){throw He}enterWith(){throw He}static bind(s){return s}}let Ve=typeof globalThis<"u"&&globalThis.AsyncLocalStorage;function Re(){return Ve?new Ve:new et}let we=Re();class Ne extends Error{constructor(){super("Cookies can only be modified in a Server Action or Route Handler. Read more: https://nextjs.org/docs/app/api-reference/functions/cookies#options")}static callable(){throw new Ne}}class ke{static seal(s){return new Proxy(s,{get(y,R,M){switch(R){case"clear":case"delete":case"set":return Ne.callable;default:return L.get(y,R,M)}}})}}let Ge=Symbol.for("next.mutated.cookies");class Fe{static wrap(s,y){let R=new I.ResponseCookies(new Headers);for(let ue of s.getAll())R.set(ue);let M=[],q=new Set,re=()=>{let ue=we.getStore();if(ue&&(ue.pathWasRevalidated=!0),M=R.getAll().filter(e=>q.has(e.name)),y){let e=[];for(let t of M){let n=new I.ResponseCookies(new Headers);n.set(t),e.push(n.toString())}y(e)}},ee=new Proxy(R,{get(ue,e,t){switch(e){case Ge:return M;case"delete":return function(...n){q.add(typeof n[0]=="string"?n[0]:n[0].name);try{return ue.delete(...n),ee}finally{re()}};case"set":return function(...n){q.add(typeof n[0]=="string"?n[0]:n[0].name);try{return ue.set(...n),ee}finally{re()}};default:return L.get(ue,e,t)}}});return ee}}function de(h,s){if(h.phase!=="action")throw new Ne}var fe=function(h){return h.handleRequest="BaseServer.handleRequest",h.run="BaseServer.run",h.pipe="BaseServer.pipe",h.getStaticHTML="BaseServer.getStaticHTML",h.render="BaseServer.render",h.renderToResponseWithComponents="BaseServer.renderToResponseWithComponents",h.renderToResponse="BaseServer.renderToResponse",h.renderToHTML="BaseServer.renderToHTML",h.renderError="BaseServer.renderError",h.renderErrorToResponse="BaseServer.renderErrorToResponse",h.renderErrorToHTML="BaseServer.renderErrorToHTML",h.render404="BaseServer.render404",h}(fe||{}),le=function(h){return h.loadDefaultErrorComponents="LoadComponents.loadDefaultErrorComponents",h.loadComponents="LoadComponents.loadComponents",h}(le||{}),be=function(h){return h.getRequestHandler="NextServer.getRequestHandler",h.getServer="NextServer.getServer",h.getServerRequestHandler="NextServer.getServerRequestHandler",h.createServer="createServer.createServer",h}(be||{}),De=function(h){return h.compression="NextNodeServer.compression",h.getBuildId="NextNodeServer.getBuildId",h.createComponentTree="NextNodeServer.createComponentTree",h.clientComponentLoading="NextNodeServer.clientComponentLoading",h.getLayoutOrPageModule="NextNodeServer.getLayoutOrPageModule",h.generateStaticRoutes="NextNodeServer.generateStaticRoutes",h.generateFsStaticRoutes="NextNodeServer.generateFsStaticRoutes",h.generatePublicRoutes="NextNodeServer.generatePublicRoutes",h.generateImageRoutes="NextNodeServer.generateImageRoutes.route",h.sendRenderResult="NextNodeServer.sendRenderResult",h.proxyRequest="NextNodeServer.proxyRequest",h.runApi="NextNodeServer.runApi",h.render="NextNodeServer.render",h.renderHTML="NextNodeServer.renderHTML",h.imageOptimizer="NextNodeServer.imageOptimizer",h.getPagePath="NextNodeServer.getPagePath",h.getRoutesManifest="NextNodeServer.getRoutesManifest",h.findPageComponents="NextNodeServer.findPageComponents",h.getFontManifest="NextNodeServer.getFontManifest",h.getServerComponentManifest="NextNodeServer.getServerComponentManifest",h.getRequestHandler="NextNodeServer.getRequestHandler",h.renderToHTML="NextNodeServer.renderToHTML",h.renderError="NextNodeServer.renderError",h.renderErrorToHTML="NextNodeServer.renderErrorToHTML",h.render404="NextNodeServer.render404",h.startResponse="NextNodeServer.startResponse",h.route="route",h.onProxyReq="onProxyReq",h.apiResolver="apiResolver",h.internalFetch="internalFetch",h}(De||{}),ge=function(h){return h.startServer="startServer.startServer",h}(ge||{}),Je=function(h){return h.getServerSideProps="Render.getServerSideProps",h.getStaticProps="Render.getStaticProps",h.renderToString="Render.renderToString",h.renderDocument="Render.renderDocument",h.createBodyResult="Render.createBodyResult",h}(Je||{}),se=function(h){return h.renderToString="AppRender.renderToString",h.renderToReadableStream="AppRender.renderToReadableStream",h.getBodyResult="AppRender.getBodyResult",h.fetch="AppRender.fetch",h}(se||{}),Te=function(h){return h.executeRoute="Router.executeRoute",h}(Te||{}),ut=function(h){return h.runHandler="Node.runHandler",h}(ut||{}),wt=function(h){return h.runHandler="AppRouteRouteHandlers.runHandler",h}(wt||{}),Nt=function(h){return h.generateMetadata="ResolveMetadata.generateMetadata",h.generateViewport="ResolveMetadata.generateViewport",h}(Nt||{}),Xe=function(h){return h.execute="Middleware.execute",h}(Xe||{});let Ht=["Middleware.execute","BaseServer.handleRequest","Render.getServerSideProps","Render.getStaticProps","AppRender.fetch","AppRender.getBodyResult","Render.renderDocument","Node.runHandler","AppRouteRouteHandlers.runHandler","ResolveMetadata.generateMetadata","ResolveMetadata.generateViewport","NextNodeServer.createComponentTree","NextNodeServer.findPageComponents","NextNodeServer.getLayoutOrPageModule","NextNodeServer.startResponse","NextNodeServer.clientComponentLoading"],Yt=["NextNodeServer.findPageComponents","NextNodeServer.createComponentTree","NextNodeServer.clientComponentLoading"];function ze(h){return h!==null&&typeof h=="object"&&"then"in h&&typeof h.then=="function"}let{context:Me,propagation:Mt,trace:nt,SpanStatusCode:Qt,SpanKind:xr,ROOT_CONTEXT:Zt}=P=b(817);class Cr extends Error{constructor(s,y){super(),this.bubble=s,this.result=y}}let Dt=(h,s)=>{(function(y){return typeof y=="object"&&y!==null&&y instanceof Cr})(s)&&s.bubble?h.setAttribute("next.bubble",!0):(s&&(h.recordException(s),h.setAttribute("error.type",s.name)),h.setStatus({code:Qt.ERROR,message:s?.message})),h.end()},vt=new Map,it=P.createContextKey("next.rootSpanId"),bt=0,Ar={set(h,s,y){h.push({key:s,value:y})}};class Pr{getTracerInstance(){return nt.getTracer("next.js","0.0.1")}getContext(){return Me}getTracePropagationData(){let s=Me.active(),y=[];return Mt.inject(s,y,Ar),y}getActiveScopeSpan(){return nt.getSpan(Me?.active())}withPropagatedContext(s,y,R){let M=Me.active();if(nt.getSpanContext(M))return y();let q=Mt.extract(M,s,R);return Me.with(q,y)}trace(...s){var y;let[R,M,q]=s,{fn:re,options:ee}=typeof M=="function"?{fn:M,options:{}}:{fn:q,options:{...M}},ue=ee.spanName??R;if(!Ht.includes(R)&&process.env.NEXT_OTEL_VERBOSE!=="1"||ee.hideSpan)return re();let e=this.getSpanContext(ee?.parentSpan??this.getActiveScopeSpan()),t=!1;e?(y=nt.getSpanContext(e))!=null&&y.isRemote&&(t=!0):(e=Me?.active()??Zt,t=!0);let n=bt++;return ee.attributes={"next.span_name":ue,"next.span_type":R,...ee.attributes},Me.with(e.setValue(it,n),()=>this.getTracerInstance().startActiveSpan(ue,ee,l=>{let x="performance"in globalThis&&"measure"in performance?globalThis.performance.now():void 0,T=()=>{vt.delete(n),x&&process.env.NEXT_OTEL_PERFORMANCE_PREFIX&&Yt.includes(R||"")&&performance.measure(`${process.env.NEXT_OTEL_PERFORMANCE_PREFIX}:next-${(R.split(".").pop()||"").replace(/[A-Z]/g,O=>"-"+O.toLowerCase())}`,{start:x,end:performance.now()})};t&&vt.set(n,new Map(Object.entries(ee.attributes??{})));try{if(re.length>1)return re(l,k=>Dt(l,k));let O=re(l);return ze(O)?O.then(k=>(l.end(),k)).catch(k=>{throw Dt(l,k),k}).finally(T):(l.end(),T(),O)}catch(O){throw Dt(l,O),T(),O}}))}wrap(...s){let y=this,[R,M,q]=s.length===3?s:[s[0],{},s[1]];return Ht.includes(R)||process.env.NEXT_OTEL_VERBOSE==="1"?function(){let re=M;typeof re=="function"&&typeof q=="function"&&(re=re.apply(this,arguments));let ee=arguments.length-1,ue=arguments[ee];if(typeof ue!="function")return y.trace(R,re,()=>q.apply(this,arguments));{let e=y.getContext().bind(Me.active(),ue);return y.trace(R,re,(t,n)=>(arguments[ee]=function(l){return n?.(l),e.apply(this,arguments)},q.apply(this,arguments)))}}:q}startSpan(...s){let[y,R]=s,M=this.getSpanContext(R?.parentSpan??this.getActiveScopeSpan());return this.getTracerInstance().startSpan(y,R,M)}getSpanContext(s){return s?nt.setSpan(Me.active(),s):void 0}getRootSpanAttributes(){let s=Me.active().getValue(it);return vt.get(s)}setRootSpanAttribute(s,y){let R=Me.active().getValue(it),M=vt.get(R);M&&M.set(s,y)}}let Et=(()=>{let h=new Pr;return()=>h})(),_t="__prerender_bypass";Symbol("__next_preview_data"),Symbol(_t);class Rr{constructor(s,y,R,M){var q;let re=s&&function(ue,e){let t=Ie.from(ue.headers);return{isOnDemandRevalidate:t.get("x-prerender-revalidate")===e.previewModeId,revalidateOnlyGenerated:t.has("x-prerender-revalidate-if-generated")}}(y,s).isOnDemandRevalidate,ee=(q=R.get(_t))==null?void 0:q.value;this._isEnabled=!!(!re&&ee&&s&&ee===s.previewModeId),this._previewModeId=s?.previewModeId,this._mutableCookies=M}get isEnabled(){return this._isEnabled}enable(){if(!this._previewModeId)throw Object.defineProperty(Error("Invariant: previewProps missing previewModeId this should never happen"),"__NEXT_ERROR_CODE",{value:"E93",enumerable:!1,configurable:!0});this._mutableCookies.set({name:_t,value:this._previewModeId,httpOnly:!0,sameSite:"none",secure:!0,path:"/"}),this._isEnabled=!0}disable(){this._mutableCookies.set({name:_t,value:"",httpOnly:!0,sameSite:"none",secure:!0,path:"/",expires:new Date(0)}),this._isEnabled=!1}}function er(h,s){if("x-middleware-set-cookie"in h.headers&&typeof h.headers["x-middleware-set-cookie"]=="string"){let y=h.headers["x-middleware-set-cookie"],R=new Headers;for(let M of f(y))R.append("set-cookie",M);for(let M of new I.ResponseCookies(R).getAll())s.set(M)}}let at=Re();var Ut=b(213),Lt=b.n(Ut);class jt extends Error{constructor(s,y){super("Invariant: "+(s.endsWith(".")?s:s+".")+" This is a bug in Next.js.",y),this.name="InvariantError"}}class Tr{constructor(s,y,R){this.prev=null,this.next=null,this.key=s,this.data=y,this.size=R}}class tr{constructor(){this.prev=null,this.next=null}}class rr{constructor(s,y){this.cache=new Map,this.totalSize=0,this.maxSize=s,this.calculateSize=y,this.head=new tr,this.tail=new tr,this.head.next=this.tail,this.tail.prev=this.head}addToHead(s){s.prev=this.head,s.next=this.head.next,this.head.next.prev=s,this.head.next=s}removeNode(s){s.prev.next=s.next,s.next.prev=s.prev}moveToHead(s){this.removeNode(s),this.addToHead(s)}removeTail(){let s=this.tail.prev;return this.removeNode(s),s}set(s,y){let R=(this.calculateSize==null?void 0:this.calculateSize.call(this,y))??1;if(R>this.maxSize)return void console.warn("Single item size exceeds maxSize");let M=this.cache.get(s);if(M)M.data=y,this.totalSize=this.totalSize-M.size+R,M.size=R,this.moveToHead(M);else{let q=new Tr(s,y,R);this.cache.set(s,q),this.addToHead(q),this.totalSize+=R}for(;this.totalSize>this.maxSize&&this.cache.size>0;){let q=this.removeTail();this.cache.delete(q.key),this.totalSize-=q.size}}has(s){return this.cache.has(s)}get(s){let y=this.cache.get(s);if(y)return this.moveToHead(y),y.data}*[Symbol.iterator](){let s=this.head.next;for(;s&&s!==this.tail;){let y=s;yield[y.key,y.data],s=s.next}}remove(s){let y=this.cache.get(s);y&&(this.removeNode(y),this.cache.delete(s),this.totalSize-=y.size)}get size(){return this.cache.size}get currentSize(){return this.totalSize}}b(356).Buffer,new rr(52428800,h=>h.size),process.env.NEXT_PRIVATE_DEBUG_CACHE&&console.debug.bind(console,"DefaultCacheHandler:"),process.env.NEXT_PRIVATE_DEBUG_CACHE,Symbol.for("@next/cache-handlers");let nr=Symbol.for("@next/cache-handlers-map"),Kt=Symbol.for("@next/cache-handlers-set"),dt=globalThis;function Wt(){if(dt[nr])return dt[nr].entries()}async function St(h,s){if(!h)return s();let y=ir(h);try{return await s()}finally{let R=function(M,q){let re=new Set(M.pendingRevalidatedTags),ee=new Set(M.pendingRevalidateWrites);return{pendingRevalidatedTags:q.pendingRevalidatedTags.filter(ue=>!re.has(ue)),pendingRevalidates:Object.fromEntries(Object.entries(q.pendingRevalidates).filter(([ue])=>!(ue in M.pendingRevalidates))),pendingRevalidateWrites:q.pendingRevalidateWrites.filter(ue=>!ee.has(ue))}}(y,ir(h));await ar(h,R)}}function ir(h){return{pendingRevalidatedTags:h.pendingRevalidatedTags?[...h.pendingRevalidatedTags]:[],pendingRevalidates:{...h.pendingRevalidates},pendingRevalidateWrites:h.pendingRevalidateWrites?[...h.pendingRevalidateWrites]:[]}}async function Or(h,s){if(h.length===0)return;let y=[];s&&y.push(s.revalidateTag(h));let R=function(){if(dt[Kt])return dt[Kt].values()}();if(R)for(let M of R)y.push(M.expireTags(...h));await Promise.all(y)}async function ar(h,s){let y=s?.pendingRevalidatedTags??h.pendingRevalidatedTags??[],R=s?.pendingRevalidates??h.pendingRevalidates??{},M=s?.pendingRevalidateWrites??h.pendingRevalidateWrites??[];return Promise.all([Or(y,h.incrementalCache),...Object.values(R),...M])}let ht=Object.defineProperty(Error("Invariant: AsyncLocalStorage accessed in runtime where it is not available"),"__NEXT_ERROR_CODE",{value:"E504",enumerable:!1,configurable:!0});class or{disable(){throw ht}getStore(){}run(){throw ht}exit(){throw ht}enterWith(){throw ht}static bind(s){return s}}let Ye=typeof globalThis<"u"&&globalThis.AsyncLocalStorage,$t=Ye?new Ye:new or;class kr{constructor({waitUntil:s,onClose:y,onTaskError:R}){this.workUnitStores=new Set,this.waitUntil=s,this.onClose=y,this.onTaskError=R,this.callbackQueue=new(Lt()),this.callbackQueue.pause()}after(s){if(ze(s))this.waitUntil||pt(),this.waitUntil(s.catch(y=>this.reportTaskError("promise",y)));else if(typeof s=="function")this.addCallback(s);else throw Object.defineProperty(Error("`after()`: Argument must be a promise or a function"),"__NEXT_ERROR_CODE",{value:"E50",enumerable:!1,configurable:!0})}addCallback(s){var y;this.waitUntil||pt();let R=at.getStore();R&&this.workUnitStores.add(R);let M=$t.getStore(),q=M?M.rootTaskSpawnPhase:R?.phase;this.runCallbacksOnClosePromise||(this.runCallbacksOnClosePromise=this.runCallbacksOnClose(),this.waitUntil(this.runCallbacksOnClosePromise));let re=(y=async()=>{try{await $t.run({rootTaskSpawnPhase:q},()=>s())}catch(ee){this.reportTaskError("function",ee)}},Ye?Ye.bind(y):or.bind(y));this.callbackQueue.add(re)}async runCallbacksOnClose(){return await new Promise(s=>this.onClose(s)),this.runCallbacks()}async runCallbacks(){if(this.callbackQueue.size===0)return;for(let y of this.workUnitStores)y.phase="after";let s=we.getStore();if(!s)throw Object.defineProperty(new jt("Missing workStore in AfterContext.runCallbacks"),"__NEXT_ERROR_CODE",{value:"E547",enumerable:!1,configurable:!0});return St(s,()=>(this.callbackQueue.start(),this.callbackQueue.onIdle()))}reportTaskError(s,y){if(console.error(s==="promise"?"A promise passed to `after()` rejected:":"An error occurred in a function passed to `after()`:",y),this.onTaskError)try{this.onTaskError==null||this.onTaskError.call(this,y)}catch(R){console.error(Object.defineProperty(new jt("`onTaskError` threw while handling an error thrown from an `after` task",{cause:R}),"__NEXT_ERROR_CODE",{value:"E569",enumerable:!1,configurable:!0}))}}}function pt(){throw Object.defineProperty(Error("`after()` will not work correctly, because `waitUntil` is not available in the current environment."),"__NEXT_ERROR_CODE",{value:"E91",enumerable:!1,configurable:!0})}function sr(h){let s,y={then:(R,M)=>(s||(s=h()),s.then(q=>{y.value=q}).catch(()=>{}),s.then(R,M))};return y}class xt{onClose(s){if(this.isClosed)throw Object.defineProperty(Error("Cannot subscribe to a closed CloseController"),"__NEXT_ERROR_CODE",{value:"E365",enumerable:!1,configurable:!0});this.target.addEventListener("close",s),this.listeners++}dispatchClose(){if(this.isClosed)throw Object.defineProperty(Error("Cannot close a CloseController multiple times"),"__NEXT_ERROR_CODE",{value:"E229",enumerable:!1,configurable:!0});this.listeners>0&&this.target.dispatchEvent(new Event("close")),this.isClosed=!0}constructor(){this.target=new EventTarget,this.listeners=0,this.isClosed=!1}}function Jt(){return{previewModeId:process.env.__NEXT_PREVIEW_MODE_ID||"",previewModeSigningKey:process.env.__NEXT_PREVIEW_MODE_SIGNING_KEY||"",previewModeEncryptionKey:process.env.__NEXT_PREVIEW_MODE_ENCRYPTION_KEY||""}}let Bt=Symbol.for("@next/request-context");async function Ir(h,s,y){let R=[],M=y&&y.size>0;for(let q of(re=>{let ee=["/layout"];if(re.startsWith("/")){let ue=re.split("/");for(let e=1;e<ue.length+1;e++){let t=ue.slice(0,e).join("/");t&&(t.endsWith("/page")||t.endsWith("/route")||(t=`${t}${t.endsWith("/")?"":"/"}layout`),ee.push(t))}}return ee})(h))q=`${u}${q}`,R.push(q);if(s.pathname&&!M){let q=`${u}${s.pathname}`;R.push(q)}return{tags:R,expirationsByCacheKind:function(q){let re=new Map,ee=Wt();if(ee)for(let[ue,e]of ee)"getExpiration"in e&&re.set(ue,sr(async()=>e.getExpiration(...q)));return re}(R)}}class Nr extends B{constructor(s){super(s.input,s.init),this.sourcePage=s.page}get request(){throw Object.defineProperty(new o({page:this.sourcePage}),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0})}respondWith(){throw Object.defineProperty(new o({page:this.sourcePage}),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0})}waitUntil(){throw Object.defineProperty(new o({page:this.sourcePage}),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0})}}let lr={keys:h=>Array.from(h.keys()),get:(h,s)=>h.get(s)??void 0},Vt=(h,s)=>Et().withPropagatedContext(h.headers,s,lr),Ct=!1;async function cr(h){var s;let y,R;if(!Ct&&(Ct=!0,process.env.NEXT_PRIVATE_TEST_PROXY==="true")){let{interceptTestApis:Z,wrapRequestHandler:ce}=b(720);Z(),Vt=ce(Vt)}await _();let M=globalThis.__BUILD_MANIFEST!==void 0;h.request.url=h.request.url.replace(/\.rsc($|\?)/,"$1");let q=h.bypassNextUrl?new URL(h.request.url):new H(h.request.url,{headers:h.request.headers,nextConfig:h.request.nextConfig});for(let Z of[...q.searchParams.keys()]){let ce=q.searchParams.getAll(Z),ie=function(ae){for(let Ce of["nxtP","nxtI"])if(ae!==Ce&&ae.startsWith(Ce))return ae.substring(Ce.length);return null}(Z);if(ie){for(let ae of(q.searchParams.delete(ie),ce))q.searchParams.append(ie,ae);q.searchParams.delete(Z)}}let re=process.env.__NEXT_BUILD_ID||"";"buildId"in q&&(re=q.buildId||"",q.buildId="");let ee=function(Z){let ce=new Headers;for(let[ie,ae]of Object.entries(Z))for(let Ce of Array.isArray(ae)?ae:[ae])Ce!==void 0&&(typeof Ce=="number"&&(Ce=Ce.toString()),ce.append(ie,Ce));return ce}(h.request.headers),ue=ee.has("x-nextjs-data"),e=ee.get("rsc")==="1";ue&&q.pathname==="/index"&&(q.pathname="/");let t=new Map;if(!M)for(let Z of $e){let ce=ee.get(Z);ce!==null&&(t.set(Z,ce),ee.delete(Z))}let n=q.searchParams.get(pe),l=new Nr({page:h.page,input:function(Z){let ce=typeof Z=="string",ie=ce?new URL(Z):Z;return ie.searchParams.delete(pe),ce?ie.toString():ie}(q).toString(),init:{body:h.request.body,headers:ee,method:h.request.method,nextConfig:h.request.nextConfig,signal:h.request.signal}});ue&&Object.defineProperty(l,"__isData",{enumerable:!1,value:!0}),!globalThis.__incrementalCacheShared&&h.IncrementalCache&&(globalThis.__incrementalCache=new h.IncrementalCache({CurCacheHandler:h.incrementalCacheHandler,minimalMode:!0,fetchCacheKeyPrefix:"",dev:!1,requestHeaders:h.request.headers,getPrerenderManifest:()=>({version:-1,routes:{},dynamicRoutes:{},notFoundRoutes:[],preview:Jt()})}));let x=h.request.waitUntil??((s=function(){let Z=globalThis[Bt];return Z?.get()}())==null?void 0:s.waitUntil),T=new ne({request:l,page:h.page,context:x?{waitUntil:x}:void 0});if((y=await Vt(l,()=>{if(h.page==="/middleware"||h.page==="/src/middleware"){let Z=T.waitUntil.bind(T),ce=new xt;return Et().trace(Xe.execute,{spanName:`middleware ${l.method} ${l.nextUrl.pathname}`,attributes:{"http.target":l.nextUrl.pathname,"http.method":l.method}},async()=>{try{var ie,ae,Ce,Qe,rt,Pt;let ot=Jt(),Ke=await Ir("/",l.nextUrl,null),$n=(rt=l.nextUrl,Pt=Rt=>{R=Rt},function(Rt,Se,Gt,mr,$r,zt,yr,wr,Jr,vr,qe,Ue){function gt(Le){Gt&&Gt.setHeader("Set-Cookie",Le)}let Ae={};return{type:"request",phase:Rt,implicitTags:zt,url:{pathname:mr.pathname,search:mr.search??""},rootParams:$r,get headers(){return Ae.headers||(Ae.headers=function(Le){let st=Ie.from(Le);for(let mt of $e)st.delete(mt);return Ie.seal(st)}(Se.headers)),Ae.headers},get cookies(){if(!Ae.cookies){let Le=new I.RequestCookies(Ie.from(Se.headers));er(Se,Le),Ae.cookies=ke.seal(Le)}return Ae.cookies},set cookies(Le){Ae.cookies=Le},get mutableCookies(){if(!Ae.mutableCookies){let Le=function(st,mt){let br=new I.RequestCookies(Ie.from(st));return Fe.wrap(br,mt)}(Se.headers,yr||(Gt?gt:void 0));er(Se,Le),Ae.mutableCookies=Le}return Ae.mutableCookies},get userspaceMutableCookies(){return Ae.userspaceMutableCookies||(Ae.userspaceMutableCookies=function(Le){let st=new Proxy(Le.mutableCookies,{get(mt,br,Bn){switch(br){case"delete":return function(...Br){return de(Le,"cookies().delete"),mt.delete(...Br),st};case"set":return function(...Br){return de(Le,"cookies().set"),mt.set(...Br),st};default:return L.get(mt,br,Bn)}}});return st}(this)),Ae.userspaceMutableCookies},get draftMode(){return Ae.draftMode||(Ae.draftMode=new Rr(Jr,Se,this.cookies,this.mutableCookies)),Ae.draftMode},renderResumeDataCache:wr??null,isHmrRefresh:vr,serverComponentsHmrCache:qe||globalThis.__serverComponentsHmrCache,devFallbackParams:null}}("action",l,void 0,rt,{},Ke,Pt,void 0,ot,!1,void 0,null)),Jn=function({page:Rt,renderOpts:Se,isPrefetchRequest:Gt,buildId:mr,previouslyRevalidatedTags:$r}){var zt;let yr=!Se.shouldWaitOnAllReady&&!Se.supportsDynamicResponse&&!Se.isDraftMode&&!Se.isPossibleServerAction,wr=Se.dev??!1,Jr=wr||yr&&(!!process.env.NEXT_DEBUG_BUILD||process.env.NEXT_SSG_FETCH_METRICS==="1"),vr={isStaticGeneration:yr,page:Rt,route:(zt=Rt.split("/").reduce((qe,Ue,gt,Ae)=>Ue?Ue[0]==="("&&Ue.endsWith(")")||Ue[0]==="@"||(Ue==="page"||Ue==="route")&&gt===Ae.length-1?qe:qe+"/"+Ue:qe,"")).startsWith("/")?zt:"/"+zt,incrementalCache:Se.incrementalCache||globalThis.__incrementalCache,cacheLifeProfiles:Se.cacheLifeProfiles,isRevalidate:Se.isRevalidate,isBuildTimePrerendering:Se.nextExport,hasReadableErrorStacks:Se.hasReadableErrorStacks,fetchCache:Se.fetchCache,isOnDemandRevalidate:Se.isOnDemandRevalidate,isDraftMode:Se.isDraftMode,isPrefetchRequest:Gt,buildId:mr,reactLoadableManifest:Se?.reactLoadableManifest||{},assetPrefix:Se?.assetPrefix||"",afterContext:function(qe){let{waitUntil:Ue,onClose:gt,onAfterTaskError:Ae}=qe;return new kr({waitUntil:Ue,onClose:gt,onTaskError:Ae})}(Se),cacheComponentsEnabled:Se.experimental.cacheComponents,dev:wr,previouslyRevalidatedTags:$r,refreshTagsByCacheKind:function(){let qe=new Map,Ue=Wt();if(Ue)for(let[gt,Ae]of Ue)"refreshTags"in Ae&&qe.set(gt,sr(async()=>Ae.refreshTags()));return qe}(),runInCleanSnapshot:Ye?Ye.snapshot():function(qe,...Ue){return qe(...Ue)},shouldTrackFetchMetrics:Jr};return Se.store=vr,vr}({page:"/",renderOpts:{cacheLifeProfiles:(ae=h.request.nextConfig)==null||(ie=ae.experimental)==null?void 0:ie.cacheLife,experimental:{isRoutePPREnabled:!1,cacheComponents:!1,authInterrupts:!!(!((Qe=h.request.nextConfig)==null||(Ce=Qe.experimental)==null)&&Ce.authInterrupts)},supportsDynamicResponse:!0,waitUntil:Z,onClose:ce.onClose.bind(ce),onAfterTaskError:void 0},isPrefetchRequest:l.headers.get(_e)==="1",buildId:re??"",previouslyRevalidatedTags:[]});return await we.run(Jn,()=>at.run($n,h.handler,l,T))}finally{setTimeout(()=>{ce.dispatchClose()},0)}})}return h.handler(l,T)}))&&!(y instanceof Response))throw Object.defineProperty(TypeError("Expected an instance of Response to be returned"),"__NEXT_ERROR_CODE",{value:"E567",enumerable:!1,configurable:!0});y&&R&&y.headers.set("set-cookie",R);let O=y?.headers.get("x-middleware-rewrite");if(y&&O&&(e||!M)){let Z=new H(O,{forceLocale:!0,headers:h.request.headers,nextConfig:h.request.nextConfig});M||Z.host!==l.nextUrl.host||(Z.buildId=re||Z.buildId,y.headers.set("x-middleware-rewrite",String(Z)));let{url:ce,isRelative:ie}=We(Z.toString(),q.toString());!M&&ue&&y.headers.set("x-nextjs-rewrite",ce),e&&ie&&(q.pathname!==Z.pathname&&y.headers.set("x-nextjs-rewritten-path",Z.pathname),q.search!==Z.search&&y.headers.set("x-nextjs-rewritten-query",Z.search.slice(1)))}if(y&&O&&e&&n){let Z=new URL(O);Z.searchParams.has(pe)||(Z.searchParams.set(pe,n),y.headers.set("x-middleware-rewrite",Z.toString()))}let k=y?.headers.get("Location");if(y&&k&&!M){let Z=new H(k,{forceLocale:!1,headers:h.request.headers,nextConfig:h.request.nextConfig});y=new Response(y.body,y),Z.host===q.host&&(Z.buildId=re||Z.buildId,y.headers.set("Location",Z.toString())),ue&&(y.headers.delete("Location"),y.headers.set("x-nextjs-redirect",We(Z.toString(),q.toString()).url))}let z=y||he.next(),D=z.headers.get("x-middleware-override-headers"),Y=[];if(D){for(let[Z,ce]of t)z.headers.set(`x-middleware-request-${Z}`,ce),Y.push(Z);Y.length>0&&z.headers.set("x-middleware-override-headers",D+","+Y.join(","))}return{response:z,waitUntil:(T[N].kind==="internal"?Promise.all(T[N].promises).then(()=>{}):void 0)??Promise.resolve(),fetchMetrics:l.fetchMetrics}}b(449),typeof URLPattern>"u"||URLPattern;var Hr=b(814);if(Hr.unstable_postpone,function(h){return h.includes("needs to bail out of prerendering at this point because it used")&&h.includes("Learn more: https://nextjs.org/docs/messages/ppr-caught-error")}("Route %%% needs to bail out of prerendering at this point because it used ^^^. React throws this special object to indicate where. It should not be caught by your own try/catch. Learn more: https://nextjs.org/docs/messages/ppr-caught-error")===!1)throw Object.defineProperty(Error("Invariant: isDynamicPostpone misidentified a postpone reason. This is a bug in Next.js"),"__NEXT_ERROR_CODE",{value:"E296",enumerable:!1,configurable:!0});RegExp("\\n\\s+at Suspense \\(<anonymous>\\)(?:(?!\\n\\s+at (?:body|div|main|section|article|aside|header|footer|nav|form|p|span|h1|h2|h3|h4|h5|h6) \\(<anonymous>\\))[\\s\\S])*?\\n\\s+at __next_root_layout_boundary__ \\([^\\n]*\\)"),RegExp("\\n\\s+at __next_metadata_boundary__[\\n\\s]"),RegExp("\\n\\s+at __next_viewport_boundary__[\\n\\s]"),RegExp("\\n\\s+at __next_outlet_boundary__[\\n\\s]"),Re();let{env:ft,stdout:At}=((J=globalThis)==null?void 0:J.process)??{},Mr=ft&&!ft.NO_COLOR&&(ft.FORCE_COLOR||At?.isTTY&&!ft.CI&&ft.TERM!=="dumb"),ur=(h,s,y,R)=>{let M=h.substring(0,R)+y,q=h.substring(R+s.length),re=q.indexOf(s);return~re?M+ur(q,s,y,re):M+q},me=(h,s,y=h)=>Mr?R=>{let M=""+R,q=M.indexOf(s,h.length);return~q?h+ur(M,s,y,q)+s:h+M+s}:String,tt=me("\x1B[1m","\x1B[22m","\x1B[22m\x1B[1m");me("\x1B[2m","\x1B[22m","\x1B[22m\x1B[2m"),me("\x1B[3m","\x1B[23m"),me("\x1B[4m","\x1B[24m"),me("\x1B[7m","\x1B[27m"),me("\x1B[8m","\x1B[28m"),me("\x1B[9m","\x1B[29m"),me("\x1B[30m","\x1B[39m");let Dr=me("\x1B[31m","\x1B[39m"),Ur=me("\x1B[32m","\x1B[39m"),dr=me("\x1B[33m","\x1B[39m");me("\x1B[34m","\x1B[39m");let Lr=me("\x1B[35m","\x1B[39m");me("\x1B[38;2;173;127;168m","\x1B[39m"),me("\x1B[36m","\x1B[39m");let qt=me("\x1B[37m","\x1B[39m");me("\x1B[90m","\x1B[39m"),me("\x1B[40m","\x1B[49m"),me("\x1B[41m","\x1B[49m"),me("\x1B[42m","\x1B[49m"),me("\x1B[43m","\x1B[49m"),me("\x1B[44m","\x1B[49m"),me("\x1B[45m","\x1B[49m"),me("\x1B[46m","\x1B[49m"),me("\x1B[47m","\x1B[49m"),qt(tt("\u25CB")),Dr(tt("\u2A2F")),dr(tt("\u26A0")),qt(tt(" ")),Ur(tt("\u2713")),Lr(tt("\xBB")),new rr(1e4,h=>h.length);var hr=b(426);async function jr(h){if(h.nextUrl.pathname.startsWith("/api/")){let s=he.next();return s.headers.set("Access-Control-Allow-Origin","*"),s.headers.set("Access-Control-Allow-Methods","GET, POST, PUT, DELETE, OPTIONS"),s.headers.set("Access-Control-Allow-Headers","Content-Type, Authorization"),s}return h.nextUrl.pathname.startsWith("/dashboard")&&!await(0,hr.getToken)({req:h,secret:process.env.NEXTAUTH_SECRET})?he.redirect(new URL("/login",h.url)):he.next()}let Kr={matcher:["/api/:path*","/dashboard/:path*"]};Object.values({NOT_FOUND:404,FORBIDDEN:403,UNAUTHORIZED:401});let pr={...A},fr=pr.middleware||pr.default,gr="/src/middleware";if(typeof fr!="function")throw Object.defineProperty(Error(`The Middleware "${gr}" must export a \`middleware\` or a \`default\` function`),"__NEXT_ERROR_CODE",{value:"E120",enumerable:!1,configurable:!0});function Wr(h){return cr({...h,page:gr,handler:async(...s)=>{try{return await fr(...s)}catch(y){let R=s[0],M=new URL(R.url),q=M.pathname+M.search;throw await i(y,{path:q,method:R.method,headers:Object.fromEntries(R.headers.entries())},{routerKind:"Pages Router",routePath:"/middleware",routeType:"middleware",revalidateReason:void 0}),y}}})}},674:(a,g)=>{"use strict";function b(c,w,u){P(c,w),w.set(c,u)}function P(c,w){if(w.has(c))throw TypeError("Cannot initialize the same private elements twice on an object")}function J(c,w){return c.get(C(c,w))}function A(c,w,u){return c.set(C(c,w),u),u}function C(c,w,u){if(typeof c=="function"?c===w:c.has(w))return arguments.length<3?w:u;throw TypeError("Private element is not present on this object")}Object.defineProperty(g,"__esModule",{value:!0}),g.SessionStore=void 0,g.defaultCookies=function(c){let w=c?"__Secure-":"";return{sessionToken:{name:`${w}next-auth.session-token`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:c}},callbackUrl:{name:`${w}next-auth.callback-url`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:c}},csrfToken:{name:`${c?"__Host-":""}next-auth.csrf-token`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:c}},pkceCodeVerifier:{name:`${w}next-auth.pkce.code_verifier`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:c,maxAge:900}},state:{name:`${w}next-auth.state`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:c,maxAge:900}},nonce:{name:`${w}next-auth.nonce`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:c}}}};var d=new WeakMap,r=new WeakMap,i=new WeakMap,E=new WeakSet;class _{constructor(w,u,v){(function(S,K){P(S,K),K.add(S)})(this,E),b(this,d,{}),b(this,r,void 0),b(this,i,void 0),A(i,this,v),A(r,this,w);let{cookies:f}=u,{name:p}=w;if(typeof f?.getAll=="function")for(let{name:S,value:K}of f.getAll())S.startsWith(p)&&(J(d,this)[S]=K);else if(f instanceof Map)for(let S of f.keys())S.startsWith(p)&&(J(d,this)[S]=f.get(S));else for(let S in f)S.startsWith(p)&&(J(d,this)[S]=f[S])}get value(){return Object.keys(J(d,this)).sort((w,u)=>{var v,f;return parseInt((v=w.split(".").pop())!=null?v:"0")-parseInt((f=u.split(".").pop())!=null?f:"0")}).map(w=>J(d,this)[w]).join("")}chunk(w,u){let v=C(E,this,o).call(this);for(let f of C(E,this,m).call(this,{name:J(r,this).name,value:w,options:{...J(r,this).options,...u}}))v[f.name]=f;return Object.values(v)}clean(){return Object.values(C(E,this,o).call(this))}}function m(c){let w=Math.ceil(c.value.length/3933);if(w===1)return J(d,this)[c.name]=c.value,[c];let u=[];for(let v=0;v<w;v++){let f=`${c.name}.${v}`,p=c.value.substr(3933*v,3933);u.push({...c,name:f,value:p}),J(d,this)[f]=p}return J(i,this).debug("CHUNKING_SESSION_COOKIE",{message:"Session cookie exceeds allowed 4096 bytes.",emptyCookieSize:163,valueSize:c.value.length,chunks:u.map(v=>v.value.length+163)}),u}function o(){let c={};for(let u in J(d,this)){var w;(w=J(d,this))==null||delete w[u],c[u]={name:u,value:"",options:{...J(r,this).options,maxAge:0}}}return c}g.SessionStore=_},720:(a,g,b)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0}),function(d,r){for(var i in r)Object.defineProperty(d,i,{enumerable:!0,get:r[i]})}(g,{interceptTestApis:function(){return A},wrapRequestHandler:function(){return C}});let P=b(392),J=b(165);function A(){return(0,J.interceptFetch)(b.g.fetch)}function C(d){return(r,i)=>(0,P.withRequest)(r,J.reader,()=>d(r,i))}},743:(a,g,b)=>{"use strict";b.r(g),b.d(g,{CompactEncrypt:()=>lr,CompactSign:()=>cr,EmbeddedJWK:()=>Ur,EncryptJWT:()=>ur,FlattenedEncrypt:()=>St,FlattenedSign:()=>Ct,GeneralEncrypt:()=>Or,GeneralSign:()=>ft,SignJWT:()=>Mr,UnsecuredJWT:()=>gr,base64url:()=>J,calculateJwkThumbprint:()=>tt,calculateJwkThumbprintUri:()=>Dr,compactDecrypt:()=>jt,compactVerify:()=>$t,createLocalJWKSet:()=>jr,createRemoteJWKSet:()=>fr,cryptoRuntime:()=>ue,decodeJwt:()=>y,decodeProtectedHeader:()=>s,errors:()=>P,exportJWK:()=>Kt,exportPKCS8:()=>nr,exportSPKI:()=>rr,flattenedDecrypt:()=>Lt,flattenedVerify:()=>Ye,generalDecrypt:()=>Tr,generalVerify:()=>kr,generateKeyPair:()=>re,generateSecret:()=>ee,importJWK:()=>it,importPKCS8:()=>vt,importSPKI:()=>Cr,importX509:()=>Dt,jwtDecrypt:()=>Nr,jwtVerify:()=>Ir});var P={};b.r(P),b.d(P,{JOSEAlgNotAllowed:()=>V,JOSEError:()=>p,JOSENotSupported:()=>N,JWEDecompressionFailed:()=>ne,JWEDecryptionFailed:()=>F,JWEInvalid:()=>W,JWKInvalid:()=>Oe,JWKSInvalid:()=>Pe,JWKSMultipleMatchingKeys:()=>Q,JWKSNoMatchingKey:()=>G,JWKSTimeout:()=>X,JWSInvalid:()=>te,JWSSignatureVerificationFailed:()=>U,JWTClaimValidationFailed:()=>S,JWTExpired:()=>K,JWTInvalid:()=>ye});var J={};b.r(J),b.d(J,{decode:()=>h,encode:()=>Wr});let A=crypto,C=async(e,t)=>{let n=`SHA-${e.slice(-3)}`;return new Uint8Array(await A.subtle.digest(n,t))},d=new TextEncoder,r=new TextDecoder;function i(...e){let t=new Uint8Array(e.reduce((l,{length:x})=>l+x,0)),n=0;return e.forEach(l=>{t.set(l,n),n+=l.length}),t}function E(e,t,n){if(t<0||t>=4294967296)throw RangeError(`value must be >= 0 and <= ${4294967296-1}. Received ${t}`);e.set([t>>>24,t>>>16,t>>>8,255&t],n)}function _(e){let t=Math.floor(e/4294967296),n=new Uint8Array(8);return E(n,t,0),E(n,e%4294967296,4),n}function m(e){let t=new Uint8Array(4);return E(t,e),t}function o(e){return i(m(e.length),e)}async function c(e,t,n){let l=Math.ceil((t>>3)/32),x=new Uint8Array(32*l);for(let T=0;T<l;T++){let O=new Uint8Array(4+e.length+n.length);O.set(m(T+1)),O.set(e,4),O.set(n,4+e.length),x.set(await C("sha256",O),32*T)}return x.slice(0,t>>3)}let w=e=>{let t=e;typeof t=="string"&&(t=d.encode(t));let n=[];for(let l=0;l<t.length;l+=32768)n.push(String.fromCharCode.apply(null,t.subarray(l,l+32768)));return btoa(n.join(""))},u=e=>w(e).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_"),v=e=>{let t=atob(e),n=new Uint8Array(t.length);for(let l=0;l<t.length;l++)n[l]=t.charCodeAt(l);return n},f=e=>{let t=e;t instanceof Uint8Array&&(t=r.decode(t)),t=t.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"");try{return v(t)}catch{throw TypeError("The input to be decoded is not correctly encoded.")}};class p extends Error{static get code(){return"ERR_JOSE_GENERIC"}constructor(t){var n;super(t),this.code="ERR_JOSE_GENERIC",this.name=this.constructor.name,(n=Error.captureStackTrace)==null||n.call(Error,this,this.constructor)}}class S extends p{static get code(){return"ERR_JWT_CLAIM_VALIDATION_FAILED"}constructor(t,n="unspecified",l="unspecified"){super(t),this.code="ERR_JWT_CLAIM_VALIDATION_FAILED",this.claim=n,this.reason=l}}class K extends p{static get code(){return"ERR_JWT_EXPIRED"}constructor(t,n="unspecified",l="unspecified"){super(t),this.code="ERR_JWT_EXPIRED",this.claim=n,this.reason=l}}class V extends p{constructor(){super(...arguments),this.code="ERR_JOSE_ALG_NOT_ALLOWED"}static get code(){return"ERR_JOSE_ALG_NOT_ALLOWED"}}class N extends p{constructor(){super(...arguments),this.code="ERR_JOSE_NOT_SUPPORTED"}static get code(){return"ERR_JOSE_NOT_SUPPORTED"}}class F extends p{constructor(){super(...arguments),this.code="ERR_JWE_DECRYPTION_FAILED",this.message="decryption operation failed"}static get code(){return"ERR_JWE_DECRYPTION_FAILED"}}class ne extends p{constructor(){super(...arguments),this.code="ERR_JWE_DECOMPRESSION_FAILED",this.message="decompression operation failed"}static get code(){return"ERR_JWE_DECOMPRESSION_FAILED"}}class W extends p{constructor(){super(...arguments),this.code="ERR_JWE_INVALID"}static get code(){return"ERR_JWE_INVALID"}}class te extends p{constructor(){super(...arguments),this.code="ERR_JWS_INVALID"}static get code(){return"ERR_JWS_INVALID"}}class ye extends p{constructor(){super(...arguments),this.code="ERR_JWT_INVALID"}static get code(){return"ERR_JWT_INVALID"}}class Oe extends p{constructor(){super(...arguments),this.code="ERR_JWK_INVALID"}static get code(){return"ERR_JWK_INVALID"}}class Pe extends p{constructor(){super(...arguments),this.code="ERR_JWKS_INVALID"}static get code(){return"ERR_JWKS_INVALID"}}class G extends p{constructor(){super(...arguments),this.code="ERR_JWKS_NO_MATCHING_KEY",this.message="no applicable key found in the JSON Web Key Set"}static get code(){return"ERR_JWKS_NO_MATCHING_KEY"}}class Q extends p{constructor(){super(...arguments),this.code="ERR_JWKS_MULTIPLE_MATCHING_KEYS",this.message="multiple matching keys found in the JSON Web Key Set"}static get code(){return"ERR_JWKS_MULTIPLE_MATCHING_KEYS"}}class X extends p{constructor(){super(...arguments),this.code="ERR_JWKS_TIMEOUT",this.message="request timed out"}static get code(){return"ERR_JWKS_TIMEOUT"}}class U extends p{constructor(){super(...arguments),this.code="ERR_JWS_SIGNATURE_VERIFICATION_FAILED",this.message="signature verification failed"}static get code(){return"ERR_JWS_SIGNATURE_VERIFICATION_FAILED"}}let $=A.getRandomValues.bind(A);function H(e){switch(e){case"A128GCM":case"A128GCMKW":case"A192GCM":case"A192GCMKW":case"A256GCM":case"A256GCMKW":return 96;case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return 128;default:throw new N(`Unsupported JWE Algorithm: ${e}`)}}let I=e=>$(new Uint8Array(H(e)>>3)),j=(e,t)=>{if(t.length<<3!==H(e))throw new W("Invalid Initialization Vector length")},B=(e,t)=>{let n=e.byteLength<<3;if(n!==t)throw new W(`Invalid Content Encryption Key length. Expected ${t} bits, got ${n} bits`)};function L(e,t="algorithm.name"){return TypeError(`CryptoKey does not support this operation, its ${t} must be ${e}`)}function Ee(e,t){return e.name===t}function ve(e){return parseInt(e.name.slice(4),10)}function xe(e,t){if(t.length&&!t.some(n=>e.usages.includes(n))){let n="CryptoKey does not support this operation, its usages must include ";if(t.length>2){let l=t.pop();n+=`one of ${t.join(", ")}, or ${l}.`}else t.length===2?n+=`one of ${t[0]} or ${t[1]}.`:n+=`${t[0]}.`;throw TypeError(n)}}function he(e,t,...n){switch(t){case"A128GCM":case"A192GCM":case"A256GCM":{if(!Ee(e.algorithm,"AES-GCM"))throw L("AES-GCM");let l=parseInt(t.slice(1,4),10);if(e.algorithm.length!==l)throw L(l,"algorithm.length");break}case"A128KW":case"A192KW":case"A256KW":{if(!Ee(e.algorithm,"AES-KW"))throw L("AES-KW");let l=parseInt(t.slice(1,4),10);if(e.algorithm.length!==l)throw L(l,"algorithm.length");break}case"ECDH":switch(e.algorithm.name){case"ECDH":case"X25519":case"X448":break;default:throw L("ECDH, X25519, or X448")}break;case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":if(!Ee(e.algorithm,"PBKDF2"))throw L("PBKDF2");break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":{if(!Ee(e.algorithm,"RSA-OAEP"))throw L("RSA-OAEP");let l=parseInt(t.slice(9),10)||1;if(ve(e.algorithm.hash)!==l)throw L(`SHA-${l}`,"algorithm.hash");break}default:throw TypeError("CryptoKey does not support this operation")}xe(e,n)}function We(e,t,...n){if(n.length>2){let l=n.pop();e+=`one of type ${n.join(", ")}, or ${l}.`}else n.length===2?e+=`one of type ${n[0]} or ${n[1]}.`:e+=`of type ${n[0]}.`;return t==null?e+=` Received ${t}`:typeof t=="function"&&t.name?e+=` Received function ${t.name}`:typeof t=="object"&&t!=null&&t.constructor&&t.constructor.name&&(e+=` Received an instance of ${t.constructor.name}`),e}let _e=(e,...t)=>We("Key must be ",e,...t);function $e(e,t,...n){return We(`Key for the ${e} algorithm must be `,t,...n)}let pe=["CryptoKey"];async function je(e,t,n,l,x,T){let O,k;if(!(t instanceof Uint8Array))throw TypeError(_e(t,"Uint8Array"));let z=parseInt(e.slice(1,4),10),D=await A.subtle.importKey("raw",t.subarray(z>>3),"AES-CBC",!1,["decrypt"]),Y=await A.subtle.importKey("raw",t.subarray(0,z>>3),{hash:`SHA-${z<<1}`,name:"HMAC"},!1,["sign"]),Z=i(T,l,n,_(T.length<<3)),ce=new Uint8Array((await A.subtle.sign("HMAC",Y,Z)).slice(0,z>>3));try{O=((ie,ae)=>{if(!(ie instanceof Uint8Array))throw TypeError("First argument must be a buffer");if(!(ae instanceof Uint8Array))throw TypeError("Second argument must be a buffer");if(ie.length!==ae.length)throw TypeError("Input buffers must have the same length");let Ce=ie.length,Qe=0,rt=-1;for(;++rt<Ce;)Qe|=ie[rt]^ae[rt];return Qe===0})(x,ce)}catch{}if(!O)throw new F;try{k=new Uint8Array(await A.subtle.decrypt({iv:l,name:"AES-CBC"},D,n))}catch{}if(!k)throw new F;return k}async function Ie(e,t,n,l,x,T){let O;t instanceof Uint8Array?O=await A.subtle.importKey("raw",t,"AES-GCM",!1,["decrypt"]):(he(t,e,"decrypt"),O=t);try{return new Uint8Array(await A.subtle.decrypt({additionalData:T,iv:l,name:"AES-GCM",tagLength:128},O,i(n,x)))}catch{throw new F}}let He=async(e,t,n,l,x,T)=>{if(!(t instanceof CryptoKey)&&!(t instanceof Uint8Array))throw TypeError(_e(t,...pe,"Uint8Array"));switch(j(e,l),e){case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return t instanceof Uint8Array&&B(t,parseInt(e.slice(-3),10)),je(e,t,n,l,x,T);case"A128GCM":case"A192GCM":case"A256GCM":return t instanceof Uint8Array&&B(t,parseInt(e.slice(1,4),10)),Ie(e,t,n,l,x,T);default:throw new N("Unsupported JWE Content Encryption Algorithm")}},et=async()=>{throw new N('JWE "zip" (Compression Algorithm) Header Parameter is not supported by your javascript runtime. You need to use the `inflateRaw` decrypt option to provide Inflate Raw implementation.')},Ve=async()=>{throw new N('JWE "zip" (Compression Algorithm) Header Parameter is not supported by your javascript runtime. You need to use the `deflateRaw` encrypt option to provide Deflate Raw implementation.')},Re=(...e)=>{let t,n=e.filter(Boolean);if(n.length===0||n.length===1)return!0;for(let l of n){let x=Object.keys(l);if(!t||t.size===0){t=new Set(x);continue}for(let T of x){if(t.has(T))return!1;t.add(T)}}return!0};function we(e){if(typeof e!="object"||e===null||Object.prototype.toString.call(e)!=="[object Object]")return!1;if(Object.getPrototypeOf(e)===null)return!0;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}let Ne=[{hash:"SHA-256",name:"HMAC"},!0,["sign"]];function ke(e,t){if(e.algorithm.length!==parseInt(t.slice(1,4),10))throw TypeError(`Invalid key size for alg: ${t}`)}function Ge(e,t,n){if(e instanceof CryptoKey)return he(e,t,n),e;if(e instanceof Uint8Array)return A.subtle.importKey("raw",e,"AES-KW",!0,[n]);throw TypeError(_e(e,...pe,"Uint8Array"))}let Fe=async(e,t,n)=>{let l=await Ge(t,e,"wrapKey");ke(l,e);let x=await A.subtle.importKey("raw",n,...Ne);return new Uint8Array(await A.subtle.wrapKey("raw",x,l,"AES-KW"))},de=async(e,t,n)=>{let l=await Ge(t,e,"unwrapKey");ke(l,e);let x=await A.subtle.unwrapKey("raw",n,l,"AES-KW",...Ne);return new Uint8Array(await A.subtle.exportKey("raw",x))};async function fe(e,t,n,l,x=new Uint8Array(0),T=new Uint8Array(0)){let O;if(!(e instanceof CryptoKey))throw TypeError(_e(e,...pe));if(he(e,"ECDH"),!(t instanceof CryptoKey))throw TypeError(_e(t,...pe));he(t,"ECDH","deriveBits");let k=i(o(d.encode(n)),o(x),o(T),m(l));return O=e.algorithm.name==="X25519"?256:e.algorithm.name==="X448"?448:Math.ceil(parseInt(e.algorithm.namedCurve.substr(-3),10)/8)<<3,c(new Uint8Array(await A.subtle.deriveBits({name:e.algorithm.name,public:e},t,O)),l,k)}async function le(e){if(!(e instanceof CryptoKey))throw TypeError(_e(e,...pe));return A.subtle.generateKey(e.algorithm,!0,["deriveBits"])}function be(e){if(!(e instanceof CryptoKey))throw TypeError(_e(e,...pe));return["P-256","P-384","P-521"].includes(e.algorithm.namedCurve)||e.algorithm.name==="X25519"||e.algorithm.name==="X448"}async function De(e,t,n,l){if(!(e instanceof Uint8Array)||e.length<8)throw new W("PBES2 Salt Input must be 8 or more octets");let x=i(d.encode(t),new Uint8Array([0]),e),T=parseInt(t.slice(13,16),10),O={hash:`SHA-${t.slice(8,11)}`,iterations:n,name:"PBKDF2",salt:x},k=await function(z,D){if(z instanceof Uint8Array)return A.subtle.importKey("raw",z,"PBKDF2",!1,["deriveBits"]);if(z instanceof CryptoKey)return he(z,D,"deriveBits","deriveKey"),z;throw TypeError(_e(z,...pe,"Uint8Array"))}(l,t);if(k.usages.includes("deriveBits"))return new Uint8Array(await A.subtle.deriveBits(O,k,T));if(k.usages.includes("deriveKey"))return A.subtle.deriveKey(O,k,{length:T,name:"AES-KW"},!1,["wrapKey","unwrapKey"]);throw TypeError('PBKDF2 key "usages" must include "deriveBits" or "deriveKey"')}let ge=async(e,t,n,l=2048,x=$(new Uint8Array(16)))=>{let T=await De(x,e,l,t);return{encryptedKey:await Fe(e.slice(-6),T,n),p2c:l,p2s:u(x)}},Je=async(e,t,n,l,x)=>{let T=await De(x,e,l,t);return de(e.slice(-6),T,n)};function se(e){switch(e){case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":return"RSA-OAEP";default:throw new N(`alg ${e} is not supported either by JOSE or your javascript runtime`)}}let Te=(e,t)=>{if(e.startsWith("RS")||e.startsWith("PS")){let{modulusLength:n}=t.algorithm;if(typeof n!="number"||n<2048)throw TypeError(`${e} requires key modulusLength to be 2048 bits or larger`)}},ut=async(e,t,n)=>{if(!(t instanceof CryptoKey))throw TypeError(_e(t,...pe));if(he(t,e,"encrypt","wrapKey"),Te(e,t),t.usages.includes("encrypt"))return new Uint8Array(await A.subtle.encrypt(se(e),t,n));if(t.usages.includes("wrapKey")){let l=await A.subtle.importKey("raw",n,...Ne);return new Uint8Array(await A.subtle.wrapKey("raw",l,t,se(e)))}throw TypeError('RSA-OAEP key "usages" must include "encrypt" or "wrapKey" for this operation')},wt=async(e,t,n)=>{if(!(t instanceof CryptoKey))throw TypeError(_e(t,...pe));if(he(t,e,"decrypt","unwrapKey"),Te(e,t),t.usages.includes("decrypt"))return new Uint8Array(await A.subtle.decrypt(se(e),t,n));if(t.usages.includes("unwrapKey")){let l=await A.subtle.unwrapKey("raw",n,t,se(e),...Ne);return new Uint8Array(await A.subtle.exportKey("raw",l))}throw TypeError('RSA-OAEP key "usages" must include "decrypt" or "unwrapKey" for this operation')};function Nt(e){switch(e){case"A128GCM":return 128;case"A192GCM":return 192;case"A256GCM":case"A128CBC-HS256":return 256;case"A192CBC-HS384":return 384;case"A256CBC-HS512":return 512;default:throw new N(`Unsupported JWE Algorithm: ${e}`)}}let Xe=e=>$(new Uint8Array(Nt(e)>>3)),Ht=(e,t)=>{let n=(e.match(/.{1,64}/g)||[]).join(`
`);return`-----BEGIN ${t}-----
${n}
-----END ${t}-----`},Yt=async(e,t,n)=>{if(!(n instanceof CryptoKey))throw TypeError(_e(n,...pe));if(!n.extractable)throw TypeError("CryptoKey is not extractable");if(n.type!==e)throw TypeError(`key is not a ${e} key`);return Ht(w(new Uint8Array(await A.subtle.exportKey(t,n))),`${e.toUpperCase()} KEY`)},ze=(e,t,n=0)=>{n===0&&(t.unshift(t.length),t.unshift(6));let l=e.indexOf(t[0],n);if(l===-1)return!1;let x=e.subarray(l,l+t.length);return x.length===t.length&&(x.every((T,O)=>T===t[O])||ze(e,t,l+1))},Me=e=>{switch(!0){case ze(e,[42,134,72,206,61,3,1,7]):return"P-256";case ze(e,[43,129,4,0,34]):return"P-384";case ze(e,[43,129,4,0,35]):return"P-521";case ze(e,[43,101,110]):return"X25519";case ze(e,[43,101,111]):return"X448";case ze(e,[43,101,112]):return"Ed25519";case ze(e,[43,101,113]):return"Ed448";default:throw new N("Invalid or unsupported EC Key Curve or OKP Key Sub Type")}},Mt=async(e,t,n,l,x)=>{var T;let O,k,z=new Uint8Array(atob(n.replace(e,"")).split("").map(Y=>Y.charCodeAt(0))),D=t==="spki";switch(l){case"PS256":case"PS384":case"PS512":O={name:"RSA-PSS",hash:`SHA-${l.slice(-3)}`},k=D?["verify"]:["sign"];break;case"RS256":case"RS384":case"RS512":O={name:"RSASSA-PKCS1-v1_5",hash:`SHA-${l.slice(-3)}`},k=D?["verify"]:["sign"];break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":O={name:"RSA-OAEP",hash:`SHA-${parseInt(l.slice(-3),10)||1}`},k=D?["encrypt","wrapKey"]:["decrypt","unwrapKey"];break;case"ES256":O={name:"ECDSA",namedCurve:"P-256"},k=D?["verify"]:["sign"];break;case"ES384":O={name:"ECDSA",namedCurve:"P-384"},k=D?["verify"]:["sign"];break;case"ES512":O={name:"ECDSA",namedCurve:"P-521"},k=D?["verify"]:["sign"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{let Y=Me(z);O=Y.startsWith("P-")?{name:"ECDH",namedCurve:Y}:{name:Y},k=D?[]:["deriveBits"];break}case"EdDSA":O={name:Me(z)},k=D?["verify"]:["sign"];break;default:throw new N('Invalid or unsupported "alg" (Algorithm) value')}return A.subtle.importKey(t,z,O,(T=x?.extractable)!=null&&T,k)},nt=(e,t,n)=>Mt(/(?:-----(?:BEGIN|END) PUBLIC KEY-----|\s)/g,"spki",e,t,n);function Qt(e){let t=[],n=0;for(;n<e.length;){let l=xr(e.subarray(n));t.push(l),n+=l.byteLength}return t}function xr(e){let t=0,n=31&e[0];if(t++,n===31){for(n=0;e[t]>=128;)n=128*n+e[t]-128,t++;n=128*n+e[t]-128,t++}let l=0;if(e[t]<128)l=e[t],t++;else if(l===128){for(l=0;e[t+l]!==0||e[t+l+1]!==0;){if(l>e.byteLength)throw TypeError("invalid indefinite form length");l++}let T=t+l+2;return{byteLength:T,contents:e.subarray(t,t+l),raw:e.subarray(0,T)}}else{let T=127&e[t];t++,l=0;for(let O=0;O<T;O++)l=256*l+e[t],t++}let x=t+l;return{byteLength:x,contents:e.subarray(t,x),raw:e.subarray(0,x)}}let Zt=async e=>{var t,n;if(!e.alg)throw TypeError('"alg" argument is required when "jwk.alg" is not present');let{algorithm:l,keyUsages:x}=function(k){let z,D;switch(k.kty){case"oct":switch(k.alg){case"HS256":case"HS384":case"HS512":z={name:"HMAC",hash:`SHA-${k.alg.slice(-3)}`},D=["sign","verify"];break;case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":throw new N(`${k.alg} keys cannot be imported as CryptoKey instances`);case"A128GCM":case"A192GCM":case"A256GCM":case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":z={name:"AES-GCM"},D=["encrypt","decrypt"];break;case"A128KW":case"A192KW":case"A256KW":z={name:"AES-KW"},D=["wrapKey","unwrapKey"];break;case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":z={name:"PBKDF2"},D=["deriveBits"];break;default:throw new N('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break;case"RSA":switch(k.alg){case"PS256":case"PS384":case"PS512":z={name:"RSA-PSS",hash:`SHA-${k.alg.slice(-3)}`},D=k.d?["sign"]:["verify"];break;case"RS256":case"RS384":case"RS512":z={name:"RSASSA-PKCS1-v1_5",hash:`SHA-${k.alg.slice(-3)}`},D=k.d?["sign"]:["verify"];break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":z={name:"RSA-OAEP",hash:`SHA-${parseInt(k.alg.slice(-3),10)||1}`},D=k.d?["decrypt","unwrapKey"]:["encrypt","wrapKey"];break;default:throw new N('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break;case"EC":switch(k.alg){case"ES256":z={name:"ECDSA",namedCurve:"P-256"},D=k.d?["sign"]:["verify"];break;case"ES384":z={name:"ECDSA",namedCurve:"P-384"},D=k.d?["sign"]:["verify"];break;case"ES512":z={name:"ECDSA",namedCurve:"P-521"},D=k.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":z={name:"ECDH",namedCurve:k.crv},D=k.d?["deriveBits"]:[];break;default:throw new N('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break;case"OKP":switch(k.alg){case"EdDSA":z={name:k.crv},D=k.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":z={name:k.crv},D=k.d?["deriveBits"]:[];break;default:throw new N('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break;default:throw new N('Invalid or unsupported JWK "kty" (Key Type) Parameter value')}return{algorithm:z,keyUsages:D}}(e),T=[l,(t=e.ext)!=null&&t,(n=e.key_ops)!=null?n:x];if(l.name==="PBKDF2")return A.subtle.importKey("raw",f(e.k),...T);let O={...e};return delete O.alg,delete O.use,A.subtle.importKey("jwk",O,...T)};async function Cr(e,t,n){if(typeof e!="string"||e.indexOf("-----BEGIN PUBLIC KEY-----")!==0)throw TypeError('"spki" must be SPKI formatted string');return nt(e,t,n)}async function Dt(e,t,n){let l;if(typeof e!="string"||e.indexOf("-----BEGIN CERTIFICATE-----")!==0)throw TypeError('"x509" must be X.509 formatted string');try{l=Ht(function(x){let T=Qt(Qt(xr(x).contents)[0].contents);return w(T[T[0].raw[0]===160?6:5].raw)}(v(e.replace(/(?:-----(?:BEGIN|END) CERTIFICATE-----|\s)/g,""))),"PUBLIC KEY")}catch(x){throw TypeError("Failed to parse the X.509 certificate",{cause:x})}return nt(l,t,n)}async function vt(e,t,n){if(typeof e!="string"||e.indexOf("-----BEGIN PRIVATE KEY-----")!==0)throw TypeError('"pkcs8" must be PKCS#8 formatted string');return Mt(/(?:-----(?:BEGIN|END) PRIVATE KEY-----|\s)/g,"pkcs8",e,t,n)}async function it(e,t,n){var l;if(!we(e))throw TypeError("JWK must be an object");switch(t||(t=e.alg),e.kty){case"oct":if(typeof e.k!="string"||!e.k)throw TypeError('missing "k" (Key Value) Parameter value');return n!=null||(n=e.ext!==!0),n?Zt({...e,alg:t,ext:(l=e.ext)!=null&&l}):f(e.k);case"RSA":if(e.oth!==void 0)throw new N('RSA JWK "oth" (Other Primes Info) Parameter value is not supported');case"EC":case"OKP":return Zt({...e,alg:t});default:throw new N('Unsupported "kty" (Key Type) Parameter value')}}let bt=(e,t,n)=>{e.startsWith("HS")||e==="dir"||e.startsWith("PBES2")||/^A\d{3}(?:GCM)?KW$/.test(e)?((l,x)=>{if(!(x instanceof Uint8Array)){if(!(x instanceof CryptoKey))throw TypeError($e(l,x,...pe,"Uint8Array"));if(x.type!=="secret")throw TypeError(`${pe.join(" or ")} instances for symmetric algorithms must be of type "secret"`)}})(e,t):((l,x,T)=>{if(!(x instanceof CryptoKey))throw TypeError($e(l,x,...pe));if(x.type==="secret")throw TypeError(`${pe.join(" or ")} instances for asymmetric algorithms must not be of type "secret"`);if(T==="sign"&&x.type==="public")throw TypeError(`${pe.join(" or ")} instances for asymmetric algorithm signing must be of type "private"`);if(T==="decrypt"&&x.type==="public")throw TypeError(`${pe.join(" or ")} instances for asymmetric algorithm decryption must be of type "private"`);if(x.algorithm&&T==="verify"&&x.type==="private")throw TypeError(`${pe.join(" or ")} instances for asymmetric algorithm verifying must be of type "public"`);if(x.algorithm&&T==="encrypt"&&x.type==="private")throw TypeError(`${pe.join(" or ")} instances for asymmetric algorithm encryption must be of type "public"`)})(e,t,n)};async function Ar(e,t,n,l,x){if(!(n instanceof Uint8Array))throw TypeError(_e(n,"Uint8Array"));let T=parseInt(e.slice(1,4),10),O=await A.subtle.importKey("raw",n.subarray(T>>3),"AES-CBC",!1,["encrypt"]),k=await A.subtle.importKey("raw",n.subarray(0,T>>3),{hash:`SHA-${T<<1}`,name:"HMAC"},!1,["sign"]),z=new Uint8Array(await A.subtle.encrypt({iv:l,name:"AES-CBC"},O,t)),D=i(x,l,z,_(x.length<<3));return{ciphertext:z,tag:new Uint8Array((await A.subtle.sign("HMAC",k,D)).slice(0,T>>3))}}async function Pr(e,t,n,l,x){let T;n instanceof Uint8Array?T=await A.subtle.importKey("raw",n,"AES-GCM",!1,["encrypt"]):(he(n,e,"encrypt"),T=n);let O=new Uint8Array(await A.subtle.encrypt({additionalData:x,iv:l,name:"AES-GCM",tagLength:128},T,t)),k=O.slice(-16);return{ciphertext:O.slice(0,-16),tag:k}}let Et=async(e,t,n,l,x)=>{if(!(n instanceof CryptoKey)&&!(n instanceof Uint8Array))throw TypeError(_e(n,...pe,"Uint8Array"));switch(j(e,l),e){case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return n instanceof Uint8Array&&B(n,parseInt(e.slice(-3),10)),Ar(e,t,n,l,x);case"A128GCM":case"A192GCM":case"A256GCM":return n instanceof Uint8Array&&B(n,parseInt(e.slice(1,4),10)),Pr(e,t,n,l,x);default:throw new N("Unsupported JWE Content Encryption Algorithm")}};async function _t(e,t,n,l){let x=e.slice(0,7);l||(l=I(x));let{ciphertext:T,tag:O}=await Et(x,n,t,l,new Uint8Array(0));return{encryptedKey:T,iv:u(l),tag:u(O)}}async function Rr(e,t,n,l,x){return He(e.slice(0,7),t,n,l,x,new Uint8Array(0))}async function er(e,t,n,l,x){switch(bt(e,t,"decrypt"),e){case"dir":if(n!==void 0)throw new W("Encountered unexpected JWE Encrypted Key");return t;case"ECDH-ES":if(n!==void 0)throw new W("Encountered unexpected JWE Encrypted Key");case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{let T,O;if(!we(l.epk))throw new W('JOSE Header "epk" (Ephemeral Public Key) missing or invalid');if(!be(t))throw new N("ECDH with the provided key is not allowed or not supported by your javascript runtime");let k=await it(l.epk,e);if(l.apu!==void 0){if(typeof l.apu!="string")throw new W('JOSE Header "apu" (Agreement PartyUInfo) invalid');try{T=f(l.apu)}catch{throw new W("Failed to base64url decode the apu")}}if(l.apv!==void 0){if(typeof l.apv!="string")throw new W('JOSE Header "apv" (Agreement PartyVInfo) invalid');try{O=f(l.apv)}catch{throw new W("Failed to base64url decode the apv")}}let z=await fe(k,t,e==="ECDH-ES"?l.enc:e,e==="ECDH-ES"?Nt(l.enc):parseInt(e.slice(-5,-2),10),T,O);if(e==="ECDH-ES")return z;if(n===void 0)throw new W("JWE Encrypted Key missing");return de(e.slice(-6),z,n)}case"RSA1_5":case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":if(n===void 0)throw new W("JWE Encrypted Key missing");return wt(e,t,n);case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":{let T;if(n===void 0)throw new W("JWE Encrypted Key missing");if(typeof l.p2c!="number")throw new W('JOSE Header "p2c" (PBES2 Count) missing or invalid');let O=x?.maxPBES2Count||1e4;if(l.p2c>O)throw new W('JOSE Header "p2c" (PBES2 Count) out is of acceptable bounds');if(typeof l.p2s!="string")throw new W('JOSE Header "p2s" (PBES2 Salt) missing or invalid');try{T=f(l.p2s)}catch{throw new W("Failed to base64url decode the p2s")}return Je(e,t,n,l.p2c,T)}case"A128KW":case"A192KW":case"A256KW":if(n===void 0)throw new W("JWE Encrypted Key missing");return de(e,t,n);case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":{let T,O;if(n===void 0)throw new W("JWE Encrypted Key missing");if(typeof l.iv!="string")throw new W('JOSE Header "iv" (Initialization Vector) missing or invalid');if(typeof l.tag!="string")throw new W('JOSE Header "tag" (Authentication Tag) missing or invalid');try{T=f(l.iv)}catch{throw new W("Failed to base64url decode the iv")}try{O=f(l.tag)}catch{throw new W("Failed to base64url decode the tag")}return Rr(e,t,n,T,O)}default:throw new N('Invalid or unsupported "alg" (JWE Algorithm) header value')}}let at=function(e,t,n,l,x){let T;if(x.crit!==void 0&&l.crit===void 0)throw new e('"crit" (Critical) Header Parameter MUST be integrity protected');if(!l||l.crit===void 0)return new Set;if(!Array.isArray(l.crit)||l.crit.length===0||l.crit.some(O=>typeof O!="string"||O.length===0))throw new e('"crit" (Critical) Header Parameter MUST be an array of non-empty strings when present');for(let O of(T=n!==void 0?new Map([...Object.entries(n),...t.entries()]):t,l.crit)){if(!T.has(O))throw new N(`Extension Header Parameter "${O}" is not recognized`);if(x[O]===void 0)throw new e(`Extension Header Parameter "${O}" is missing`);if(T.get(O)&&l[O]===void 0)throw new e(`Extension Header Parameter "${O}" MUST be integrity protected`)}return new Set(l.crit)},Ut=(e,t)=>{if(t!==void 0&&(!Array.isArray(t)||t.some(n=>typeof n!="string")))throw TypeError(`"${e}" option must be an array of strings`);if(t)return new Set(t)};async function Lt(e,t,n){var l;let x,T,O,k,z,D,Y;if(!we(e))throw new W("Flattened JWE must be an object");if(e.protected===void 0&&e.header===void 0&&e.unprotected===void 0)throw new W("JOSE Header missing");if(typeof e.iv!="string")throw new W("JWE Initialization Vector missing or incorrect type");if(typeof e.ciphertext!="string")throw new W("JWE Ciphertext missing or incorrect type");if(typeof e.tag!="string")throw new W("JWE Authentication Tag missing or incorrect type");if(e.protected!==void 0&&typeof e.protected!="string")throw new W("JWE Protected Header incorrect type");if(e.encrypted_key!==void 0&&typeof e.encrypted_key!="string")throw new W("JWE Encrypted Key incorrect type");if(e.aad!==void 0&&typeof e.aad!="string")throw new W("JWE AAD incorrect type");if(e.header!==void 0&&!we(e.header))throw new W("JWE Shared Unprotected Header incorrect type");if(e.unprotected!==void 0&&!we(e.unprotected))throw new W("JWE Per-Recipient Unprotected Header incorrect type");if(e.protected)try{let Ke=f(e.protected);x=JSON.parse(r.decode(Ke))}catch{throw new W("JWE Protected Header is invalid")}if(!Re(x,e.header,e.unprotected))throw new W("JWE Protected, JWE Unprotected Header, and JWE Per-Recipient Unprotected Header Parameter names must be disjoint");let Z={...x,...e.header,...e.unprotected};if(at(W,new Map,n?.crit,x,Z),Z.zip!==void 0){if(!x||!x.zip)throw new W('JWE "zip" (Compression Algorithm) Header MUST be integrity protected');if(Z.zip!=="DEF")throw new N('Unsupported JWE "zip" (Compression Algorithm) Header Parameter value')}let{alg:ce,enc:ie}=Z;if(typeof ce!="string"||!ce)throw new W("missing JWE Algorithm (alg) in JWE Header");if(typeof ie!="string"||!ie)throw new W("missing JWE Encryption Algorithm (enc) in JWE Header");let ae=n&&Ut("keyManagementAlgorithms",n.keyManagementAlgorithms),Ce=n&&Ut("contentEncryptionAlgorithms",n.contentEncryptionAlgorithms);if(ae&&!ae.has(ce))throw new V('"alg" (Algorithm) Header Parameter not allowed');if(Ce&&!Ce.has(ie))throw new V('"enc" (Encryption Algorithm) Header Parameter not allowed');if(e.encrypted_key!==void 0)try{T=f(e.encrypted_key)}catch{throw new W("Failed to base64url decode the encrypted_key")}let Qe=!1;typeof t=="function"&&(t=await t(x,e),Qe=!0);try{O=await er(ce,t,T,Z,n)}catch(Ke){if(Ke instanceof TypeError||Ke instanceof W||Ke instanceof N)throw Ke;O=Xe(ie)}try{k=f(e.iv)}catch{throw new W("Failed to base64url decode the iv")}try{z=f(e.tag)}catch{throw new W("Failed to base64url decode the tag")}let rt=d.encode((l=e.protected)!=null?l:"");D=e.aad!==void 0?i(rt,d.encode("."),d.encode(e.aad)):rt;try{Y=f(e.ciphertext)}catch{throw new W("Failed to base64url decode the ciphertext")}let Pt=await He(ie,O,Y,k,z,D);Z.zip==="DEF"&&(Pt=await(n?.inflateRaw||et)(Pt));let ot={plaintext:Pt};if(e.protected!==void 0&&(ot.protectedHeader=x),e.aad!==void 0)try{ot.additionalAuthenticatedData=f(e.aad)}catch{throw new W("Failed to base64url decode the aad")}return e.unprotected!==void 0&&(ot.sharedUnprotectedHeader=e.unprotected),e.header!==void 0&&(ot.unprotectedHeader=e.header),Qe?{...ot,key:t}:ot}async function jt(e,t,n){if(e instanceof Uint8Array&&(e=r.decode(e)),typeof e!="string")throw new W("Compact JWE must be a string or Uint8Array");let{0:l,1:x,2:T,3:O,4:k,length:z}=e.split(".");if(z!==5)throw new W("Invalid Compact JWE");let D=await Lt({ciphertext:O,iv:T||void 0,protected:l||void 0,tag:k||void 0,encrypted_key:x||void 0},t,n),Y={plaintext:D.plaintext,protectedHeader:D.protectedHeader};return typeof t=="function"?{...Y,key:D.key}:Y}async function Tr(e,t,n){if(!we(e))throw new W("General JWE must be an object");if(!Array.isArray(e.recipients)||!e.recipients.every(we))throw new W("JWE Recipients missing or incorrect type");if(!e.recipients.length)throw new W("JWE Recipients has no members");for(let l of e.recipients)try{return await Lt({aad:e.aad,ciphertext:e.ciphertext,encrypted_key:l.encrypted_key,header:l.header,iv:e.iv,protected:e.protected,tag:e.tag,unprotected:e.unprotected},t,n)}catch{}throw new F}let tr=async e=>{if(e instanceof Uint8Array)return{kty:"oct",k:u(e)};if(!(e instanceof CryptoKey))throw TypeError(_e(e,...pe,"Uint8Array"));if(!e.extractable)throw TypeError("non-extractable CryptoKey cannot be exported as a JWK");let{ext:t,key_ops:n,alg:l,use:x,...T}=await A.subtle.exportKey("jwk",e);return T};async function rr(e){return Yt("public","spki",e)}async function nr(e){return Yt("private","pkcs8",e)}async function Kt(e){return tr(e)}async function dt(e,t,n,l,x={}){let T,O,k;switch(bt(e,n,"encrypt"),e){case"dir":k=n;break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{if(!be(n))throw new N("ECDH with the provided key is not allowed or not supported by your javascript runtime");let{apu:z,apv:D}=x,{epk:Y}=x;Y||(Y=(await le(n)).privateKey);let{x:Z,y:ce,crv:ie,kty:ae}=await Kt(Y),Ce=await fe(n,Y,e==="ECDH-ES"?t:e,e==="ECDH-ES"?Nt(t):parseInt(e.slice(-5,-2),10),z,D);if(O={epk:{x:Z,crv:ie,kty:ae}},ae==="EC"&&(O.epk.y=ce),z&&(O.apu=u(z)),D&&(O.apv=u(D)),e==="ECDH-ES"){k=Ce;break}k=l||Xe(t);let Qe=e.slice(-6);T=await Fe(Qe,Ce,k);break}case"RSA1_5":case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":k=l||Xe(t),T=await ut(e,n,k);break;case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":{k=l||Xe(t);let{p2c:z,p2s:D}=x;({encryptedKey:T,...O}=await ge(e,n,k,z,D));break}case"A128KW":case"A192KW":case"A256KW":k=l||Xe(t),T=await Fe(e,n,k);break;case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":{k=l||Xe(t);let{iv:z}=x;({encryptedKey:T,...O}=await _t(e,n,k,z));break}default:throw new N('Invalid or unsupported "alg" (JWE Algorithm) header value')}return{cek:k,encryptedKey:T,parameters:O}}let Wt=Symbol();class St{constructor(t){if(!(t instanceof Uint8Array))throw TypeError("plaintext must be an instance of Uint8Array");this._plaintext=t}setKeyManagementParameters(t){if(this._keyManagementParameters)throw TypeError("setKeyManagementParameters can only be called once");return this._keyManagementParameters=t,this}setProtectedHeader(t){if(this._protectedHeader)throw TypeError("setProtectedHeader can only be called once");return this._protectedHeader=t,this}setSharedUnprotectedHeader(t){if(this._sharedUnprotectedHeader)throw TypeError("setSharedUnprotectedHeader can only be called once");return this._sharedUnprotectedHeader=t,this}setUnprotectedHeader(t){if(this._unprotectedHeader)throw TypeError("setUnprotectedHeader can only be called once");return this._unprotectedHeader=t,this}setAdditionalAuthenticatedData(t){return this._aad=t,this}setContentEncryptionKey(t){if(this._cek)throw TypeError("setContentEncryptionKey can only be called once");return this._cek=t,this}setInitializationVector(t){if(this._iv)throw TypeError("setInitializationVector can only be called once");return this._iv=t,this}async encrypt(t,n){let l,x,T,O,k,z,D;if(!this._protectedHeader&&!this._unprotectedHeader&&!this._sharedUnprotectedHeader)throw new W("either setProtectedHeader, setUnprotectedHeader, or sharedUnprotectedHeader must be called before #encrypt()");if(!Re(this._protectedHeader,this._unprotectedHeader,this._sharedUnprotectedHeader))throw new W("JWE Protected, JWE Shared Unprotected and JWE Per-Recipient Header Parameter names must be disjoint");let Y={...this._protectedHeader,...this._unprotectedHeader,...this._sharedUnprotectedHeader};if(at(W,new Map,n?.crit,this._protectedHeader,Y),Y.zip!==void 0){if(!this._protectedHeader||!this._protectedHeader.zip)throw new W('JWE "zip" (Compression Algorithm) Header MUST be integrity protected');if(Y.zip!=="DEF")throw new N('Unsupported JWE "zip" (Compression Algorithm) Header Parameter value')}let{alg:Z,enc:ce}=Y;if(typeof Z!="string"||!Z)throw new W('JWE "alg" (Algorithm) Header Parameter missing or invalid');if(typeof ce!="string"||!ce)throw new W('JWE "enc" (Encryption Algorithm) Header Parameter missing or invalid');if(Z==="dir"){if(this._cek)throw TypeError("setContentEncryptionKey cannot be called when using Direct Encryption")}else if(Z==="ECDH-ES"&&this._cek)throw TypeError("setContentEncryptionKey cannot be called when using Direct Key Agreement");{let ae;({cek:x,encryptedKey:l,parameters:ae}=await dt(Z,ce,t,this._cek,this._keyManagementParameters)),ae&&(n&&Wt in n?this._unprotectedHeader?this._unprotectedHeader={...this._unprotectedHeader,...ae}:this.setUnprotectedHeader(ae):this._protectedHeader?this._protectedHeader={...this._protectedHeader,...ae}:this.setProtectedHeader(ae))}if(this._iv||(this._iv=I(ce)),O=this._protectedHeader?d.encode(u(JSON.stringify(this._protectedHeader))):d.encode(""),this._aad?(k=u(this._aad),T=i(O,d.encode("."),d.encode(k))):T=O,Y.zip==="DEF"){let ae=await(n?.deflateRaw||Ve)(this._plaintext);({ciphertext:z,tag:D}=await Et(ce,ae,x,this._iv,T))}else({ciphertext:z,tag:D}=await Et(ce,this._plaintext,x,this._iv,T));let ie={ciphertext:u(z),iv:u(this._iv),tag:u(D)};return l&&(ie.encrypted_key=u(l)),k&&(ie.aad=k),this._protectedHeader&&(ie.protected=r.decode(O)),this._sharedUnprotectedHeader&&(ie.unprotected=this._sharedUnprotectedHeader),this._unprotectedHeader&&(ie.header=this._unprotectedHeader),ie}}class ir{constructor(t,n,l){this.parent=t,this.key=n,this.options=l}setUnprotectedHeader(t){if(this.unprotectedHeader)throw TypeError("setUnprotectedHeader can only be called once");return this.unprotectedHeader=t,this}addRecipient(...t){return this.parent.addRecipient(...t)}encrypt(...t){return this.parent.encrypt(...t)}done(){return this.parent}}class Or{constructor(t){this._recipients=[],this._plaintext=t}addRecipient(t,n){let l=new ir(this,t,{crit:n?.crit});return this._recipients.push(l),l}setProtectedHeader(t){if(this._protectedHeader)throw TypeError("setProtectedHeader can only be called once");return this._protectedHeader=t,this}setSharedUnprotectedHeader(t){if(this._unprotectedHeader)throw TypeError("setSharedUnprotectedHeader can only be called once");return this._unprotectedHeader=t,this}setAdditionalAuthenticatedData(t){return this._aad=t,this}async encrypt(t){var n,l,x;let T;if(!this._recipients.length)throw new W("at least one recipient must be added");if(t={deflateRaw:t?.deflateRaw},this._recipients.length===1){let[z]=this._recipients,D=await new St(this._plaintext).setAdditionalAuthenticatedData(this._aad).setProtectedHeader(this._protectedHeader).setSharedUnprotectedHeader(this._unprotectedHeader).setUnprotectedHeader(z.unprotectedHeader).encrypt(z.key,{...z.options,...t}),Y={ciphertext:D.ciphertext,iv:D.iv,recipients:[{}],tag:D.tag};return D.aad&&(Y.aad=D.aad),D.protected&&(Y.protected=D.protected),D.unprotected&&(Y.unprotected=D.unprotected),D.encrypted_key&&(Y.recipients[0].encrypted_key=D.encrypted_key),D.header&&(Y.recipients[0].header=D.header),Y}for(let z=0;z<this._recipients.length;z++){let D=this._recipients[z];if(!Re(this._protectedHeader,this._unprotectedHeader,D.unprotectedHeader))throw new W("JWE Protected, JWE Shared Unprotected and JWE Per-Recipient Header Parameter names must be disjoint");let Y={...this._protectedHeader,...this._unprotectedHeader,...D.unprotectedHeader},{alg:Z}=Y;if(typeof Z!="string"||!Z)throw new W('JWE "alg" (Algorithm) Header Parameter missing or invalid');if(Z==="dir"||Z==="ECDH-ES")throw new W('"dir" and "ECDH-ES" alg may only be used with a single recipient');if(typeof Y.enc!="string"||!Y.enc)throw new W('JWE "enc" (Encryption Algorithm) Header Parameter missing or invalid');if(T){if(T!==Y.enc)throw new W('JWE "enc" (Encryption Algorithm) Header Parameter must be the same for all recipients')}else T=Y.enc;if(at(W,new Map,D.options.crit,this._protectedHeader,Y),Y.zip!==void 0&&(!this._protectedHeader||!this._protectedHeader.zip))throw new W('JWE "zip" (Compression Algorithm) Header MUST be integrity protected')}let O=Xe(T),k={ciphertext:"",iv:"",recipients:[],tag:""};for(let z=0;z<this._recipients.length;z++){let D=this._recipients[z],Y={};k.recipients.push(Y);let Z={...this._protectedHeader,...this._unprotectedHeader,...D.unprotectedHeader}.alg.startsWith("PBES2")?2048+z:void 0;if(z===0){let ae=await new St(this._plaintext).setAdditionalAuthenticatedData(this._aad).setContentEncryptionKey(O).setProtectedHeader(this._protectedHeader).setSharedUnprotectedHeader(this._unprotectedHeader).setUnprotectedHeader(D.unprotectedHeader).setKeyManagementParameters({p2c:Z}).encrypt(D.key,{...D.options,...t,[Wt]:!0});k.ciphertext=ae.ciphertext,k.iv=ae.iv,k.tag=ae.tag,ae.aad&&(k.aad=ae.aad),ae.protected&&(k.protected=ae.protected),ae.unprotected&&(k.unprotected=ae.unprotected),Y.encrypted_key=ae.encrypted_key,ae.header&&(Y.header=ae.header);continue}let{encryptedKey:ce,parameters:ie}=await dt(((n=D.unprotectedHeader)==null?void 0:n.alg)||((l=this._protectedHeader)==null?void 0:l.alg)||((x=this._unprotectedHeader)==null?void 0:x.alg),T,D.key,O,{p2c:Z});Y.encrypted_key=u(ce),(D.unprotectedHeader||ie)&&(Y.header={...D.unprotectedHeader,...ie})}return k}}function ar(e,t){let n=`SHA-${e.slice(-3)}`;switch(e){case"HS256":case"HS384":case"HS512":return{hash:n,name:"HMAC"};case"PS256":case"PS384":case"PS512":return{hash:n,name:"RSA-PSS",saltLength:e.slice(-3)>>3};case"RS256":case"RS384":case"RS512":return{hash:n,name:"RSASSA-PKCS1-v1_5"};case"ES256":case"ES384":case"ES512":return{hash:n,name:"ECDSA",namedCurve:t.namedCurve};case"EdDSA":return{name:t.name};default:throw new N(`alg ${e} is not supported either by JOSE or your javascript runtime`)}}function ht(e,t,n){if(t instanceof CryptoKey)return function(l,x,...T){switch(x){case"HS256":case"HS384":case"HS512":{if(!Ee(l.algorithm,"HMAC"))throw L("HMAC");let O=parseInt(x.slice(2),10);if(ve(l.algorithm.hash)!==O)throw L(`SHA-${O}`,"algorithm.hash");break}case"RS256":case"RS384":case"RS512":{if(!Ee(l.algorithm,"RSASSA-PKCS1-v1_5"))throw L("RSASSA-PKCS1-v1_5");let O=parseInt(x.slice(2),10);if(ve(l.algorithm.hash)!==O)throw L(`SHA-${O}`,"algorithm.hash");break}case"PS256":case"PS384":case"PS512":{if(!Ee(l.algorithm,"RSA-PSS"))throw L("RSA-PSS");let O=parseInt(x.slice(2),10);if(ve(l.algorithm.hash)!==O)throw L(`SHA-${O}`,"algorithm.hash");break}case"EdDSA":if(l.algorithm.name!=="Ed25519"&&l.algorithm.name!=="Ed448")throw L("Ed25519 or Ed448");break;case"ES256":case"ES384":case"ES512":{if(!Ee(l.algorithm,"ECDSA"))throw L("ECDSA");let O=function(k){switch(k){case"ES256":return"P-256";case"ES384":return"P-384";case"ES512":return"P-521";default:throw Error("unreachable")}}(x);if(l.algorithm.namedCurve!==O)throw L(O,"algorithm.namedCurve");break}default:throw TypeError("CryptoKey does not support this operation")}xe(l,T)}(t,e,n),t;if(t instanceof Uint8Array){if(!e.startsWith("HS"))throw TypeError(_e(t,...pe));return A.subtle.importKey("raw",t,{hash:`SHA-${e.slice(-3)}`,name:"HMAC"},!1,[n])}throw TypeError(_e(t,...pe,"Uint8Array"))}let or=async(e,t,n,l)=>{let x=await ht(e,t,"verify");Te(e,x);let T=ar(e,x.algorithm);try{return await A.subtle.verify(T,x,n,l)}catch{return!1}};async function Ye(e,t,n){var l;let x,T;if(!we(e))throw new te("Flattened JWS must be an object");if(e.protected===void 0&&e.header===void 0)throw new te('Flattened JWS must have either of the "protected" or "header" members');if(e.protected!==void 0&&typeof e.protected!="string")throw new te("JWS Protected Header incorrect type");if(e.payload===void 0)throw new te("JWS Payload missing");if(typeof e.signature!="string")throw new te("JWS Signature missing or incorrect type");if(e.header!==void 0&&!we(e.header))throw new te("JWS Unprotected Header incorrect type");let O={};if(e.protected)try{let Ce=f(e.protected);O=JSON.parse(r.decode(Ce))}catch{throw new te("JWS Protected Header is invalid")}if(!Re(O,e.header))throw new te("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");let k={...O,...e.header},z=at(te,new Map([["b64",!0]]),n?.crit,O,k),D=!0;if(z.has("b64")&&typeof(D=O.b64)!="boolean")throw new te('The "b64" (base64url-encode payload) Header Parameter must be a boolean');let{alg:Y}=k;if(typeof Y!="string"||!Y)throw new te('JWS "alg" (Algorithm) Header Parameter missing or invalid');let Z=n&&Ut("algorithms",n.algorithms);if(Z&&!Z.has(Y))throw new V('"alg" (Algorithm) Header Parameter not allowed');if(D){if(typeof e.payload!="string")throw new te("JWS Payload must be a string")}else if(typeof e.payload!="string"&&!(e.payload instanceof Uint8Array))throw new te("JWS Payload must be a string or an Uint8Array instance");let ce=!1;typeof t=="function"&&(t=await t(O,e),ce=!0),bt(Y,t,"verify");let ie=i(d.encode((l=e.protected)!=null?l:""),d.encode("."),typeof e.payload=="string"?d.encode(e.payload):e.payload);try{x=f(e.signature)}catch{throw new te("Failed to base64url decode the signature")}if(!await or(Y,t,x,ie))throw new U;if(D)try{T=f(e.payload)}catch{throw new te("Failed to base64url decode the payload")}else T=typeof e.payload=="string"?d.encode(e.payload):e.payload;let ae={payload:T};return e.protected!==void 0&&(ae.protectedHeader=O),e.header!==void 0&&(ae.unprotectedHeader=e.header),ce?{...ae,key:t}:ae}async function $t(e,t,n){if(e instanceof Uint8Array&&(e=r.decode(e)),typeof e!="string")throw new te("Compact JWS must be a string or Uint8Array");let{0:l,1:x,2:T,length:O}=e.split(".");if(O!==3)throw new te("Invalid Compact JWS");let k=await Ye({payload:x,protected:l,signature:T},t,n),z={payload:k.payload,protectedHeader:k.protectedHeader};return typeof t=="function"?{...z,key:k.key}:z}async function kr(e,t,n){if(!we(e))throw new te("General JWS must be an object");if(!Array.isArray(e.signatures)||!e.signatures.every(we))throw new te("JWS Signatures missing or incorrect type");for(let l of e.signatures)try{return await Ye({header:l.header,payload:e.payload,protected:l.protected,signature:l.signature},t,n)}catch{}throw new U}let pt=e=>Math.floor(e.getTime()/1e3),sr=/^(\d+|\d+\.\d+) ?(seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)$/i,xt=e=>{let t=sr.exec(e);if(!t)throw TypeError("Invalid time period format");let n=parseFloat(t[1]);switch(t[2].toLowerCase()){case"sec":case"secs":case"second":case"seconds":case"s":return Math.round(n);case"minute":case"minutes":case"min":case"mins":case"m":return Math.round(60*n);case"hour":case"hours":case"hr":case"hrs":case"h":return Math.round(3600*n);case"day":case"days":case"d":return Math.round(86400*n);case"week":case"weeks":case"w":return Math.round(604800*n);default:return Math.round(31557600*n)}},Jt=e=>e.toLowerCase().replace(/^application\//,""),Bt=(e,t,n={})=>{let l,x,{typ:T}=n;if(T&&(typeof e.typ!="string"||Jt(e.typ)!==Jt(T)))throw new S('unexpected "typ" JWT header value',"typ","check_failed");try{l=JSON.parse(r.decode(t))}catch{}if(!we(l))throw new ye("JWT Claims Set must be a top-level JSON object");let{requiredClaims:O=[],issuer:k,subject:z,audience:D,maxTokenAge:Y}=n;for(let ie of(Y!==void 0&&O.push("iat"),D!==void 0&&O.push("aud"),z!==void 0&&O.push("sub"),k!==void 0&&O.push("iss"),new Set(O.reverse())))if(!(ie in l))throw new S(`missing required "${ie}" claim`,ie,"missing");if(k&&!(Array.isArray(k)?k:[k]).includes(l.iss))throw new S('unexpected "iss" claim value',"iss","check_failed");if(z&&l.sub!==z)throw new S('unexpected "sub" claim value',"sub","check_failed");if(D&&!((ie,ae)=>typeof ie=="string"?ae.includes(ie):!!Array.isArray(ie)&&ae.some(Set.prototype.has.bind(new Set(ie))))(l.aud,typeof D=="string"?[D]:D))throw new S('unexpected "aud" claim value',"aud","check_failed");switch(typeof n.clockTolerance){case"string":x=xt(n.clockTolerance);break;case"number":x=n.clockTolerance;break;case"undefined":x=0;break;default:throw TypeError("Invalid clockTolerance option type")}let{currentDate:Z}=n,ce=pt(Z||new Date);if((l.iat!==void 0||Y)&&typeof l.iat!="number")throw new S('"iat" claim must be a number',"iat","invalid");if(l.nbf!==void 0){if(typeof l.nbf!="number")throw new S('"nbf" claim must be a number',"nbf","invalid");if(l.nbf>ce+x)throw new S('"nbf" claim timestamp check failed',"nbf","check_failed")}if(l.exp!==void 0){if(typeof l.exp!="number")throw new S('"exp" claim must be a number',"exp","invalid");if(l.exp<=ce-x)throw new K('"exp" claim timestamp check failed',"exp","check_failed")}if(Y){let ie=ce-l.iat;if(ie-x>(typeof Y=="number"?Y:xt(Y)))throw new K('"iat" claim timestamp check failed (too far in the past)',"iat","check_failed");if(ie<0-x)throw new S('"iat" claim timestamp check failed (it should be in the past)',"iat","check_failed")}return l};async function Ir(e,t,n){var l;let x=await $t(e,t,n);if((l=x.protectedHeader.crit)!=null&&l.includes("b64")&&x.protectedHeader.b64===!1)throw new ye("JWTs MUST NOT use unencoded payload");let T={payload:Bt(x.protectedHeader,x.payload,n),protectedHeader:x.protectedHeader};return typeof t=="function"?{...T,key:x.key}:T}async function Nr(e,t,n){let l=await jt(e,t,n),x=Bt(l.protectedHeader,l.plaintext,n),{protectedHeader:T}=l;if(T.iss!==void 0&&T.iss!==x.iss)throw new S('replicated "iss" claim header parameter mismatch',"iss","mismatch");if(T.sub!==void 0&&T.sub!==x.sub)throw new S('replicated "sub" claim header parameter mismatch',"sub","mismatch");if(T.aud!==void 0&&JSON.stringify(T.aud)!==JSON.stringify(x.aud))throw new S('replicated "aud" claim header parameter mismatch',"aud","mismatch");let O={payload:x,protectedHeader:T};return typeof t=="function"?{...O,key:l.key}:O}class lr{constructor(t){this._flattened=new St(t)}setContentEncryptionKey(t){return this._flattened.setContentEncryptionKey(t),this}setInitializationVector(t){return this._flattened.setInitializationVector(t),this}setProtectedHeader(t){return this._flattened.setProtectedHeader(t),this}setKeyManagementParameters(t){return this._flattened.setKeyManagementParameters(t),this}async encrypt(t,n){let l=await this._flattened.encrypt(t,n);return[l.protected,l.encrypted_key,l.iv,l.ciphertext,l.tag].join(".")}}let Vt=async(e,t,n)=>{let l=await ht(e,t,"sign");return Te(e,l),new Uint8Array(await A.subtle.sign(ar(e,l.algorithm),l,n))};class Ct{constructor(t){if(!(t instanceof Uint8Array))throw TypeError("payload must be an instance of Uint8Array");this._payload=t}setProtectedHeader(t){if(this._protectedHeader)throw TypeError("setProtectedHeader can only be called once");return this._protectedHeader=t,this}setUnprotectedHeader(t){if(this._unprotectedHeader)throw TypeError("setUnprotectedHeader can only be called once");return this._unprotectedHeader=t,this}async sign(t,n){let l;if(!this._protectedHeader&&!this._unprotectedHeader)throw new te("either setProtectedHeader or setUnprotectedHeader must be called before #sign()");if(!Re(this._protectedHeader,this._unprotectedHeader))throw new te("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");let x={...this._protectedHeader,...this._unprotectedHeader},T=at(te,new Map([["b64",!0]]),n?.crit,this._protectedHeader,x),O=!0;if(T.has("b64")&&typeof(O=this._protectedHeader.b64)!="boolean")throw new te('The "b64" (base64url-encode payload) Header Parameter must be a boolean');let{alg:k}=x;if(typeof k!="string"||!k)throw new te('JWS "alg" (Algorithm) Header Parameter missing or invalid');bt(k,t,"sign");let z=this._payload;O&&(z=d.encode(u(z)));let D=i(l=this._protectedHeader?d.encode(u(JSON.stringify(this._protectedHeader))):d.encode(""),d.encode("."),z),Y={signature:u(await Vt(k,t,D)),payload:""};return O&&(Y.payload=r.decode(z)),this._unprotectedHeader&&(Y.header=this._unprotectedHeader),this._protectedHeader&&(Y.protected=r.decode(l)),Y}}class cr{constructor(t){this._flattened=new Ct(t)}setProtectedHeader(t){return this._flattened.setProtectedHeader(t),this}async sign(t,n){let l=await this._flattened.sign(t,n);if(l.payload===void 0)throw TypeError("use the flattened module for creating JWS with b64: false");return`${l.protected}.${l.payload}.${l.signature}`}}class Hr{constructor(t,n,l){this.parent=t,this.key=n,this.options=l}setProtectedHeader(t){if(this.protectedHeader)throw TypeError("setProtectedHeader can only be called once");return this.protectedHeader=t,this}setUnprotectedHeader(t){if(this.unprotectedHeader)throw TypeError("setUnprotectedHeader can only be called once");return this.unprotectedHeader=t,this}addSignature(...t){return this.parent.addSignature(...t)}sign(...t){return this.parent.sign(...t)}done(){return this.parent}}class ft{constructor(t){this._signatures=[],this._payload=t}addSignature(t,n){let l=new Hr(this,t,n);return this._signatures.push(l),l}async sign(){if(!this._signatures.length)throw new te("at least one signature must be added");let t={signatures:[],payload:""};for(let n=0;n<this._signatures.length;n++){let l=this._signatures[n],x=new Ct(this._payload);x.setProtectedHeader(l.protectedHeader),x.setUnprotectedHeader(l.unprotectedHeader);let{payload:T,...O}=await x.sign(l.key,l.options);if(n===0)t.payload=T;else if(t.payload!==T)throw new te("inconsistent use of JWS Unencoded Payload (RFC7797)");t.signatures.push(O)}return t}}class At{constructor(t){if(!we(t))throw TypeError("JWT Claims Set MUST be an object");this._payload=t}setIssuer(t){return this._payload={...this._payload,iss:t},this}setSubject(t){return this._payload={...this._payload,sub:t},this}setAudience(t){return this._payload={...this._payload,aud:t},this}setJti(t){return this._payload={...this._payload,jti:t},this}setNotBefore(t){return typeof t=="number"?this._payload={...this._payload,nbf:t}:this._payload={...this._payload,nbf:pt(new Date)+xt(t)},this}setExpirationTime(t){return typeof t=="number"?this._payload={...this._payload,exp:t}:this._payload={...this._payload,exp:pt(new Date)+xt(t)},this}setIssuedAt(t){return t===void 0?this._payload={...this._payload,iat:pt(new Date)}:this._payload={...this._payload,iat:t},this}}class Mr extends At{setProtectedHeader(t){return this._protectedHeader=t,this}async sign(t,n){var l;let x=new cr(d.encode(JSON.stringify(this._payload)));if(x.setProtectedHeader(this._protectedHeader),Array.isArray((l=this._protectedHeader)==null?void 0:l.crit)&&this._protectedHeader.crit.includes("b64")&&this._protectedHeader.b64===!1)throw new ye("JWTs MUST NOT use unencoded payload");return x.sign(t,n)}}class ur extends At{setProtectedHeader(t){if(this._protectedHeader)throw TypeError("setProtectedHeader can only be called once");return this._protectedHeader=t,this}setKeyManagementParameters(t){if(this._keyManagementParameters)throw TypeError("setKeyManagementParameters can only be called once");return this._keyManagementParameters=t,this}setContentEncryptionKey(t){if(this._cek)throw TypeError("setContentEncryptionKey can only be called once");return this._cek=t,this}setInitializationVector(t){if(this._iv)throw TypeError("setInitializationVector can only be called once");return this._iv=t,this}replicateIssuerAsHeader(){return this._replicateIssuerAsHeader=!0,this}replicateSubjectAsHeader(){return this._replicateSubjectAsHeader=!0,this}replicateAudienceAsHeader(){return this._replicateAudienceAsHeader=!0,this}async encrypt(t,n){let l=new lr(d.encode(JSON.stringify(this._payload)));return this._replicateIssuerAsHeader&&(this._protectedHeader={...this._protectedHeader,iss:this._payload.iss}),this._replicateSubjectAsHeader&&(this._protectedHeader={...this._protectedHeader,sub:this._payload.sub}),this._replicateAudienceAsHeader&&(this._protectedHeader={...this._protectedHeader,aud:this._payload.aud}),l.setProtectedHeader(this._protectedHeader),this._iv&&l.setInitializationVector(this._iv),this._cek&&l.setContentEncryptionKey(this._cek),this._keyManagementParameters&&l.setKeyManagementParameters(this._keyManagementParameters),l.encrypt(t,n)}}let me=(e,t)=>{if(typeof e!="string"||!e)throw new Oe(`${t} missing or invalid`)};async function tt(e,t){let n;if(!we(e))throw TypeError("JWK must be an object");if(t!=null||(t="sha256"),t!=="sha256"&&t!=="sha384"&&t!=="sha512")throw TypeError('digestAlgorithm must one of "sha256", "sha384", or "sha512"');switch(e.kty){case"EC":me(e.crv,'"crv" (Curve) Parameter'),me(e.x,'"x" (X Coordinate) Parameter'),me(e.y,'"y" (Y Coordinate) Parameter'),n={crv:e.crv,kty:e.kty,x:e.x,y:e.y};break;case"OKP":me(e.crv,'"crv" (Subtype of Key Pair) Parameter'),me(e.x,'"x" (Public Key) Parameter'),n={crv:e.crv,kty:e.kty,x:e.x};break;case"RSA":me(e.e,'"e" (Exponent) Parameter'),me(e.n,'"n" (Modulus) Parameter'),n={e:e.e,kty:e.kty,n:e.n};break;case"oct":me(e.k,'"k" (Key Value) Parameter'),n={k:e.k,kty:e.kty};break;default:throw new N('"kty" (Key Type) Parameter missing or unsupported')}let l=d.encode(JSON.stringify(n));return u(await C(t,l))}async function Dr(e,t){t!=null||(t="sha256");let n=await tt(e,t);return`urn:ietf:params:oauth:jwk-thumbprint:sha-${t.slice(-3)}:${n}`}async function Ur(e,t){let n={...e,...t?.header};if(!we(n.jwk))throw new te('"jwk" (JSON Web Key) Header Parameter must be a JSON object');let l=await it({...n.jwk,ext:!0},n.alg,!0);if(l instanceof Uint8Array||l.type!=="public")throw new te('"jwk" (JSON Web Key) Header Parameter must be a public key');return l}function dr(e){return e&&typeof e=="object"&&Array.isArray(e.keys)&&e.keys.every(Lr)}function Lr(e){return we(e)}class qt{constructor(t){if(this._cached=new WeakMap,!dr(t))throw new Pe("JSON Web Key Set malformed");this._jwks=function(n){return typeof structuredClone=="function"?structuredClone(n):JSON.parse(JSON.stringify(n))}(t)}async getKey(t,n){let{alg:l,kid:x}={...t,...n?.header},T=function(D){switch(typeof D=="string"&&D.slice(0,2)){case"RS":case"PS":return"RSA";case"ES":return"EC";case"Ed":return"OKP";default:throw new N('Unsupported "alg" value for a JSON Web Key Set')}}(l),O=this._jwks.keys.filter(D=>{let Y=T===D.kty;if(Y&&typeof x=="string"&&(Y=x===D.kid),Y&&typeof D.alg=="string"&&(Y=l===D.alg),Y&&typeof D.use=="string"&&(Y=D.use==="sig"),Y&&Array.isArray(D.key_ops)&&(Y=D.key_ops.includes("verify")),Y&&l==="EdDSA"&&(Y=D.crv==="Ed25519"||D.crv==="Ed448"),Y)switch(l){case"ES256":Y=D.crv==="P-256";break;case"ES256K":Y=D.crv==="secp256k1";break;case"ES384":Y=D.crv==="P-384";break;case"ES512":Y=D.crv==="P-521"}return Y}),{0:k,length:z}=O;if(z===0)throw new G;if(z!==1){let D=new Q,{_cached:Y}=this;throw D[Symbol.asyncIterator]=async function*(){for(let Z of O)try{yield await hr(Y,Z,l)}catch{continue}},D}return hr(this._cached,k,l)}}async function hr(e,t,n){let l=e.get(t)||e.set(t,{}).get(t);if(l[n]===void 0){let x=await it({...t,ext:!0},n);if(x instanceof Uint8Array||x.type!=="public")throw new Pe("JSON Web Key Set members must be public keys");l[n]=x}return l[n]}function jr(e){let t=new qt(e);return async function(n,l){return t.getKey(n,l)}}let Kr=async(e,t,n)=>{let l,x,T=!1;typeof AbortController=="function"&&(l=new AbortController,x=setTimeout(()=>{T=!0,l.abort()},t));let O=await fetch(e.href,{signal:l?l.signal:void 0,redirect:"manual",headers:n.headers}).catch(k=>{throw T?new X:k});if(x!==void 0&&clearTimeout(x),O.status!==200)throw new p("Expected 200 OK from the JSON Web Key Set HTTP response");try{return await O.json()}catch{throw new p("Failed to parse the JSON Web Key Set HTTP response as JSON")}};class pr extends qt{constructor(t,n){if(super({keys:[]}),this._jwks=void 0,!(t instanceof URL))throw TypeError("url must be an instance of URL");this._url=new URL(t.href),this._options={agent:n?.agent,headers:n?.headers},this._timeoutDuration=typeof n?.timeoutDuration=="number"?n?.timeoutDuration:5e3,this._cooldownDuration=typeof n?.cooldownDuration=="number"?n?.cooldownDuration:3e4,this._cacheMaxAge=typeof n?.cacheMaxAge=="number"?n?.cacheMaxAge:6e5}coolingDown(){return typeof this._jwksTimestamp=="number"&&Date.now()<this._jwksTimestamp+this._cooldownDuration}fresh(){return typeof this._jwksTimestamp=="number"&&Date.now()<this._jwksTimestamp+this._cacheMaxAge}async getKey(t,n){this._jwks&&this.fresh()||await this.reload();try{return await super.getKey(t,n)}catch(l){if(l instanceof G&&this.coolingDown()===!1)return await this.reload(),super.getKey(t,n);throw l}}async reload(){this._pendingFetch&&(typeof WebSocketPair<"u"||typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers")&&(this._pendingFetch=void 0),this._pendingFetch||(this._pendingFetch=Kr(this._url,this._timeoutDuration,this._options).then(t=>{if(!dr(t))throw new Pe("JSON Web Key Set malformed");this._jwks={keys:t.keys},this._jwksTimestamp=Date.now(),this._pendingFetch=void 0}).catch(t=>{throw this._pendingFetch=void 0,t})),await this._pendingFetch}}function fr(e,t){let n=new pr(e,t);return async function(l,x){return n.getKey(l,x)}}class gr extends At{encode(){let t=u(JSON.stringify({alg:"none"})),n=u(JSON.stringify(this._payload));return`${t}.${n}.`}static decode(t,n){let l;if(typeof t!="string")throw new ye("Unsecured JWT must be a string");let{0:x,1:T,2:O,length:k}=t.split(".");if(k!==3||O!=="")throw new ye("Invalid Unsecured JWT");try{if(l=JSON.parse(r.decode(f(x))),l.alg!=="none")throw Error()}catch{throw new ye("Invalid Unsecured JWT")}return{payload:Bt(l,f(T),n),header:l}}}let Wr=u,h=f;function s(e){let t;if(typeof e=="string"){let n=e.split(".");(n.length===3||n.length===5)&&([t]=n)}else if(typeof e=="object"&&e)if("protected"in e)t=e.protected;else throw TypeError("Token does not contain a Protected Header");try{if(typeof t!="string"||!t)throw Error();let n=JSON.parse(r.decode(h(t)));if(!we(n))throw Error();return n}catch{throw TypeError("Invalid Token or Protected Header formatting")}}function y(e){let t,n;if(typeof e!="string")throw new ye("JWTs must use Compact JWS serialization, JWT must be a string");let{1:l,length:x}=e.split(".");if(x===5)throw new ye("Only JWTs using Compact JWS serialization can be decoded");if(x!==3)throw new ye("Invalid JWT");if(!l)throw new ye("JWTs must contain a payload");try{t=h(l)}catch{throw new ye("Failed to base64url decode the payload")}try{n=JSON.parse(r.decode(t))}catch{throw new ye("Failed to parse the decoded payload as JSON")}if(!we(n))throw new ye("Invalid JWT Claims Set");return n}async function R(e,t){var n;let l,x,T;switch(e){case"HS256":case"HS384":case"HS512":l=parseInt(e.slice(-3),10),x={name:"HMAC",hash:`SHA-${l}`,length:l},T=["sign","verify"];break;case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return $(new Uint8Array((l=parseInt(e.slice(-3),10))>>3));case"A128KW":case"A192KW":case"A256KW":x={name:"AES-KW",length:l=parseInt(e.slice(1,4),10)},T=["wrapKey","unwrapKey"];break;case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":case"A128GCM":case"A192GCM":case"A256GCM":x={name:"AES-GCM",length:l=parseInt(e.slice(1,4),10)},T=["encrypt","decrypt"];break;default:throw new N('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}return A.subtle.generateKey(x,(n=t?.extractable)!=null&&n,T)}function M(e){var t;let n=(t=e?.modulusLength)!=null?t:2048;if(typeof n!="number"||n<2048)throw new N("Invalid or unsupported modulusLength option provided, 2048 bits or larger keys must be used");return n}async function q(e,t){var n,l,x;let T,O;switch(e){case"PS256":case"PS384":case"PS512":T={name:"RSA-PSS",hash:`SHA-${e.slice(-3)}`,publicExponent:new Uint8Array([1,0,1]),modulusLength:M(t)},O=["sign","verify"];break;case"RS256":case"RS384":case"RS512":T={name:"RSASSA-PKCS1-v1_5",hash:`SHA-${e.slice(-3)}`,publicExponent:new Uint8Array([1,0,1]),modulusLength:M(t)},O=["sign","verify"];break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":T={name:"RSA-OAEP",hash:`SHA-${parseInt(e.slice(-3),10)||1}`,publicExponent:new Uint8Array([1,0,1]),modulusLength:M(t)},O=["decrypt","unwrapKey","encrypt","wrapKey"];break;case"ES256":T={name:"ECDSA",namedCurve:"P-256"},O=["sign","verify"];break;case"ES384":T={name:"ECDSA",namedCurve:"P-384"},O=["sign","verify"];break;case"ES512":T={name:"ECDSA",namedCurve:"P-521"},O=["sign","verify"];break;case"EdDSA":O=["sign","verify"];let k=(n=t?.crv)!=null?n:"Ed25519";switch(k){case"Ed25519":case"Ed448":T={name:k};break;default:throw new N("Invalid or unsupported crv option provided")}break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{O=["deriveKey","deriveBits"];let z=(l=t?.crv)!=null?l:"P-256";switch(z){case"P-256":case"P-384":case"P-521":T={name:"ECDH",namedCurve:z};break;case"X25519":case"X448":T={name:z};break;default:throw new N("Invalid or unsupported crv option provided, supported values are P-256, P-384, P-521, X25519, and X448")}break}default:throw new N('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}return A.subtle.generateKey(T,(x=t?.extractable)!=null&&x,O)}async function re(e,t){return q(e,t)}async function ee(e,t){return R(e,t)}let ue="WebCryptoAPI"},814:(a,g,b)=>{"use strict";a.exports=b(440)},817:(a,g,b)=>{(()=>{"use strict";var P={491:(d,r,i)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.ContextAPI=void 0;let E=i(223),_=i(172),m=i(930),o="context",c=new E.NoopContextManager;class w{constructor(){}static getInstance(){return this._instance||(this._instance=new w),this._instance}setGlobalContextManager(v){return(0,_.registerGlobal)(o,v,m.DiagAPI.instance())}active(){return this._getContextManager().active()}with(v,f,p,...S){return this._getContextManager().with(v,f,p,...S)}bind(v,f){return this._getContextManager().bind(v,f)}_getContextManager(){return(0,_.getGlobal)(o)||c}disable(){this._getContextManager().disable(),(0,_.unregisterGlobal)(o,m.DiagAPI.instance())}}r.ContextAPI=w},930:(d,r,i)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.DiagAPI=void 0;let E=i(56),_=i(912),m=i(957),o=i(172);class c{constructor(){function u(f){return function(...p){let S=(0,o.getGlobal)("diag");if(S)return S[f](...p)}}let v=this;v.setLogger=(f,p={logLevel:m.DiagLogLevel.INFO})=>{var S,K,V;if(f===v){let ne=Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return v.error((S=ne.stack)!=null?S:ne.message),!1}typeof p=="number"&&(p={logLevel:p});let N=(0,o.getGlobal)("diag"),F=(0,_.createLogLevelDiagLogger)((K=p.logLevel)!=null?K:m.DiagLogLevel.INFO,f);if(N&&!p.suppressOverrideMessage){let ne=(V=Error().stack)!=null?V:"<failed to generate stacktrace>";N.warn(`Current logger will be overwritten from ${ne}`),F.warn(`Current logger will overwrite one already registered from ${ne}`)}return(0,o.registerGlobal)("diag",F,v,!0)},v.disable=()=>{(0,o.unregisterGlobal)("diag",v)},v.createComponentLogger=f=>new E.DiagComponentLogger(f),v.verbose=u("verbose"),v.debug=u("debug"),v.info=u("info"),v.warn=u("warn"),v.error=u("error")}static instance(){return this._instance||(this._instance=new c),this._instance}}r.DiagAPI=c},653:(d,r,i)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.MetricsAPI=void 0;let E=i(660),_=i(172),m=i(930),o="metrics";class c{constructor(){}static getInstance(){return this._instance||(this._instance=new c),this._instance}setGlobalMeterProvider(u){return(0,_.registerGlobal)(o,u,m.DiagAPI.instance())}getMeterProvider(){return(0,_.getGlobal)(o)||E.NOOP_METER_PROVIDER}getMeter(u,v,f){return this.getMeterProvider().getMeter(u,v,f)}disable(){(0,_.unregisterGlobal)(o,m.DiagAPI.instance())}}r.MetricsAPI=c},181:(d,r,i)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.PropagationAPI=void 0;let E=i(172),_=i(874),m=i(194),o=i(277),c=i(369),w=i(930),u="propagation",v=new _.NoopTextMapPropagator;class f{constructor(){this.createBaggage=c.createBaggage,this.getBaggage=o.getBaggage,this.getActiveBaggage=o.getActiveBaggage,this.setBaggage=o.setBaggage,this.deleteBaggage=o.deleteBaggage}static getInstance(){return this._instance||(this._instance=new f),this._instance}setGlobalPropagator(S){return(0,E.registerGlobal)(u,S,w.DiagAPI.instance())}inject(S,K,V=m.defaultTextMapSetter){return this._getGlobalPropagator().inject(S,K,V)}extract(S,K,V=m.defaultTextMapGetter){return this._getGlobalPropagator().extract(S,K,V)}fields(){return this._getGlobalPropagator().fields()}disable(){(0,E.unregisterGlobal)(u,w.DiagAPI.instance())}_getGlobalPropagator(){return(0,E.getGlobal)(u)||v}}r.PropagationAPI=f},997:(d,r,i)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.TraceAPI=void 0;let E=i(172),_=i(846),m=i(139),o=i(607),c=i(930),w="trace";class u{constructor(){this._proxyTracerProvider=new _.ProxyTracerProvider,this.wrapSpanContext=m.wrapSpanContext,this.isSpanContextValid=m.isSpanContextValid,this.deleteSpan=o.deleteSpan,this.getSpan=o.getSpan,this.getActiveSpan=o.getActiveSpan,this.getSpanContext=o.getSpanContext,this.setSpan=o.setSpan,this.setSpanContext=o.setSpanContext}static getInstance(){return this._instance||(this._instance=new u),this._instance}setGlobalTracerProvider(f){let p=(0,E.registerGlobal)(w,this._proxyTracerProvider,c.DiagAPI.instance());return p&&this._proxyTracerProvider.setDelegate(f),p}getTracerProvider(){return(0,E.getGlobal)(w)||this._proxyTracerProvider}getTracer(f,p){return this.getTracerProvider().getTracer(f,p)}disable(){(0,E.unregisterGlobal)(w,c.DiagAPI.instance()),this._proxyTracerProvider=new _.ProxyTracerProvider}}r.TraceAPI=u},277:(d,r,i)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.deleteBaggage=r.setBaggage=r.getActiveBaggage=r.getBaggage=void 0;let E=i(491),_=(0,i(780).createContextKey)("OpenTelemetry Baggage Key");function m(o){return o.getValue(_)||void 0}r.getBaggage=m,r.getActiveBaggage=function(){return m(E.ContextAPI.getInstance().active())},r.setBaggage=function(o,c){return o.setValue(_,c)},r.deleteBaggage=function(o){return o.deleteValue(_)}},993:(d,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.BaggageImpl=void 0;class i{constructor(_){this._entries=_?new Map(_):new Map}getEntry(_){let m=this._entries.get(_);if(m)return Object.assign({},m)}getAllEntries(){return Array.from(this._entries.entries()).map(([_,m])=>[_,m])}setEntry(_,m){let o=new i(this._entries);return o._entries.set(_,m),o}removeEntry(_){let m=new i(this._entries);return m._entries.delete(_),m}removeEntries(..._){let m=new i(this._entries);for(let o of _)m._entries.delete(o);return m}clear(){return new i}}r.BaggageImpl=i},830:(d,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.baggageEntryMetadataSymbol=void 0,r.baggageEntryMetadataSymbol=Symbol("BaggageEntryMetadata")},369:(d,r,i)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.baggageEntryMetadataFromString=r.createBaggage=void 0;let E=i(930),_=i(993),m=i(830),o=E.DiagAPI.instance();r.createBaggage=function(c={}){return new _.BaggageImpl(new Map(Object.entries(c)))},r.baggageEntryMetadataFromString=function(c){return typeof c!="string"&&(o.error(`Cannot create baggage metadata from unknown type: ${typeof c}`),c=""),{__TYPE__:m.baggageEntryMetadataSymbol,toString:()=>c}}},67:(d,r,i)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.context=void 0,r.context=i(491).ContextAPI.getInstance()},223:(d,r,i)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.NoopContextManager=void 0;let E=i(780);class _{active(){return E.ROOT_CONTEXT}with(o,c,w,...u){return c.call(w,...u)}bind(o,c){return c}enable(){return this}disable(){return this}}r.NoopContextManager=_},780:(d,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.ROOT_CONTEXT=r.createContextKey=void 0,r.createContextKey=function(E){return Symbol.for(E)};class i{constructor(_){let m=this;m._currentContext=_?new Map(_):new Map,m.getValue=o=>m._currentContext.get(o),m.setValue=(o,c)=>{let w=new i(m._currentContext);return w._currentContext.set(o,c),w},m.deleteValue=o=>{let c=new i(m._currentContext);return c._currentContext.delete(o),c}}}r.ROOT_CONTEXT=new i},506:(d,r,i)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.diag=void 0,r.diag=i(930).DiagAPI.instance()},56:(d,r,i)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.DiagComponentLogger=void 0;let E=i(172);class _{constructor(c){this._namespace=c.namespace||"DiagComponentLogger"}debug(...c){return m("debug",this._namespace,c)}error(...c){return m("error",this._namespace,c)}info(...c){return m("info",this._namespace,c)}warn(...c){return m("warn",this._namespace,c)}verbose(...c){return m("verbose",this._namespace,c)}}function m(o,c,w){let u=(0,E.getGlobal)("diag");if(u)return w.unshift(c),u[o](...w)}r.DiagComponentLogger=_},972:(d,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.DiagConsoleLogger=void 0;let i=[{n:"error",c:"error"},{n:"warn",c:"warn"},{n:"info",c:"info"},{n:"debug",c:"debug"},{n:"verbose",c:"trace"}];class E{constructor(){for(let m=0;m<i.length;m++)this[i[m].n]=function(o){return function(...c){if(console){let w=console[o];if(typeof w!="function"&&(w=console.log),typeof w=="function")return w.apply(console,c)}}}(i[m].c)}}r.DiagConsoleLogger=E},912:(d,r,i)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.createLogLevelDiagLogger=void 0;let E=i(957);r.createLogLevelDiagLogger=function(_,m){function o(c,w){let u=m[c];return typeof u=="function"&&_>=w?u.bind(m):function(){}}return _<E.DiagLogLevel.NONE?_=E.DiagLogLevel.NONE:_>E.DiagLogLevel.ALL&&(_=E.DiagLogLevel.ALL),m=m||{},{error:o("error",E.DiagLogLevel.ERROR),warn:o("warn",E.DiagLogLevel.WARN),info:o("info",E.DiagLogLevel.INFO),debug:o("debug",E.DiagLogLevel.DEBUG),verbose:o("verbose",E.DiagLogLevel.VERBOSE)}}},957:(d,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.DiagLogLevel=void 0,function(i){i[i.NONE=0]="NONE",i[i.ERROR=30]="ERROR",i[i.WARN=50]="WARN",i[i.INFO=60]="INFO",i[i.DEBUG=70]="DEBUG",i[i.VERBOSE=80]="VERBOSE",i[i.ALL=9999]="ALL"}(r.DiagLogLevel||(r.DiagLogLevel={}))},172:(d,r,i)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.unregisterGlobal=r.getGlobal=r.registerGlobal=void 0;let E=i(200),_=i(521),m=i(130),o=_.VERSION.split(".")[0],c=Symbol.for(`opentelemetry.js.api.${o}`),w=E._globalThis;r.registerGlobal=function(u,v,f,p=!1){var S;let K=w[c]=(S=w[c])!=null?S:{version:_.VERSION};if(!p&&K[u]){let V=Error(`@opentelemetry/api: Attempted duplicate registration of API: ${u}`);return f.error(V.stack||V.message),!1}if(K.version!==_.VERSION){let V=Error(`@opentelemetry/api: Registration of version v${K.version} for ${u} does not match previously registered API v${_.VERSION}`);return f.error(V.stack||V.message),!1}return K[u]=v,f.debug(`@opentelemetry/api: Registered a global for ${u} v${_.VERSION}.`),!0},r.getGlobal=function(u){var v,f;let p=(v=w[c])==null?void 0:v.version;if(p&&(0,m.isCompatible)(p))return(f=w[c])==null?void 0:f[u]},r.unregisterGlobal=function(u,v){v.debug(`@opentelemetry/api: Unregistering a global for ${u} v${_.VERSION}.`);let f=w[c];f&&delete f[u]}},130:(d,r,i)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.isCompatible=r._makeCompatibilityCheck=void 0;let E=i(521),_=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/;function m(o){let c=new Set([o]),w=new Set,u=o.match(_);if(!u)return()=>!1;let v={major:+u[1],minor:+u[2],patch:+u[3],prerelease:u[4]};if(v.prerelease!=null)return function(p){return p===o};function f(p){return w.add(p),!1}return function(p){if(c.has(p))return!0;if(w.has(p))return!1;let S=p.match(_);if(!S)return f(p);let K={major:+S[1],minor:+S[2],patch:+S[3],prerelease:S[4]};return K.prerelease!=null||v.major!==K.major?f(p):v.major===0?v.minor===K.minor&&v.patch<=K.patch?(c.add(p),!0):f(p):v.minor<=K.minor?(c.add(p),!0):f(p)}}r._makeCompatibilityCheck=m,r.isCompatible=m(E.VERSION)},886:(d,r,i)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.metrics=void 0,r.metrics=i(653).MetricsAPI.getInstance()},901:(d,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.ValueType=void 0,function(i){i[i.INT=0]="INT",i[i.DOUBLE=1]="DOUBLE"}(r.ValueType||(r.ValueType={}))},102:(d,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.createNoopMeter=r.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC=r.NOOP_OBSERVABLE_GAUGE_METRIC=r.NOOP_OBSERVABLE_COUNTER_METRIC=r.NOOP_UP_DOWN_COUNTER_METRIC=r.NOOP_HISTOGRAM_METRIC=r.NOOP_COUNTER_METRIC=r.NOOP_METER=r.NoopObservableUpDownCounterMetric=r.NoopObservableGaugeMetric=r.NoopObservableCounterMetric=r.NoopObservableMetric=r.NoopHistogramMetric=r.NoopUpDownCounterMetric=r.NoopCounterMetric=r.NoopMetric=r.NoopMeter=void 0;class i{constructor(){}createHistogram(p,S){return r.NOOP_HISTOGRAM_METRIC}createCounter(p,S){return r.NOOP_COUNTER_METRIC}createUpDownCounter(p,S){return r.NOOP_UP_DOWN_COUNTER_METRIC}createObservableGauge(p,S){return r.NOOP_OBSERVABLE_GAUGE_METRIC}createObservableCounter(p,S){return r.NOOP_OBSERVABLE_COUNTER_METRIC}createObservableUpDownCounter(p,S){return r.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC}addBatchObservableCallback(p,S){}removeBatchObservableCallback(p){}}r.NoopMeter=i;class E{}r.NoopMetric=E;class _ extends E{add(p,S){}}r.NoopCounterMetric=_;class m extends E{add(p,S){}}r.NoopUpDownCounterMetric=m;class o extends E{record(p,S){}}r.NoopHistogramMetric=o;class c{addCallback(p){}removeCallback(p){}}r.NoopObservableMetric=c;class w extends c{}r.NoopObservableCounterMetric=w;class u extends c{}r.NoopObservableGaugeMetric=u;class v extends c{}r.NoopObservableUpDownCounterMetric=v,r.NOOP_METER=new i,r.NOOP_COUNTER_METRIC=new _,r.NOOP_HISTOGRAM_METRIC=new o,r.NOOP_UP_DOWN_COUNTER_METRIC=new m,r.NOOP_OBSERVABLE_COUNTER_METRIC=new w,r.NOOP_OBSERVABLE_GAUGE_METRIC=new u,r.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC=new v,r.createNoopMeter=function(){return r.NOOP_METER}},660:(d,r,i)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.NOOP_METER_PROVIDER=r.NoopMeterProvider=void 0;let E=i(102);class _{getMeter(o,c,w){return E.NOOP_METER}}r.NoopMeterProvider=_,r.NOOP_METER_PROVIDER=new _},200:function(d,r,i){var E=this&&this.__createBinding||(Object.create?function(m,o,c,w){w===void 0&&(w=c),Object.defineProperty(m,w,{enumerable:!0,get:function(){return o[c]}})}:function(m,o,c,w){w===void 0&&(w=c),m[w]=o[c]}),_=this&&this.__exportStar||function(m,o){for(var c in m)c==="default"||Object.prototype.hasOwnProperty.call(o,c)||E(o,m,c)};Object.defineProperty(r,"__esModule",{value:!0}),_(i(46),r)},651:(d,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r._globalThis=void 0,r._globalThis=typeof globalThis=="object"?globalThis:b.g},46:function(d,r,i){var E=this&&this.__createBinding||(Object.create?function(m,o,c,w){w===void 0&&(w=c),Object.defineProperty(m,w,{enumerable:!0,get:function(){return o[c]}})}:function(m,o,c,w){w===void 0&&(w=c),m[w]=o[c]}),_=this&&this.__exportStar||function(m,o){for(var c in m)c==="default"||Object.prototype.hasOwnProperty.call(o,c)||E(o,m,c)};Object.defineProperty(r,"__esModule",{value:!0}),_(i(651),r)},939:(d,r,i)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.propagation=void 0,r.propagation=i(181).PropagationAPI.getInstance()},874:(d,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.NoopTextMapPropagator=void 0;class i{inject(_,m){}extract(_,m){return _}fields(){return[]}}r.NoopTextMapPropagator=i},194:(d,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.defaultTextMapSetter=r.defaultTextMapGetter=void 0,r.defaultTextMapGetter={get(i,E){if(i!=null)return i[E]},keys:i=>i==null?[]:Object.keys(i)},r.defaultTextMapSetter={set(i,E,_){i!=null&&(i[E]=_)}}},845:(d,r,i)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.trace=void 0,r.trace=i(997).TraceAPI.getInstance()},403:(d,r,i)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.NonRecordingSpan=void 0;let E=i(476);class _{constructor(o=E.INVALID_SPAN_CONTEXT){this._spanContext=o}spanContext(){return this._spanContext}setAttribute(o,c){return this}setAttributes(o){return this}addEvent(o,c){return this}setStatus(o){return this}updateName(o){return this}end(o){}isRecording(){return!1}recordException(o,c){}}r.NonRecordingSpan=_},614:(d,r,i)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.NoopTracer=void 0;let E=i(491),_=i(607),m=i(403),o=i(139),c=E.ContextAPI.getInstance();class w{startSpan(v,f,p=c.active()){var S;if(f?.root)return new m.NonRecordingSpan;let K=p&&(0,_.getSpanContext)(p);return typeof(S=K)=="object"&&typeof S.spanId=="string"&&typeof S.traceId=="string"&&typeof S.traceFlags=="number"&&(0,o.isSpanContextValid)(K)?new m.NonRecordingSpan(K):new m.NonRecordingSpan}startActiveSpan(v,f,p,S){let K,V,N;if(arguments.length<2)return;arguments.length==2?N=f:arguments.length==3?(K=f,N=p):(K=f,V=p,N=S);let F=V??c.active(),ne=this.startSpan(v,K,F),W=(0,_.setSpan)(F,ne);return c.with(W,N,void 0,ne)}}r.NoopTracer=w},124:(d,r,i)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.NoopTracerProvider=void 0;let E=i(614);class _{getTracer(o,c,w){return new E.NoopTracer}}r.NoopTracerProvider=_},125:(d,r,i)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.ProxyTracer=void 0;let E=new(i(614)).NoopTracer;class _{constructor(o,c,w,u){this._provider=o,this.name=c,this.version=w,this.options=u}startSpan(o,c,w){return this._getTracer().startSpan(o,c,w)}startActiveSpan(o,c,w,u){let v=this._getTracer();return Reflect.apply(v.startActiveSpan,v,arguments)}_getTracer(){if(this._delegate)return this._delegate;let o=this._provider.getDelegateTracer(this.name,this.version,this.options);return o?(this._delegate=o,this._delegate):E}}r.ProxyTracer=_},846:(d,r,i)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.ProxyTracerProvider=void 0;let E=i(125),_=new(i(124)).NoopTracerProvider;class m{getTracer(c,w,u){var v;return(v=this.getDelegateTracer(c,w,u))!=null?v:new E.ProxyTracer(this,c,w,u)}getDelegate(){var c;return(c=this._delegate)!=null?c:_}setDelegate(c){this._delegate=c}getDelegateTracer(c,w,u){var v;return(v=this._delegate)==null?void 0:v.getTracer(c,w,u)}}r.ProxyTracerProvider=m},996:(d,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.SamplingDecision=void 0,function(i){i[i.NOT_RECORD=0]="NOT_RECORD",i[i.RECORD=1]="RECORD",i[i.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"}(r.SamplingDecision||(r.SamplingDecision={}))},607:(d,r,i)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.getSpanContext=r.setSpanContext=r.deleteSpan=r.setSpan=r.getActiveSpan=r.getSpan=void 0;let E=i(780),_=i(403),m=i(491),o=(0,E.createContextKey)("OpenTelemetry Context Key SPAN");function c(u){return u.getValue(o)||void 0}function w(u,v){return u.setValue(o,v)}r.getSpan=c,r.getActiveSpan=function(){return c(m.ContextAPI.getInstance().active())},r.setSpan=w,r.deleteSpan=function(u){return u.deleteValue(o)},r.setSpanContext=function(u,v){return w(u,new _.NonRecordingSpan(v))},r.getSpanContext=function(u){var v;return(v=c(u))==null?void 0:v.spanContext()}},325:(d,r,i)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.TraceStateImpl=void 0;let E=i(564);class _{constructor(o){this._internalState=new Map,o&&this._parse(o)}set(o,c){let w=this._clone();return w._internalState.has(o)&&w._internalState.delete(o),w._internalState.set(o,c),w}unset(o){let c=this._clone();return c._internalState.delete(o),c}get(o){return this._internalState.get(o)}serialize(){return this._keys().reduce((o,c)=>(o.push(c+"="+this.get(c)),o),[]).join(",")}_parse(o){!(o.length>512)&&(this._internalState=o.split(",").reverse().reduce((c,w)=>{let u=w.trim(),v=u.indexOf("=");if(v!==-1){let f=u.slice(0,v),p=u.slice(v+1,w.length);(0,E.validateKey)(f)&&(0,E.validateValue)(p)&&c.set(f,p)}return c},new Map),this._internalState.size>32&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,32))))}_keys(){return Array.from(this._internalState.keys()).reverse()}_clone(){let o=new _;return o._internalState=new Map(this._internalState),o}}r.TraceStateImpl=_},564:(d,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.validateValue=r.validateKey=void 0;let i="[_0-9a-z-*/]",E=`[a-z]${i}{0,255}`,_=`[a-z0-9]${i}{0,240}@[a-z]${i}{0,13}`,m=RegExp(`^(?:${E}|${_})$`),o=/^[ -~]{0,255}[!-~]$/,c=/,|=/;r.validateKey=function(w){return m.test(w)},r.validateValue=function(w){return o.test(w)&&!c.test(w)}},98:(d,r,i)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.createTraceState=void 0;let E=i(325);r.createTraceState=function(_){return new E.TraceStateImpl(_)}},476:(d,r,i)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.INVALID_SPAN_CONTEXT=r.INVALID_TRACEID=r.INVALID_SPANID=void 0;let E=i(475);r.INVALID_SPANID="0000000000000000",r.INVALID_TRACEID="00000000000000000000000000000000",r.INVALID_SPAN_CONTEXT={traceId:r.INVALID_TRACEID,spanId:r.INVALID_SPANID,traceFlags:E.TraceFlags.NONE}},357:(d,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.SpanKind=void 0,function(i){i[i.INTERNAL=0]="INTERNAL",i[i.SERVER=1]="SERVER",i[i.CLIENT=2]="CLIENT",i[i.PRODUCER=3]="PRODUCER",i[i.CONSUMER=4]="CONSUMER"}(r.SpanKind||(r.SpanKind={}))},139:(d,r,i)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.wrapSpanContext=r.isSpanContextValid=r.isValidSpanId=r.isValidTraceId=void 0;let E=i(476),_=i(403),m=/^([0-9a-f]{32})$/i,o=/^[0-9a-f]{16}$/i;function c(u){return m.test(u)&&u!==E.INVALID_TRACEID}function w(u){return o.test(u)&&u!==E.INVALID_SPANID}r.isValidTraceId=c,r.isValidSpanId=w,r.isSpanContextValid=function(u){return c(u.traceId)&&w(u.spanId)},r.wrapSpanContext=function(u){return new _.NonRecordingSpan(u)}},847:(d,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.SpanStatusCode=void 0,function(i){i[i.UNSET=0]="UNSET",i[i.OK=1]="OK",i[i.ERROR=2]="ERROR"}(r.SpanStatusCode||(r.SpanStatusCode={}))},475:(d,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.TraceFlags=void 0,function(i){i[i.NONE=0]="NONE",i[i.SAMPLED=1]="SAMPLED"}(r.TraceFlags||(r.TraceFlags={}))},521:(d,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.VERSION=void 0,r.VERSION="1.6.0"}},J={};function A(d){var r=J[d];if(r!==void 0)return r.exports;var i=J[d]={exports:{}},E=!0;try{P[d].call(i.exports,i,i.exports,A),E=!1}finally{E&&delete J[d]}return i.exports}A.ab="//";var C={};(()=>{Object.defineProperty(C,"__esModule",{value:!0}),C.trace=C.propagation=C.metrics=C.diag=C.context=C.INVALID_SPAN_CONTEXT=C.INVALID_TRACEID=C.INVALID_SPANID=C.isValidSpanId=C.isValidTraceId=C.isSpanContextValid=C.createTraceState=C.TraceFlags=C.SpanStatusCode=C.SpanKind=C.SamplingDecision=C.ProxyTracerProvider=C.ProxyTracer=C.defaultTextMapSetter=C.defaultTextMapGetter=C.ValueType=C.createNoopMeter=C.DiagLogLevel=C.DiagConsoleLogger=C.ROOT_CONTEXT=C.createContextKey=C.baggageEntryMetadataFromString=void 0;var d=A(369);Object.defineProperty(C,"baggageEntryMetadataFromString",{enumerable:!0,get:function(){return d.baggageEntryMetadataFromString}});var r=A(780);Object.defineProperty(C,"createContextKey",{enumerable:!0,get:function(){return r.createContextKey}}),Object.defineProperty(C,"ROOT_CONTEXT",{enumerable:!0,get:function(){return r.ROOT_CONTEXT}});var i=A(972);Object.defineProperty(C,"DiagConsoleLogger",{enumerable:!0,get:function(){return i.DiagConsoleLogger}});var E=A(957);Object.defineProperty(C,"DiagLogLevel",{enumerable:!0,get:function(){return E.DiagLogLevel}});var _=A(102);Object.defineProperty(C,"createNoopMeter",{enumerable:!0,get:function(){return _.createNoopMeter}});var m=A(901);Object.defineProperty(C,"ValueType",{enumerable:!0,get:function(){return m.ValueType}});var o=A(194);Object.defineProperty(C,"defaultTextMapGetter",{enumerable:!0,get:function(){return o.defaultTextMapGetter}}),Object.defineProperty(C,"defaultTextMapSetter",{enumerable:!0,get:function(){return o.defaultTextMapSetter}});var c=A(125);Object.defineProperty(C,"ProxyTracer",{enumerable:!0,get:function(){return c.ProxyTracer}});var w=A(846);Object.defineProperty(C,"ProxyTracerProvider",{enumerable:!0,get:function(){return w.ProxyTracerProvider}});var u=A(996);Object.defineProperty(C,"SamplingDecision",{enumerable:!0,get:function(){return u.SamplingDecision}});var v=A(357);Object.defineProperty(C,"SpanKind",{enumerable:!0,get:function(){return v.SpanKind}});var f=A(847);Object.defineProperty(C,"SpanStatusCode",{enumerable:!0,get:function(){return f.SpanStatusCode}});var p=A(475);Object.defineProperty(C,"TraceFlags",{enumerable:!0,get:function(){return p.TraceFlags}});var S=A(98);Object.defineProperty(C,"createTraceState",{enumerable:!0,get:function(){return S.createTraceState}});var K=A(139);Object.defineProperty(C,"isSpanContextValid",{enumerable:!0,get:function(){return K.isSpanContextValid}}),Object.defineProperty(C,"isValidTraceId",{enumerable:!0,get:function(){return K.isValidTraceId}}),Object.defineProperty(C,"isValidSpanId",{enumerable:!0,get:function(){return K.isValidSpanId}});var V=A(476);Object.defineProperty(C,"INVALID_SPANID",{enumerable:!0,get:function(){return V.INVALID_SPANID}}),Object.defineProperty(C,"INVALID_TRACEID",{enumerable:!0,get:function(){return V.INVALID_TRACEID}}),Object.defineProperty(C,"INVALID_SPAN_CONTEXT",{enumerable:!0,get:function(){return V.INVALID_SPAN_CONTEXT}});let N=A(67);Object.defineProperty(C,"context",{enumerable:!0,get:function(){return N.context}});let F=A(506);Object.defineProperty(C,"diag",{enumerable:!0,get:function(){return F.diag}});let ne=A(886);Object.defineProperty(C,"metrics",{enumerable:!0,get:function(){return ne.metrics}});let W=A(939);Object.defineProperty(C,"propagation",{enumerable:!0,get:function(){return W.propagation}});let te=A(845);Object.defineProperty(C,"trace",{enumerable:!0,get:function(){return te.trace}}),C.default={context:N.context,diag:F.diag,metrics:ne.metrics,propagation:W.propagation,trace:te.trace}})(),a.exports=C})()}},a=>{var g=a(a.s=668);(_ENTRIES=typeof _ENTRIES>"u"?{}:_ENTRIES)["middleware_src/middleware"]=g}])});import"node:fs";import"node:path";import{webcrypto as un}from"node:crypto";globalThis._ENTRIES={};globalThis.self=globalThis;globalThis._ROUTES=[{name:"src/middleware",page:"/",regex:["^(?:\\/(_next\\/data\\/[^/]{1,}))?\\/api(?:\\/((?:[^\\/#\\?]+?)(?:\\/(?:[^\\/#\\?]+?))*))?(\\.json)?[\\/#\\?]?$","^(?:\\/(_next\\/data\\/[^/]{1,}))?\\/dashboard(?:\\/((?:[^\\/#\\?]+?)(?:\\/(?:[^\\/#\\?]+?))*))?(\\.json)?[\\/#\\?]?$"]}];function ei(a){return typeof a>"u"||typeof a=="object"&&a.duplex===void 0?{duplex:"half",...a}:a}var ln=class extends Request{constructor(g,b){super(g,ei(b))}};globalThis.Request=ln;globalThis.crypto||(globalThis.crypto=new un.Crypto);globalThis.CryptoKey||(globalThis.CryptoKey=un.CryptoKey);function cn(){if(!(this instanceof cn))return new cn;throw TypeError("Illegal constructor")}globalThis.SubtleCrypto||(globalThis.SubtleCrypto=cn);globalThis.Crypto||(globalThis.Crypto=un.Crypto);globalThis.URLPattern||await Promise.resolve().then(()=>(Un(),Dn));Ln();Wn();async function ti(a){let g=new URL(a.url).pathname,P=globalThis._ROUTES.find(d=>d.regex.some(r=>new RegExp(r).test(g)));if(!P)throw new Error(`No route found for ${a.url}`);let A=await(await self._ENTRIES[`middleware_${P.name}`]).default({page:P.page,request:{...a,page:{name:P.name}}});return globalThis.__openNextAls.getStore()?.pendingPromiseRunner.add(A.waitUntil),A.response}export{ti as default};
