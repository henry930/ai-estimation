
import {Buffer} from "node:buffer";
globalThis.Buffer = Buffer;

import {AsyncLocalStorage} from "node:async_hooks";
globalThis.AsyncLocalStorage = AsyncLocalStorage;


const defaultDefineProperty = Object.defineProperty;
Object.defineProperty = function(o, p, a) {
  if(p=== '__import_unsupported' && Boolean(globalThis.__import_unsupported)) {
    return;
  }
  return defaultDefineProperty(o, p, a);
};

  
  const require = (await import("node:module")).createRequire(import.meta.url);
  const __filename = (await import("node:url")).fileURLToPath(import.meta.url);
  const __dirname = (await import("node:path")).dirname(__filename);
  
  
  globalThis.openNextDebug = false;globalThis.openNextVersion = "3.6.6";
var zr=Object.defineProperty;var qn=Object.getOwnPropertyDescriptor;var zn=Object.getOwnPropertyNames;var Fn=Object.prototype.hasOwnProperty;var Ir=(n,l)=>()=>(n&&(l=n(n=0)),l);var dn=(n,l)=>()=>(l||n((l={exports:{}}).exports,l),l.exports),Gn=(n,l)=>{for(var h in l)zr(n,h,{get:l[h],enumerable:!0})},qr=(n,l,h,w)=>{if(l&&typeof l=="object"||typeof l=="function")for(let z of zn(l))!Fn.call(n,z)&&z!==h&&zr(n,z,{get:()=>l[z],enumerable:!(w=qn(l,z))||w.enumerable});return n},dr=(n,l,h)=>(qr(n,l,"default"),h&&qr(h,l,"default"));var hn=n=>qr(zr({},"__esModule",{value:!0}),n);function pn(n,l){return(l?/^[\x00-\xFF]*$/:/^[\x00-\x7F]*$/).test(n)}function Yr(n,l=!1){let h=[],w=0;for(;w<n.length;){let z=n[w],C=pe(function(W){if(!l)throw new TypeError(W);h.push({type:"INVALID_CHAR",index:w,value:n[w++]})},"ErrorOrInvalid");if(z==="*"){h.push({type:"ASTERISK",index:w,value:n[w++]});continue}if(z==="+"||z==="?"){h.push({type:"OTHER_MODIFIER",index:w,value:n[w++]});continue}if(z==="\\"){h.push({type:"ESCAPED_CHAR",index:w++,value:n[w++]});continue}if(z==="{"){h.push({type:"OPEN",index:w,value:n[w++]});continue}if(z==="}"){h.push({type:"CLOSE",index:w,value:n[w++]});continue}if(z===":"){let W="",u=w+1;for(;u<n.length;){let P=n.substr(u,1);if(u===w+1&&Xn.test(P)||u!==w+1&&Yn.test(P)){W+=n[u++];continue}break}if(!W){C(`Missing parameter name at ${w}`);continue}h.push({type:"NAME",index:w,value:W}),w=u;continue}if(z==="("){let W=1,u="",P=w+1,_=!1;if(n[P]==="?"){C(`Pattern cannot start with "?" at ${P}`);continue}for(;P<n.length;){if(!pn(n[P],!1)){C(`Invalid character '${n[P]}' at ${P}.`),_=!0;break}if(n[P]==="\\"){u+=n[P++]+n[P++];continue}if(n[P]===")"){if(W--,W===0){P++;break}}else if(n[P]==="("&&(W++,n[P+1]!=="?")){C(`Capturing groups are not allowed at ${P}`),_=!0;break}u+=n[P++]}if(_)continue;if(W){C(`Unbalanced pattern at ${w}`);continue}if(!u){C(`Missing pattern at ${w}`);continue}h.push({type:"REGEX",index:w,value:u}),w=P;continue}h.push({type:"CHAR",index:w,value:n[w++]})}return h.push({type:"END",index:w,value:""}),h}function Qr(n,l={}){let h=Yr(n);l.delimiter??="/#?",l.prefixes??="./";let w=`[^${it(l.delimiter)}]+?`,z=[],C=0,W=0,u="",P=new Set,_=pe(y=>{if(W<h.length&&h[W].type===y)return h[W++].value},"tryConsume"),K=pe(()=>_("OTHER_MODIFIER")??_("ASTERISK"),"tryConsumeModifier"),G=pe(y=>{let k=_(y);if(k!==void 0)return k;let{type:Z,index:re}=h[W];throw new TypeError(`Unexpected ${Z} at ${re}, expected ${y}`)},"mustConsume"),T=pe(()=>{let y="",k;for(;k=_("CHAR")??_("ESCAPED_CHAR");)y+=k;return y},"consumeText"),p=pe(y=>y,"DefaultEncodePart"),b=l.encodePart||p,A="",f=pe(y=>{A+=y},"appendToPendingFixedValue"),E=pe(()=>{A.length&&(z.push(new fr(3,"","",b(A),"",3)),A="")},"maybeAddPartFromPendingFixedValue"),m=pe((y,k,Z,re,N)=>{let ee=3;switch(N){case"?":ee=1;break;case"*":ee=0;break;case"+":ee=2;break}if(!k&&!Z&&ee===3){f(y);return}if(E(),!k&&!Z){if(!y)return;z.push(new fr(3,"","",b(y),"",ee));return}let me;Z?Z==="*"?me=Gr:me=Z:me=w;let F=2;me===w?(F=1,me=""):me===Gr&&(F=0,me="");let le;if(k?le=k:Z&&(le=C++),P.has(le))throw new TypeError(`Duplicate name '${le}'.`);P.add(le),z.push(new fr(F,le,b(y),me,b(re),ee))},"addPart");for(;W<h.length;){let y=_("CHAR"),k=_("NAME"),Z=_("REGEX");if(!k&&!Z&&(Z=_("ASTERISK")),k||Z){let N=y??"";l.prefixes.indexOf(N)===-1&&(f(N),N=""),E();let ee=K();m(N,k,Z,"",ee);continue}let re=y??_("ESCAPED_CHAR");if(re){f(re);continue}if(_("OPEN")){let N=T(),ee=_("NAME"),me=_("REGEX");!ee&&!me&&(me=_("ASTERISK"));let F=T();G("CLOSE");let le=K();m(N,ee,me,F,le);continue}E(),G("END")}return z}function it(n){return n.replace(/([.+*?^${}()[\]|/\\])/g,"\\$1")}function Vr(n){return n&&n.ignoreCase?"ui":"u"}function fn(n,l,h){return Zr(Qr(n,h),l,h)}function ir(n){switch(n){case 0:return"*";case 1:return"?";case 2:return"+";case 3:return""}}function Zr(n,l,h={}){h.delimiter??="/#?",h.prefixes??="./",h.sensitive??=!1,h.strict??=!1,h.end??=!0,h.start??=!0,h.endsWith="";let w=h.start?"^":"";for(let u of n){if(u.type===3){u.modifier===3?w+=it(u.value):w+=`(?:${it(u.value)})${ir(u.modifier)}`;continue}l&&l.push(u.name);let P=`[^${it(h.delimiter)}]+?`,_=u.value;if(u.type===1?_=P:u.type===0&&(_=Gr),!u.prefix.length&&!u.suffix.length){u.modifier===3||u.modifier===1?w+=`(${_})${ir(u.modifier)}`:w+=`((?:${_})${ir(u.modifier)})`;continue}if(u.modifier===3||u.modifier===1){w+=`(?:${it(u.prefix)}(${_})${it(u.suffix)})`,w+=ir(u.modifier);continue}w+=`(?:${it(u.prefix)}`,w+=`((?:${_})(?:`,w+=it(u.suffix),w+=it(u.prefix),w+=`(?:${_}))*)${it(u.suffix)})`,u.modifier===0&&(w+="?")}let z=`[${it(h.endsWith)}]|$`,C=`[${it(h.delimiter)}]`;if(h.end)return h.strict||(w+=`${C}?`),h.endsWith.length?w+=`(?=${z})`:w+="$",new RegExp(w,Vr(h));h.strict||(w+=`(?:${C}(?=${z}))?`);let W=!1;if(n.length){let u=n[n.length-1];u.type===3&&u.modifier===3&&(W=h.delimiter.indexOf(u)>-1)}return W||(w+=`(?=${C}|${z})`),new RegExp(w,Vr(h))}function yn(n,l){return n.length?n[0]==="/"?!0:!l||n.length<2?!1:(n[0]=="\\"||n[0]=="{")&&n[1]=="/":!1}function en(n,l){return n.startsWith(l)?n.substring(l.length,n.length):n}function mn(n,l){return n.endsWith(l)?n.substr(0,n.length-l.length):n}function tn(n){return!n||n.length<2?!1:n[0]==="["||(n[0]==="\\"||n[0]==="{")&&n[1]==="["}function rn(n){if(!n)return!0;for(let l of gn)if(n.test(l))return!0;return!1}function wn(n,l){if(n=en(n,"#"),l||n==="")return n;let h=new URL("https://example.com");return h.hash=n,h.hash?h.hash.substring(1,h.hash.length):""}function vn(n,l){if(n=en(n,"?"),l||n==="")return n;let h=new URL("https://example.com");return h.search=n,h.search?h.search.substring(1,h.search.length):""}function bn(n,l){return l||n===""?n:tn(n)?an(n):on(n)}function En(n,l){if(l||n==="")return n;let h=new URL("https://example.com");return h.password=n,h.password}function _n(n,l){if(l||n==="")return n;let h=new URL("https://example.com");return h.username=n,h.username}function Sn(n,l,h){if(h||n==="")return n;if(l&&!gn.includes(l))return new URL(`${l}:${n}`).pathname;let w=n[0]=="/";return n=new URL(w?n:"/-"+n,"https://example.com").pathname,w||(n=n.substring(2,n.length)),n}function xn(n,l,h){return nn(l)===n&&(n=""),h||n===""?n:sn(n)}function An(n,l){return n=mn(n,":"),l||n===""?n:Nr(n)}function nn(n){switch(n){case"ws":case"http":return"80";case"wws":case"https":return"443";case"ftp":return"21";default:return""}}function Nr(n){if(n==="")return n;if(/^[-+.A-Za-z0-9]*$/.test(n))return n.toLowerCase();throw new TypeError(`Invalid protocol '${n}'.`)}function Cn(n){if(n==="")return n;let l=new URL("https://example.com");return l.username=n,l.username}function Rn(n){if(n==="")return n;let l=new URL("https://example.com");return l.password=n,l.password}function on(n){if(n==="")return n;if(/[\t\n\r #%/:<>?@[\]^\\|]/g.test(n))throw new TypeError(`Invalid hostname '${n}'`);let l=new URL("https://example.com");return l.hostname=n,l.hostname}function an(n){if(n==="")return n;if(/[^0-9a-fA-F[\]:]/g.test(n))throw new TypeError(`Invalid IPv6 hostname '${n}'`);return n.toLowerCase()}function sn(n){if(n===""||/^[0-9]*$/.test(n)&&parseInt(n)<=65535)return n;throw new TypeError(`Invalid port '${n}'.`)}function Pn(n){if(n==="")return n;let l=new URL("https://example.com");return l.pathname=n[0]!=="/"?"/-"+n:n,n[0]!=="/"?l.pathname.substring(2,l.pathname.length):l.pathname}function kn(n){return n===""?n:new URL(`data:${n}`).pathname}function Tn(n){if(n==="")return n;let l=new URL("https://example.com");return l.search=n,l.search.substring(1,l.search.length)}function On(n){if(n==="")return n;let l=new URL("https://example.com");return l.hash=n,l.hash.substring(1,l.hash.length)}function Xr(n,l){if(typeof n!="string")throw new TypeError("parameter 1 is not of type 'string'.");let h=new URL(n,l);return{protocol:h.protocol.substring(0,h.protocol.length-1),username:h.username,password:h.password,hostname:h.hostname,port:h.port,pathname:h.pathname,search:h.search!==""?h.search.substring(1,h.search.length):void 0,hash:h.hash!==""?h.hash.substring(1,h.hash.length):void 0}}function vt(n,l){return l?pr(n):n}function hr(n,l,h){let w;if(typeof l.baseURL=="string")try{w=new URL(l.baseURL),l.protocol===void 0&&(n.protocol=vt(w.protocol.substring(0,w.protocol.length-1),h)),!h&&l.protocol===void 0&&l.hostname===void 0&&l.port===void 0&&l.username===void 0&&(n.username=vt(w.username,h)),!h&&l.protocol===void 0&&l.hostname===void 0&&l.port===void 0&&l.username===void 0&&l.password===void 0&&(n.password=vt(w.password,h)),l.protocol===void 0&&l.hostname===void 0&&(n.hostname=vt(w.hostname,h)),l.protocol===void 0&&l.hostname===void 0&&l.port===void 0&&(n.port=vt(w.port,h)),l.protocol===void 0&&l.hostname===void 0&&l.port===void 0&&l.pathname===void 0&&(n.pathname=vt(w.pathname,h)),l.protocol===void 0&&l.hostname===void 0&&l.port===void 0&&l.pathname===void 0&&l.search===void 0&&(n.search=vt(w.search.substring(1,w.search.length),h)),l.protocol===void 0&&l.hostname===void 0&&l.port===void 0&&l.pathname===void 0&&l.search===void 0&&l.hash===void 0&&(n.hash=vt(w.hash.substring(1,w.hash.length),h))}catch{throw new TypeError(`invalid baseURL '${l.baseURL}'.`)}if(typeof l.protocol=="string"&&(n.protocol=An(l.protocol,h)),typeof l.username=="string"&&(n.username=_n(l.username,h)),typeof l.password=="string"&&(n.password=En(l.password,h)),typeof l.hostname=="string"&&(n.hostname=bn(l.hostname,h)),typeof l.port=="string"&&(n.port=xn(l.port,n.protocol,h)),typeof l.pathname=="string"){if(n.pathname=l.pathname,w&&!yn(n.pathname,h)){let z=w.pathname.lastIndexOf("/");z>=0&&(n.pathname=vt(w.pathname.substring(0,z+1),h)+n.pathname)}n.pathname=Sn(n.pathname,n.protocol,h)}return typeof l.search=="string"&&(n.search=vn(l.search,h)),typeof l.hash=="string"&&(n.hash=wn(l.hash,h)),n}function pr(n){return n.replace(/([+*?:{}()\\])/g,"\\$1")}function In(n){return n.replace(/([.+*?^${}()[\]|/\\])/g,"\\$1")}function Nn(n,l){l.delimiter??="/#?",l.prefixes??="./",l.sensitive??=!1,l.strict??=!1,l.end??=!0,l.start??=!0,l.endsWith="";let h=".*",w=`[^${In(l.delimiter)}]+?`,z=/[$_\u200C\u200D\p{ID_Continue}]/u,C="";for(let W=0;W<n.length;++W){let u=n[W];if(u.type===3){if(u.modifier===3){C+=pr(u.value);continue}C+=`{${pr(u.value)}}${ir(u.modifier)}`;continue}let P=u.hasCustomName(),_=!!u.suffix.length||!!u.prefix.length&&(u.prefix.length!==1||!l.prefixes.includes(u.prefix)),K=W>0?n[W-1]:null,G=W<n.length-1?n[W+1]:null;if(!_&&P&&u.type===1&&u.modifier===3&&G&&!G.prefix.length&&!G.suffix.length)if(G.type===3){let T=G.value.length>0?G.value[0]:"";_=z.test(T)}else _=!G.hasCustomName();if(!_&&!u.prefix.length&&K&&K.type===3){let T=K.value[K.value.length-1];_=l.prefixes.includes(T)}_&&(C+="{"),C+=pr(u.prefix),P&&(C+=`:${u.name}`),u.type===2?C+=`(${u.value})`:u.type===1?P||(C+=`(${w})`):u.type===0&&(!P&&(!K||K.type===3||K.modifier!==3||_||u.prefix!=="")?C+="*":C+=`(${h})`),u.type===1&&P&&u.suffix.length&&z.test(u.suffix[0])&&(C+="\\"),C+=pr(u.suffix),_&&(C+="}"),u.modifier!==3&&(C+=ir(u.modifier))}return C}var Vn,pe,fr,Xn,Yn,Gr,Lt,Qn,Zn,gn,Hn,Fr,Mt,Ur,Un=Ir(()=>{Vn=Object.defineProperty,pe=(n,l)=>Vn(n,"name",{value:l,configurable:!0}),fr=class{type=3;name="";prefix="";value="";suffix="";modifier=3;constructor(n,l,h,w,z,C){this.type=n,this.name=l,this.prefix=h,this.value=w,this.suffix=z,this.modifier=C}hasCustomName(){return this.name!==""&&typeof this.name!="number"}};pe(fr,"Part");Xn=/[$_\p{ID_Start}]/u,Yn=/[$_\u200C\u200D\p{ID_Continue}]/u,Gr=".*";pe(pn,"isASCII");pe(Yr,"lexer");pe(Qr,"parse");pe(it,"escapeString");pe(Vr,"flags");pe(fn,"stringToRegexp");pe(ir,"modifierToString");pe(Zr,"partsToRegexp");Lt={delimiter:"",prefixes:"",sensitive:!0,strict:!0},Qn={delimiter:".",prefixes:"",sensitive:!0,strict:!0},Zn={delimiter:"/",prefixes:"/",sensitive:!0,strict:!0};pe(yn,"isAbsolutePathname");pe(en,"maybeStripPrefix");pe(mn,"maybeStripSuffix");pe(tn,"treatAsIPv6Hostname");gn=["ftp","file","http","https","ws","wss"];pe(rn,"isSpecialScheme");pe(wn,"canonicalizeHash");pe(vn,"canonicalizeSearch");pe(bn,"canonicalizeHostname");pe(En,"canonicalizePassword");pe(_n,"canonicalizeUsername");pe(Sn,"canonicalizePathname");pe(xn,"canonicalizePort");pe(An,"canonicalizeProtocol");pe(nn,"defaultPortForProtocol");pe(Nr,"protocolEncodeCallback");pe(Cn,"usernameEncodeCallback");pe(Rn,"passwordEncodeCallback");pe(on,"hostnameEncodeCallback");pe(an,"ipv6HostnameEncodeCallback");pe(sn,"portEncodeCallback");pe(Pn,"standardURLPathnameEncodeCallback");pe(kn,"pathURLPathnameEncodeCallback");pe(Tn,"searchEncodeCallback");pe(On,"hashEncodeCallback");Hn=class{#o;#n=[];#t={};#e=0;#i=1;#c=0;#s=0;#p=0;#f=0;#y=!1;constructor(n){this.#o=n}get result(){return this.#t}parse(){for(this.#n=Yr(this.#o,!0);this.#e<this.#n.length;this.#e+=this.#i){if(this.#i=1,this.#n[this.#e].type==="END"){if(this.#s===0){this.#v(),this.#u()?this.#r(9,1):this.#d()?this.#r(8,1):this.#r(7,0);continue}else if(this.#s===2){this.#h(5);continue}this.#r(10,0);break}if(this.#p>0)if(this.#C())this.#p-=1;else continue;if(this.#A()){this.#p+=1;continue}switch(this.#s){case 0:this.#b()&&this.#h(1);break;case 1:if(this.#b()){this.#k();let n=7,l=1;this.#_()?(n=2,l=3):this.#y&&(n=2),this.#r(n,l)}break;case 2:this.#g()?this.#h(3):(this.#w()||this.#d()||this.#u())&&this.#h(5);break;case 3:this.#S()?this.#r(4,1):this.#g()&&this.#r(5,1);break;case 4:this.#g()&&this.#r(5,1);break;case 5:this.#R()?this.#f+=1:this.#P()&&(this.#f-=1),this.#x()&&!this.#f?this.#r(6,1):this.#w()?this.#r(7,0):this.#d()?this.#r(8,1):this.#u()&&this.#r(9,1);break;case 6:this.#w()?this.#r(7,0):this.#d()?this.#r(8,1):this.#u()&&this.#r(9,1);break;case 7:this.#d()?this.#r(8,1):this.#u()&&this.#r(9,1);break;case 8:this.#u()&&this.#r(9,1);break;case 9:break;case 10:break}}this.#t.hostname!==void 0&&this.#t.port===void 0&&(this.#t.port="")}#r(n,l){switch(this.#s){case 0:break;case 1:this.#t.protocol=this.#l();break;case 2:break;case 3:this.#t.username=this.#l();break;case 4:this.#t.password=this.#l();break;case 5:this.#t.hostname=this.#l();break;case 6:this.#t.port=this.#l();break;case 7:this.#t.pathname=this.#l();break;case 8:this.#t.search=this.#l();break;case 9:this.#t.hash=this.#l();break;case 10:break}this.#s!==0&&n!==10&&([1,2,3,4].includes(this.#s)&&[6,7,8,9].includes(n)&&(this.#t.hostname??=""),[1,2,3,4,5,6].includes(this.#s)&&[8,9].includes(n)&&(this.#t.pathname??=this.#y?"/":""),[1,2,3,4,5,6,7].includes(this.#s)&&n===9&&(this.#t.search??="")),this.#E(n,l)}#E(n,l){this.#s=n,this.#c=this.#e+l,this.#e+=l,this.#i=0}#v(){this.#e=this.#c,this.#i=0}#h(n){this.#v(),this.#s=n}#m(n){return n<0&&(n=this.#n.length-n),n<this.#n.length?this.#n[n]:this.#n[this.#n.length-1]}#a(n,l){let h=this.#m(n);return h.value===l&&(h.type==="CHAR"||h.type==="ESCAPED_CHAR"||h.type==="INVALID_CHAR")}#b(){return this.#a(this.#e,":")}#_(){return this.#a(this.#e+1,"/")&&this.#a(this.#e+2,"/")}#g(){return this.#a(this.#e,"@")}#S(){return this.#a(this.#e,":")}#x(){return this.#a(this.#e,":")}#w(){return this.#a(this.#e,"/")}#d(){if(this.#a(this.#e,"?"))return!0;if(this.#n[this.#e].value!=="?")return!1;let n=this.#m(this.#e-1);return n.type!=="NAME"&&n.type!=="REGEX"&&n.type!=="CLOSE"&&n.type!=="ASTERISK"}#u(){return this.#a(this.#e,"#")}#A(){return this.#n[this.#e].type=="OPEN"}#C(){return this.#n[this.#e].type=="CLOSE"}#R(){return this.#a(this.#e,"[")}#P(){return this.#a(this.#e,"]")}#l(){let n=this.#n[this.#e],l=this.#m(this.#c).index;return this.#o.substring(l,n.index)}#k(){let n={};Object.assign(n,Lt),n.encodePart=Nr;let l=fn(this.#l(),void 0,n);this.#y=rn(l)}};pe(Hn,"Parser");Fr=["protocol","username","password","hostname","port","pathname","search","hash"],Mt="*";pe(Xr,"extractValues");pe(vt,"processBaseURLString");pe(hr,"applyInit");pe(pr,"escapePatternString");pe(In,"escapeRegexpString");pe(Nn,"partsToPattern");Ur=class{#o;#n={};#t={};#e={};#i={};#c=!1;constructor(n={},l,h){try{let w;if(typeof l=="string"?w=l:h=l,typeof n=="string"){let u=new Hn(n);if(u.parse(),n=u.result,w===void 0&&typeof n.protocol!="string")throw new TypeError("A base URL must be provided for a relative constructor string.");n.baseURL=w}else{if(!n||typeof n!="object")throw new TypeError("parameter 1 is not of type 'string' and cannot convert to dictionary.");if(w)throw new TypeError("parameter 1 is not of type 'string'.")}typeof h>"u"&&(h={ignoreCase:!1});let z={ignoreCase:h.ignoreCase===!0},C={pathname:Mt,protocol:Mt,username:Mt,password:Mt,hostname:Mt,port:Mt,search:Mt,hash:Mt};this.#o=hr(C,n,!0),nn(this.#o.protocol)===this.#o.port&&(this.#o.port="");let W;for(W of Fr){if(!(W in this.#o))continue;let u={},P=this.#o[W];switch(this.#t[W]=[],W){case"protocol":Object.assign(u,Lt),u.encodePart=Nr;break;case"username":Object.assign(u,Lt),u.encodePart=Cn;break;case"password":Object.assign(u,Lt),u.encodePart=Rn;break;case"hostname":Object.assign(u,Qn),tn(P)?u.encodePart=an:u.encodePart=on;break;case"port":Object.assign(u,Lt),u.encodePart=sn;break;case"pathname":rn(this.#n.protocol)?(Object.assign(u,Zn,z),u.encodePart=Pn):(Object.assign(u,Lt,z),u.encodePart=kn);break;case"search":Object.assign(u,Lt,z),u.encodePart=Tn;break;case"hash":Object.assign(u,Lt,z),u.encodePart=On;break}try{this.#i[W]=Qr(P,u),this.#n[W]=Zr(this.#i[W],this.#t[W],u),this.#e[W]=Nn(this.#i[W],u),this.#c=this.#c||this.#i[W].some(_=>_.type===2)}catch{throw new TypeError(`invalid ${W} pattern '${this.#o[W]}'.`)}}}catch(w){throw new TypeError(`Failed to construct 'URLPattern': ${w.message}`)}}get[Symbol.toStringTag](){return"URLPattern"}test(n={},l){let h={pathname:"",protocol:"",username:"",password:"",hostname:"",port:"",search:"",hash:""};if(typeof n!="string"&&l)throw new TypeError("parameter 1 is not of type 'string'.");if(typeof n>"u")return!1;try{typeof n=="object"?h=hr(h,n,!1):h=hr(h,Xr(n,l),!1)}catch{return!1}let w;for(w of Fr)if(!this.#n[w].exec(h[w]))return!1;return!0}exec(n={},l){let h={pathname:"",protocol:"",username:"",password:"",hostname:"",port:"",search:"",hash:""};if(typeof n!="string"&&l)throw new TypeError("parameter 1 is not of type 'string'.");if(typeof n>"u")return;try{typeof n=="object"?h=hr(h,n,!1):h=hr(h,Xr(n,l),!1)}catch{return null}let w={};l?w.inputs=[n,l]:w.inputs=[n];let z;for(z of Fr){let C=this.#n[z].exec(h[z]);if(!C)return null;let W={};for(let[u,P]of this.#t[z].entries())if(typeof P=="string"||typeof P=="number"){let _=C[u+1];W[P]=_}w[z]={input:h[z]??"",groups:W}}return w}static compareComponent(n,l,h){let w=pe((u,P)=>{for(let _ of["type","modifier","prefix","value","suffix"]){if(u[_]<P[_])return-1;if(u[_]!==P[_])return 1}return 0},"comparePart"),z=new fr(3,"","","","",3),C=new fr(0,"","","","",3),W=pe((u,P)=>{let _=0;for(;_<Math.min(u.length,P.length);++_){let K=w(u[_],P[_]);if(K)return K}return u.length===P.length?0:w(u[_]??z,P[_]??z)},"comparePartList");return!l.#e[n]&&!h.#e[n]?0:l.#e[n]&&!h.#e[n]?W(l.#i[n],[C]):!l.#e[n]&&h.#e[n]?W([C],h.#i[n]):W(l.#i[n],h.#i[n])}get protocol(){return this.#e.protocol}get username(){return this.#e.username}get password(){return this.#e.password}get hostname(){return this.#e.hostname}get port(){return this.#e.port}get pathname(){return this.#e.pathname}get search(){return this.#e.search}get hash(){return this.#e.hash}get hasRegExpGroups(){return this.#c}};pe(Ur,"URLPattern")});var Wn={};Gn(Wn,{URLPattern:()=>Ur});var Kn=Ir(()=>{Un();globalThis.URLPattern||(globalThis.URLPattern=Ur)});var Dn=dn(()=>{"use strict";(()=>{"use strict";var n={},l={};function h(w){var z=l[w];if(z!==void 0)return z.exports;var C=l[w]={exports:{}},W=!0;try{n[w](C,C.exports,h),W=!1}finally{W&&delete l[w]}return C.exports}h.m=n,h.amdO={},(()=>{var w=[];h.O=(z,C,W,u)=>{if(C){u=u||0;for(var P=w.length;P>0&&w[P-1][2]>u;P--)w[P]=w[P-1];w[P]=[C,W,u];return}for(var _=1/0,P=0;P<w.length;P++){for(var[C,W,u]=w[P],K=!0,G=0;G<C.length;G++)(!1&u||_>=u)&&Object.keys(h.O).every(E=>h.O[E](C[G]))?C.splice(G--,1):(K=!1,u<_&&(_=u));if(K){w.splice(P--,1);var T=W();T!==void 0&&(z=T)}}return z}})(),h.n=w=>{var z=w&&w.__esModule?()=>w.default:()=>w;return h.d(z,{a:z}),z},h.d=(w,z)=>{for(var C in z)h.o(z,C)&&!h.o(w,C)&&Object.defineProperty(w,C,{enumerable:!0,get:z[C]})},h.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||Function("return this")()}catch{if(typeof window=="object")return window}}(),h.o=(w,z)=>Object.prototype.hasOwnProperty.call(w,z),h.r=w=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(w,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(w,"__esModule",{value:!0})},(()=>{var w={149:0};h.O.j=W=>w[W]===0;var z=(W,u)=>{var P,_,[K,G,T]=u,p=0;if(K.some(A=>w[A]!==0)){for(P in G)h.o(G,P)&&(h.m[P]=G[P]);if(T)var b=T(h)}for(W&&W(u);p<K.length;p++)_=K[p],h.o(w,_)&&w[_]&&w[_][0](),w[_]=0;return h.O(b)},C=self.webpackChunk_N_E=self.webpackChunk_N_E||[];C.forEach(z.bind(null,0)),C.push=z.bind(null,C.push.bind(C))})()})()});var Er={};import*as ui from"node:buffer";var Mn=Ir(()=>{dr(Er,ui)});var _r={};import*as di from"node:async_hooks";var Ln=Ir(()=>{dr(_r,di)});var jn=dn(()=>{"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[550],{1:(n,l,h)=>{"use strict";h.r(l),h.d(l,{NIL:()=>De,parse:()=>f,stringify:()=>T,v1:()=>A,v3:()=>me,v4:()=>F,v5:()=>Re,validate:()=>_,version:()=>We});var w,z,C,W=new Uint8Array(16);function u(){if(!w&&!(w=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto)))throw Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return w(W)}let P=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,_=function(V){return typeof V=="string"&&P.test(V)};for(var K=[],G=0;G<256;++G)K.push((G+256).toString(16).substr(1));let T=function(V){var ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,Q=(K[V[ne+0]]+K[V[ne+1]]+K[V[ne+2]]+K[V[ne+3]]+"-"+K[V[ne+4]]+K[V[ne+5]]+"-"+K[V[ne+6]]+K[V[ne+7]]+"-"+K[V[ne+8]]+K[V[ne+9]]+"-"+K[V[ne+10]]+K[V[ne+11]]+K[V[ne+12]]+K[V[ne+13]]+K[V[ne+14]]+K[V[ne+15]]).toLowerCase();if(!_(Q))throw TypeError("Stringified UUID is invalid");return Q};var p=0,b=0;let A=function(V,ne,Q){var L=ne&&Q||0,M=ne||Array(16),U=(V=V||{}).node||z,H=V.clockseq!==void 0?V.clockseq:C;if(U==null||H==null){var J=V.random||(V.rng||u)();U==null&&(U=z=[1|J[0],J[1],J[2],J[3],J[4],J[5]]),H==null&&(H=C=(J[6]<<8|J[7])&16383)}var q=V.msecs!==void 0?V.msecs:Date.now(),j=V.nsecs!==void 0?V.nsecs:b+1,ke=q-p+(j-b)/1e4;if(ke<0&&V.clockseq===void 0&&(H=H+1&16383),(ke<0||q>p)&&V.nsecs===void 0&&(j=0),j>=1e4)throw Error("uuid.v1(): Can't create more than 10M uuids/sec");p=q,b=j,C=H;var Ae=((268435455&(q+=122192928e5))*1e4+j)%4294967296;M[L++]=Ae>>>24&255,M[L++]=Ae>>>16&255,M[L++]=Ae>>>8&255,M[L++]=255&Ae;var Oe=q/4294967296*1e4&268435455;M[L++]=Oe>>>8&255,M[L++]=255&Oe,M[L++]=Oe>>>24&15|16,M[L++]=Oe>>>16&255,M[L++]=H>>>8|128,M[L++]=255&H;for(var ve=0;ve<6;++ve)M[L+ve]=U[ve];return ne||T(M)},f=function(V){if(!_(V))throw TypeError("Invalid UUID");var ne,Q=new Uint8Array(16);return Q[0]=(ne=parseInt(V.slice(0,8),16))>>>24,Q[1]=ne>>>16&255,Q[2]=ne>>>8&255,Q[3]=255&ne,Q[4]=(ne=parseInt(V.slice(9,13),16))>>>8,Q[5]=255&ne,Q[6]=(ne=parseInt(V.slice(14,18),16))>>>8,Q[7]=255&ne,Q[8]=(ne=parseInt(V.slice(19,23),16))>>>8,Q[9]=255&ne,Q[10]=(ne=parseInt(V.slice(24,36),16))/1099511627776&255,Q[11]=ne/4294967296&255,Q[12]=ne>>>24&255,Q[13]=ne>>>16&255,Q[14]=ne>>>8&255,Q[15]=255&ne,Q};function E(V,ne,Q){function L(M,U,H,J){if(typeof M=="string"&&(M=function(ke){ke=unescape(encodeURIComponent(ke));for(var Ae=[],Oe=0;Oe<ke.length;++Oe)Ae.push(ke.charCodeAt(Oe));return Ae}(M)),typeof U=="string"&&(U=f(U)),U.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var q=new Uint8Array(16+M.length);if(q.set(U),q.set(M,U.length),(q=Q(q))[6]=15&q[6]|ne,q[8]=63&q[8]|128,H){J=J||0;for(var j=0;j<16;++j)H[J+j]=q[j];return H}return T(q)}try{L.name=V}catch{}return L.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",L.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",L}function m(V){return(V+64>>>9<<4)+14+1}function y(V,ne){var Q=(65535&V)+(65535&ne);return(V>>16)+(ne>>16)+(Q>>16)<<16|65535&Q}function k(V,ne,Q,L,M,U){var H;return y((H=y(y(ne,V),y(L,U)))<<M|H>>>32-M,Q)}function Z(V,ne,Q,L,M,U,H){return k(ne&Q|~ne&L,V,ne,M,U,H)}function re(V,ne,Q,L,M,U,H){return k(ne&L|Q&~L,V,ne,M,U,H)}function N(V,ne,Q,L,M,U,H){return k(ne^Q^L,V,ne,M,U,H)}function ee(V,ne,Q,L,M,U,H){return k(Q^(ne|~L),V,ne,M,U,H)}let me=E("v3",48,function(V){if(typeof V=="string"){var ne=unescape(encodeURIComponent(V));V=new Uint8Array(ne.length);for(var Q=0;Q<ne.length;++Q)V[Q]=ne.charCodeAt(Q)}return function(L){for(var M=[],U=32*L.length,H="0123456789abcdef",J=0;J<U;J+=8){var q=L[J>>5]>>>J%32&255,j=parseInt(H.charAt(q>>>4&15)+H.charAt(15&q),16);M.push(j)}return M}(function(L,M){L[M>>5]|=128<<M%32,L[m(M)-1]=M;for(var U=1732584193,H=-271733879,J=-1732584194,q=271733878,j=0;j<L.length;j+=16){var ke=U,Ae=H,Oe=J,ve=q;U=Z(U,H,J,q,L[j],7,-680876936),q=Z(q,U,H,J,L[j+1],12,-389564586),J=Z(J,q,U,H,L[j+2],17,606105819),H=Z(H,J,q,U,L[j+3],22,-1044525330),U=Z(U,H,J,q,L[j+4],7,-176418897),q=Z(q,U,H,J,L[j+5],12,1200080426),J=Z(J,q,U,H,L[j+6],17,-1473231341),H=Z(H,J,q,U,L[j+7],22,-45705983),U=Z(U,H,J,q,L[j+8],7,1770035416),q=Z(q,U,H,J,L[j+9],12,-1958414417),J=Z(J,q,U,H,L[j+10],17,-42063),H=Z(H,J,q,U,L[j+11],22,-1990404162),U=Z(U,H,J,q,L[j+12],7,1804603682),q=Z(q,U,H,J,L[j+13],12,-40341101),J=Z(J,q,U,H,L[j+14],17,-1502002290),H=Z(H,J,q,U,L[j+15],22,1236535329),U=re(U,H,J,q,L[j+1],5,-165796510),q=re(q,U,H,J,L[j+6],9,-1069501632),J=re(J,q,U,H,L[j+11],14,643717713),H=re(H,J,q,U,L[j],20,-373897302),U=re(U,H,J,q,L[j+5],5,-701558691),q=re(q,U,H,J,L[j+10],9,38016083),J=re(J,q,U,H,L[j+15],14,-660478335),H=re(H,J,q,U,L[j+4],20,-405537848),U=re(U,H,J,q,L[j+9],5,568446438),q=re(q,U,H,J,L[j+14],9,-1019803690),J=re(J,q,U,H,L[j+3],14,-187363961),H=re(H,J,q,U,L[j+8],20,1163531501),U=re(U,H,J,q,L[j+13],5,-1444681467),q=re(q,U,H,J,L[j+2],9,-51403784),J=re(J,q,U,H,L[j+7],14,1735328473),H=re(H,J,q,U,L[j+12],20,-1926607734),U=N(U,H,J,q,L[j+5],4,-378558),q=N(q,U,H,J,L[j+8],11,-2022574463),J=N(J,q,U,H,L[j+11],16,1839030562),H=N(H,J,q,U,L[j+14],23,-35309556),U=N(U,H,J,q,L[j+1],4,-1530992060),q=N(q,U,H,J,L[j+4],11,1272893353),J=N(J,q,U,H,L[j+7],16,-155497632),H=N(H,J,q,U,L[j+10],23,-1094730640),U=N(U,H,J,q,L[j+13],4,681279174),q=N(q,U,H,J,L[j],11,-358537222),J=N(J,q,U,H,L[j+3],16,-722521979),H=N(H,J,q,U,L[j+6],23,76029189),U=N(U,H,J,q,L[j+9],4,-640364487),q=N(q,U,H,J,L[j+12],11,-421815835),J=N(J,q,U,H,L[j+15],16,530742520),H=N(H,J,q,U,L[j+2],23,-995338651),U=ee(U,H,J,q,L[j],6,-198630844),q=ee(q,U,H,J,L[j+7],10,1126891415),J=ee(J,q,U,H,L[j+14],15,-1416354905),H=ee(H,J,q,U,L[j+5],21,-57434055),U=ee(U,H,J,q,L[j+12],6,1700485571),q=ee(q,U,H,J,L[j+3],10,-1894986606),J=ee(J,q,U,H,L[j+10],15,-1051523),H=ee(H,J,q,U,L[j+1],21,-2054922799),U=ee(U,H,J,q,L[j+8],6,1873313359),q=ee(q,U,H,J,L[j+15],10,-30611744),J=ee(J,q,U,H,L[j+6],15,-1560198380),H=ee(H,J,q,U,L[j+13],21,1309151649),U=ee(U,H,J,q,L[j+4],6,-145523070),q=ee(q,U,H,J,L[j+11],10,-1120210379),J=ee(J,q,U,H,L[j+2],15,718787259),H=ee(H,J,q,U,L[j+9],21,-343485551),U=y(U,ke),H=y(H,Ae),J=y(J,Oe),q=y(q,ve)}return[U,H,J,q]}(function(L){if(L.length===0)return[];for(var M=8*L.length,U=new Uint32Array(m(M)),H=0;H<M;H+=8)U[H>>5]|=(255&L[H/8])<<H%32;return U}(V),8*V.length))}),F=function(V,ne,Q){var L=(V=V||{}).random||(V.rng||u)();if(L[6]=15&L[6]|64,L[8]=63&L[8]|128,ne){Q=Q||0;for(var M=0;M<16;++M)ne[Q+M]=L[M];return ne}return T(L)};function le(V,ne){return V<<ne|V>>>32-ne}let Re=E("v5",80,function(V){var ne=[1518500249,1859775393,2400959708,3395469782],Q=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof V=="string"){var L=unescape(encodeURIComponent(V));V=[];for(var M=0;M<L.length;++M)V.push(L.charCodeAt(M))}else Array.isArray(V)||(V=Array.prototype.slice.call(V));V.push(128);for(var U=Math.ceil((V.length/4+2)/16),H=Array(U),J=0;J<U;++J){for(var q=new Uint32Array(16),j=0;j<16;++j)q[j]=V[64*J+4*j]<<24|V[64*J+4*j+1]<<16|V[64*J+4*j+2]<<8|V[64*J+4*j+3];H[J]=q}H[U-1][14]=(V.length-1)*8/4294967296,H[U-1][14]=Math.floor(H[U-1][14]),H[U-1][15]=(V.length-1)*8|0;for(var ke=0;ke<U;++ke){for(var Ae=new Uint32Array(80),Oe=0;Oe<16;++Oe)Ae[Oe]=H[ke][Oe];for(var ve=16;ve<80;++ve)Ae[ve]=le(Ae[ve-3]^Ae[ve-8]^Ae[ve-14]^Ae[ve-16],1);for(var Ge=Q[0],Te=Q[1],Ve=Q[2],_e=Q[3],Fe=Q[4],$e=0;$e<80;++$e){var Je=Math.floor($e/20),ct=le(Ge,5)+function(Qe,Ke,Ce,Me){switch(Qe){case 0:return Ke&Ce^~Ke&Me;case 1:case 3:return Ke^Ce^Me;case 2:return Ke&Ce^Ke&Me^Ce&Me}}(Je,Te,Ve,_e)+Fe+ne[Je]+Ae[$e]>>>0;Fe=_e,_e=Ve,Ve=le(Te,30)>>>0,Te=Ge,Ge=ct}Q[0]=Q[0]+Ge>>>0,Q[1]=Q[1]+Te>>>0,Q[2]=Q[2]+Ve>>>0,Q[3]=Q[3]+_e>>>0,Q[4]=Q[4]+Fe>>>0}return[Q[0]>>24&255,Q[0]>>16&255,Q[0]>>8&255,255&Q[0],Q[1]>>24&255,Q[1]>>16&255,Q[1]>>8&255,255&Q[1],Q[2]>>24&255,Q[2]>>16&255,Q[2]>>8&255,255&Q[2],Q[3]>>24&255,Q[3]>>16&255,Q[3]>>8&255,255&Q[3],Q[4]>>24&255,Q[4]>>16&255,Q[4]>>8&255,255&Q[4]]}),De="00000000-0000-0000-0000-000000000000",We=function(V){if(!_(V))throw TypeError("Invalid UUID");return parseInt(V.substr(14,1),16)}},153:(n,l,h)=>{"use strict";h.r(l),h.d(l,{default:()=>C,hkdf:()=>C});let w=async(W,u,P,_,K)=>{let{crypto:{subtle:G}}=(()=>{if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;throw Error("unable to locate global object")})();return new Uint8Array(await G.deriveBits({name:"HKDF",hash:`SHA-${W.substr(3)}`,salt:P,info:_},await G.importKey("raw",u,"HKDF",!1,["deriveBits"]),K<<3))};function z(W,u){if(typeof W=="string")return new TextEncoder().encode(W);if(!(W instanceof Uint8Array))throw TypeError(`"${u}"" must be an instance of Uint8Array or a string`);return W}async function C(W,u,P,_,K){return w(function(G){switch(G){case"sha256":case"sha384":case"sha512":case"sha1":return G;default:throw TypeError('unsupported "digest" value')}}(W),function(G){let T=z(G,"ikm");if(!T.byteLength)throw TypeError('"ikm" must be at least one byte in length');return T}(u),z(P,"salt"),function(G){let T=z(G,"info");if(T.byteLength>1024)throw TypeError('"info" must not contain more than 1024 bytes');return T}(_),function(G,T){if(typeof G!="number"||!Number.isInteger(G)||G<1)throw TypeError('"keylen" must be a positive integer');if(G>255*(parseInt(T.substr(3),10)>>3||20))throw TypeError('"keylen" too large');return G}(K,W))}},165:(n,l,h)=>{"use strict";var w=h(356).Buffer;Object.defineProperty(l,"__esModule",{value:!0}),function(_,K){for(var G in K)Object.defineProperty(_,G,{enumerable:!0,get:K[G]})}(l,{handleFetch:function(){return u},interceptFetch:function(){return P},reader:function(){return C}});let z=h(392),C={url:_=>_.url,header:(_,K)=>_.headers.get(K)};async function W(_,K){let{url:G,method:T,headers:p,body:b,cache:A,credentials:f,integrity:E,mode:m,redirect:y,referrer:k,referrerPolicy:Z}=K;return{testData:_,api:"fetch",request:{url:G,method:T,headers:[...Array.from(p),["next-test-stack",function(){let re=(Error().stack??"").split(`
`);for(let N=1;N<re.length;N++)if(re[N].length>0){re=re.slice(N);break}return(re=(re=(re=re.filter(N=>!N.includes("/next/dist/"))).slice(0,5)).map(N=>N.replace("webpack-internal:///(rsc)/","").trim())).join("    ")}()]],body:b?w.from(await K.arrayBuffer()).toString("base64"):null,cache:A,credentials:f,integrity:E,mode:m,redirect:y,referrer:k,referrerPolicy:Z}}}async function u(_,K){let G=(0,z.getTestReqInfo)(K,C);if(!G)return _(K);let{testData:T,proxyPort:p}=G,b=await W(T,K),A=await _(`http://localhost:${p}`,{method:"POST",body:JSON.stringify(b),next:{internal:!0}});if(!A.ok)throw Object.defineProperty(Error(`Proxy request failed: ${A.status}`),"__NEXT_ERROR_CODE",{value:"E146",enumerable:!1,configurable:!0});let f=await A.json(),{api:E}=f;switch(E){case"continue":return _(K);case"abort":case"unhandled":throw Object.defineProperty(Error(`Proxy request aborted [${K.method} ${K.url}]`),"__NEXT_ERROR_CODE",{value:"E145",enumerable:!1,configurable:!0});case"fetch":let{status:m,headers:y,body:k}=f.response;return new Response(k?w.from(k,"base64"):null,{status:m,headers:new Headers(y)});default:return E}}function P(_){return h.g.fetch=function(K,G){var T;return!(G==null||(T=G.next)==null)&&T.internal?_(K,G):u(_,new Request(K,G))},()=>{h.g.fetch=_}}},213:n=>{(()=>{"use strict";var l={993:C=>{var W=Object.prototype.hasOwnProperty,u="~";function P(){}function _(p,b,A){this.fn=p,this.context=b,this.once=A||!1}function K(p,b,A,f,E){if(typeof A!="function")throw TypeError("The listener must be a function");var m=new _(A,f||p,E),y=u?u+b:b;return p._events[y]?p._events[y].fn?p._events[y]=[p._events[y],m]:p._events[y].push(m):(p._events[y]=m,p._eventsCount++),p}function G(p,b){--p._eventsCount==0?p._events=new P:delete p._events[b]}function T(){this._events=new P,this._eventsCount=0}Object.create&&(P.prototype=Object.create(null),new P().__proto__||(u=!1)),T.prototype.eventNames=function(){var p,b,A=[];if(this._eventsCount===0)return A;for(b in p=this._events)W.call(p,b)&&A.push(u?b.slice(1):b);return Object.getOwnPropertySymbols?A.concat(Object.getOwnPropertySymbols(p)):A},T.prototype.listeners=function(p){var b=u?u+p:p,A=this._events[b];if(!A)return[];if(A.fn)return[A.fn];for(var f=0,E=A.length,m=Array(E);f<E;f++)m[f]=A[f].fn;return m},T.prototype.listenerCount=function(p){var b=u?u+p:p,A=this._events[b];return A?A.fn?1:A.length:0},T.prototype.emit=function(p,b,A,f,E,m){var y=u?u+p:p;if(!this._events[y])return!1;var k,Z,re=this._events[y],N=arguments.length;if(re.fn){switch(re.once&&this.removeListener(p,re.fn,void 0,!0),N){case 1:return re.fn.call(re.context),!0;case 2:return re.fn.call(re.context,b),!0;case 3:return re.fn.call(re.context,b,A),!0;case 4:return re.fn.call(re.context,b,A,f),!0;case 5:return re.fn.call(re.context,b,A,f,E),!0;case 6:return re.fn.call(re.context,b,A,f,E,m),!0}for(Z=1,k=Array(N-1);Z<N;Z++)k[Z-1]=arguments[Z];re.fn.apply(re.context,k)}else{var ee,me=re.length;for(Z=0;Z<me;Z++)switch(re[Z].once&&this.removeListener(p,re[Z].fn,void 0,!0),N){case 1:re[Z].fn.call(re[Z].context);break;case 2:re[Z].fn.call(re[Z].context,b);break;case 3:re[Z].fn.call(re[Z].context,b,A);break;case 4:re[Z].fn.call(re[Z].context,b,A,f);break;default:if(!k)for(ee=1,k=Array(N-1);ee<N;ee++)k[ee-1]=arguments[ee];re[Z].fn.apply(re[Z].context,k)}}return!0},T.prototype.on=function(p,b,A){return K(this,p,b,A,!1)},T.prototype.once=function(p,b,A){return K(this,p,b,A,!0)},T.prototype.removeListener=function(p,b,A,f){var E=u?u+p:p;if(!this._events[E])return this;if(!b)return G(this,E),this;var m=this._events[E];if(m.fn)m.fn!==b||f&&!m.once||A&&m.context!==A||G(this,E);else{for(var y=0,k=[],Z=m.length;y<Z;y++)(m[y].fn!==b||f&&!m[y].once||A&&m[y].context!==A)&&k.push(m[y]);k.length?this._events[E]=k.length===1?k[0]:k:G(this,E)}return this},T.prototype.removeAllListeners=function(p){var b;return p?(b=u?u+p:p,this._events[b]&&G(this,b)):(this._events=new P,this._eventsCount=0),this},T.prototype.off=T.prototype.removeListener,T.prototype.addListener=T.prototype.on,T.prefixed=u,T.EventEmitter=T,C.exports=T},213:C=>{C.exports=(W,u)=>(u=u||(()=>{}),W.then(P=>new Promise(_=>{_(u())}).then(()=>P),P=>new Promise(_=>{_(u())}).then(()=>{throw P})))},574:(C,W)=>{Object.defineProperty(W,"__esModule",{value:!0}),W.default=function(u,P,_){let K=0,G=u.length;for(;G>0;){let T=G/2|0,p=K+T;0>=_(u[p],P)?(K=++p,G-=T+1):G=T}return K}},821:(C,W,u)=>{Object.defineProperty(W,"__esModule",{value:!0});let P=u(574);class _{constructor(){this._queue=[]}enqueue(G,T){let p={priority:(T=Object.assign({priority:0},T)).priority,run:G};if(this.size&&this._queue[this.size-1].priority>=T.priority)return void this._queue.push(p);let b=P.default(this._queue,p,(A,f)=>f.priority-A.priority);this._queue.splice(b,0,p)}dequeue(){let G=this._queue.shift();return G?.run}filter(G){return this._queue.filter(T=>T.priority===G.priority).map(T=>T.run)}get size(){return this._queue.length}}W.default=_},816:(C,W,u)=>{let P=u(213);class _ extends Error{constructor(T){super(T),this.name="TimeoutError"}}let K=(G,T,p)=>new Promise((b,A)=>{if(typeof T!="number"||T<0)throw TypeError("Expected `milliseconds` to be a positive number");if(T===1/0)return void b(G);let f=setTimeout(()=>{if(typeof p=="function"){try{b(p())}catch(y){A(y)}return}let E=typeof p=="string"?p:`Promise timed out after ${T} milliseconds`,m=p instanceof Error?p:new _(E);typeof G.cancel=="function"&&G.cancel(),A(m)},T);P(G.then(b,A),()=>{clearTimeout(f)})});C.exports=K,C.exports.default=K,C.exports.TimeoutError=_}},h={};function w(C){var W=h[C];if(W!==void 0)return W.exports;var u=h[C]={exports:{}},P=!0;try{l[C](u,u.exports,w),P=!1}finally{P&&delete h[C]}return u.exports}w.ab="//";var z={};(()=>{Object.defineProperty(z,"__esModule",{value:!0});let C=w(993),W=w(816),u=w(821),P=()=>{},_=new W.TimeoutError;class K extends C{constructor(T){var p,b,A,f;if(super(),this._intervalCount=0,this._intervalEnd=0,this._pendingCount=0,this._resolveEmpty=P,this._resolveIdle=P,!(typeof(T=Object.assign({carryoverConcurrencyCount:!1,intervalCap:1/0,interval:0,concurrency:1/0,autoStart:!0,queueClass:u.default},T)).intervalCap=="number"&&T.intervalCap>=1))throw TypeError(`Expected \`intervalCap\` to be a number from 1 and up, got \`${(b=(p=T.intervalCap)==null?void 0:p.toString())!=null?b:""}\` (${typeof T.intervalCap})`);if(T.interval===void 0||!(Number.isFinite(T.interval)&&T.interval>=0))throw TypeError(`Expected \`interval\` to be a finite number >= 0, got \`${(f=(A=T.interval)==null?void 0:A.toString())!=null?f:""}\` (${typeof T.interval})`);this._carryoverConcurrencyCount=T.carryoverConcurrencyCount,this._isIntervalIgnored=T.intervalCap===1/0||T.interval===0,this._intervalCap=T.intervalCap,this._interval=T.interval,this._queue=new T.queueClass,this._queueClass=T.queueClass,this.concurrency=T.concurrency,this._timeout=T.timeout,this._throwOnTimeout=T.throwOnTimeout===!0,this._isPaused=T.autoStart===!1}get _doesIntervalAllowAnother(){return this._isIntervalIgnored||this._intervalCount<this._intervalCap}get _doesConcurrentAllowAnother(){return this._pendingCount<this._concurrency}_next(){this._pendingCount--,this._tryToStartAnother(),this.emit("next")}_resolvePromises(){this._resolveEmpty(),this._resolveEmpty=P,this._pendingCount===0&&(this._resolveIdle(),this._resolveIdle=P,this.emit("idle"))}_onResumeInterval(){this._onInterval(),this._initializeIntervalIfNeeded(),this._timeoutId=void 0}_isIntervalPaused(){let T=Date.now();if(this._intervalId===void 0){let p=this._intervalEnd-T;if(!(p<0))return this._timeoutId===void 0&&(this._timeoutId=setTimeout(()=>{this._onResumeInterval()},p)),!0;this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0}return!1}_tryToStartAnother(){if(this._queue.size===0)return this._intervalId&&clearInterval(this._intervalId),this._intervalId=void 0,this._resolvePromises(),!1;if(!this._isPaused){let T=!this._isIntervalPaused();if(this._doesIntervalAllowAnother&&this._doesConcurrentAllowAnother){let p=this._queue.dequeue();return!!p&&(this.emit("active"),p(),T&&this._initializeIntervalIfNeeded(),!0)}}return!1}_initializeIntervalIfNeeded(){this._isIntervalIgnored||this._intervalId!==void 0||(this._intervalId=setInterval(()=>{this._onInterval()},this._interval),this._intervalEnd=Date.now()+this._interval)}_onInterval(){this._intervalCount===0&&this._pendingCount===0&&this._intervalId&&(clearInterval(this._intervalId),this._intervalId=void 0),this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0,this._processQueue()}_processQueue(){for(;this._tryToStartAnother(););}get concurrency(){return this._concurrency}set concurrency(T){if(!(typeof T=="number"&&T>=1))throw TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${T}\` (${typeof T})`);this._concurrency=T,this._processQueue()}async add(T,p={}){return new Promise((b,A)=>{let f=async()=>{this._pendingCount++,this._intervalCount++;try{let E=this._timeout===void 0&&p.timeout===void 0?T():W.default(Promise.resolve(T()),p.timeout===void 0?this._timeout:p.timeout,()=>{(p.throwOnTimeout===void 0?this._throwOnTimeout:p.throwOnTimeout)&&A(_)});b(await E)}catch(E){A(E)}this._next()};this._queue.enqueue(f,p),this._tryToStartAnother(),this.emit("add")})}async addAll(T,p){return Promise.all(T.map(async b=>this.add(b,p)))}start(){return this._isPaused&&(this._isPaused=!1,this._processQueue()),this}pause(){this._isPaused=!0}clear(){this._queue=new this._queueClass}async onEmpty(){if(this._queue.size!==0)return new Promise(T=>{let p=this._resolveEmpty;this._resolveEmpty=()=>{p(),T()}})}async onIdle(){if(this._pendingCount!==0||this._queue.size!==0)return new Promise(T=>{let p=this._resolveIdle;this._resolveIdle=()=>{p(),T()}})}get size(){return this._queue.size}sizeBy(T){return this._queue.filter(T).length}get pending(){return this._pendingCount}get isPaused(){return this._isPaused}get timeout(){return this._timeout}set timeout(T){this._timeout=T}}z.default=K})(),n.exports=z})()},234:(n,l,h)=>{"use strict";h.r(l),h.d(l,{DiagConsoleLogger:()=>L,DiagLogLevel:()=>w,INVALID_SPANID:()=>be,INVALID_SPAN_CONTEXT:()=>ue,INVALID_TRACEID:()=>qe,ProxyTracer:()=>ht,ProxyTracerProvider:()=>Ft,ROOT_CONTEXT:()=>ne,SamplingDecision:()=>W,SpanKind:()=>u,SpanStatusCode:()=>P,TraceFlags:()=>C,ValueType:()=>z,baggageEntryMetadataFromString:()=>We,context:()=>kt,createContextKey:()=>V,createNoopMeter:()=>Ke,createTraceState:()=>yt,default:()=>at,defaultTextMapGetter:()=>Ce,defaultTextMapSetter:()=>Me,diag:()=>Tt,isSpanContextValid:()=>qt,isValidSpanId:()=>Bt,isValidTraceId:()=>dt,metrics:()=>Yt,propagation:()=>Zt,trace:()=>er});var w,z,C,W,u,P,_=typeof globalThis=="object"?globalThis:typeof self=="object"?self:typeof window=="object"?window:typeof h.g=="object"?h.g:{},K="1.9.0",G=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/,T=function(a){var d=new Set([a]),g=new Set,O=a.match(G);if(!O)return function(){return!1};var B={major:+O[1],minor:+O[2],patch:+O[3],prerelease:O[4]};if(B.prerelease!=null)return function(se){return se===a};function ie(se){return g.add(se),!1}return function(se){if(d.has(se))return!0;if(g.has(se))return!1;var Ee=se.match(G);if(!Ee)return ie(se);var ze={major:+Ee[1],minor:+Ee[2],patch:+Ee[3],prerelease:Ee[4]};return ze.prerelease!=null||B.major!==ze.major?ie(se):B.major===0?B.minor===ze.minor&&B.patch<=ze.patch?(d.add(se),!0):ie(se):B.minor<=ze.minor?(d.add(se),!0):ie(se)}}(K),p=Symbol.for("opentelemetry.js.api."+K.split(".")[0]);function b(a,d,g,O){O===void 0&&(O=!1);var B,ie=_[p]=(B=_[p])!=null?B:{version:K};if(!O&&ie[a]){var se=Error("@opentelemetry/api: Attempted duplicate registration of API: "+a);return g.error(se.stack||se.message),!1}if(ie.version!==K){var se=Error("@opentelemetry/api: Registration of version v"+ie.version+" for "+a+" does not match previously registered API v"+K);return g.error(se.stack||se.message),!1}return ie[a]=d,g.debug("@opentelemetry/api: Registered a global for "+a+" v"+K+"."),!0}function A(a){var d,g,O=(d=_[p])==null?void 0:d.version;if(O&&T(O))return(g=_[p])==null?void 0:g[a]}function f(a,d){d.debug("@opentelemetry/api: Unregistering a global for "+a+" v"+K+".");var g=_[p];g&&delete g[a]}var E=function(a,d){var g=typeof Symbol=="function"&&a[Symbol.iterator];if(!g)return a;var O,B,ie=g.call(a),se=[];try{for(;(d===void 0||d-- >0)&&!(O=ie.next()).done;)se.push(O.value)}catch(Ee){B={error:Ee}}finally{try{O&&!O.done&&(g=ie.return)&&g.call(ie)}finally{if(B)throw B.error}}return se},m=function(a,d,g){if(g||arguments.length==2)for(var O,B=0,ie=d.length;B<ie;B++)!O&&B in d||(O||(O=Array.prototype.slice.call(d,0,B)),O[B]=d[B]);return a.concat(O||Array.prototype.slice.call(d))},y=function(){function a(d){this._namespace=d.namespace||"DiagComponentLogger"}return a.prototype.debug=function(){for(var d=[],g=0;g<arguments.length;g++)d[g]=arguments[g];return k("debug",this._namespace,d)},a.prototype.error=function(){for(var d=[],g=0;g<arguments.length;g++)d[g]=arguments[g];return k("error",this._namespace,d)},a.prototype.info=function(){for(var d=[],g=0;g<arguments.length;g++)d[g]=arguments[g];return k("info",this._namespace,d)},a.prototype.warn=function(){for(var d=[],g=0;g<arguments.length;g++)d[g]=arguments[g];return k("warn",this._namespace,d)},a.prototype.verbose=function(){for(var d=[],g=0;g<arguments.length;g++)d[g]=arguments[g];return k("verbose",this._namespace,d)},a}();function k(a,d,g){var O=A("diag");if(O)return g.unshift(d),O[a].apply(O,m([],E(g),!1))}(function(a){a[a.NONE=0]="NONE",a[a.ERROR=30]="ERROR",a[a.WARN=50]="WARN",a[a.INFO=60]="INFO",a[a.DEBUG=70]="DEBUG",a[a.VERBOSE=80]="VERBOSE",a[a.ALL=9999]="ALL"})(w||(w={}));var Z=function(a,d){var g=typeof Symbol=="function"&&a[Symbol.iterator];if(!g)return a;var O,B,ie=g.call(a),se=[];try{for(;(d===void 0||d-- >0)&&!(O=ie.next()).done;)se.push(O.value)}catch(Ee){B={error:Ee}}finally{try{O&&!O.done&&(g=ie.return)&&g.call(ie)}finally{if(B)throw B.error}}return se},re=function(a,d,g){if(g||arguments.length==2)for(var O,B=0,ie=d.length;B<ie;B++)!O&&B in d||(O||(O=Array.prototype.slice.call(d,0,B)),O[B]=d[B]);return a.concat(O||Array.prototype.slice.call(d))},N=function(){function a(){function d(O){return function(){for(var B=[],ie=0;ie<arguments.length;ie++)B[ie]=arguments[ie];var se=A("diag");if(se)return se[O].apply(se,re([],Z(B),!1))}}var g=this;g.setLogger=function(O,B){if(B===void 0&&(B={logLevel:w.INFO}),O===g){var ie,se,Ee,ze=Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return g.error((ie=ze.stack)!=null?ie:ze.message),!1}typeof B=="number"&&(B={logLevel:B});var st=A("diag"),mt=function(gt,Ut){function nt(Wt,gr){var tr=Ut[Wt];return typeof tr=="function"&&gt>=gr?tr.bind(Ut):function(){}}return gt<w.NONE?gt=w.NONE:gt>w.ALL&&(gt=w.ALL),Ut=Ut||{},{error:nt("error",w.ERROR),warn:nt("warn",w.WARN),info:nt("info",w.INFO),debug:nt("debug",w.DEBUG),verbose:nt("verbose",w.VERBOSE)}}((se=B.logLevel)!=null?se:w.INFO,O);if(st&&!B.suppressOverrideMessage){var Et=(Ee=Error().stack)!=null?Ee:"<failed to generate stacktrace>";st.warn("Current logger will be overwritten from "+Et),mt.warn("Current logger will overwrite one already registered from "+Et)}return b("diag",mt,g,!0)},g.disable=function(){f("diag",g)},g.createComponentLogger=function(O){return new y(O)},g.verbose=d("verbose"),g.debug=d("debug"),g.info=d("info"),g.warn=d("warn"),g.error=d("error")}return a.instance=function(){return this._instance||(this._instance=new a),this._instance},a}(),ee=function(a,d){var g=typeof Symbol=="function"&&a[Symbol.iterator];if(!g)return a;var O,B,ie=g.call(a),se=[];try{for(;(d===void 0||d-- >0)&&!(O=ie.next()).done;)se.push(O.value)}catch(Ee){B={error:Ee}}finally{try{O&&!O.done&&(g=ie.return)&&g.call(ie)}finally{if(B)throw B.error}}return se},me=function(a){var d=typeof Symbol=="function"&&Symbol.iterator,g=d&&a[d],O=0;if(g)return g.call(a);if(a&&typeof a.length=="number")return{next:function(){return a&&O>=a.length&&(a=void 0),{value:a&&a[O++],done:!a}}};throw TypeError(d?"Object is not iterable.":"Symbol.iterator is not defined.")},F=function(){function a(d){this._entries=d?new Map(d):new Map}return a.prototype.getEntry=function(d){var g=this._entries.get(d);if(g)return Object.assign({},g)},a.prototype.getAllEntries=function(){return Array.from(this._entries.entries()).map(function(d){var g=ee(d,2);return[g[0],g[1]]})},a.prototype.setEntry=function(d,g){var O=new a(this._entries);return O._entries.set(d,g),O},a.prototype.removeEntry=function(d){var g=new a(this._entries);return g._entries.delete(d),g},a.prototype.removeEntries=function(){for(var d,g,O=[],B=0;B<arguments.length;B++)O[B]=arguments[B];var ie=new a(this._entries);try{for(var se=me(O),Ee=se.next();!Ee.done;Ee=se.next()){var ze=Ee.value;ie._entries.delete(ze)}}catch(st){d={error:st}}finally{try{Ee&&!Ee.done&&(g=se.return)&&g.call(se)}finally{if(d)throw d.error}}return ie},a.prototype.clear=function(){return new a},a}(),le=Symbol("BaggageEntryMetadata"),Re=N.instance();function De(a){return a===void 0&&(a={}),new F(new Map(Object.entries(a)))}function We(a){return typeof a!="string"&&(Re.error("Cannot create baggage metadata from unknown type: "+typeof a),a=""),{__TYPE__:le,toString:function(){return a}}}function V(a){return Symbol.for(a)}var ne=new function a(d){var g=this;g._currentContext=d?new Map(d):new Map,g.getValue=function(O){return g._currentContext.get(O)},g.setValue=function(O,B){var ie=new a(g._currentContext);return ie._currentContext.set(O,B),ie},g.deleteValue=function(O){var B=new a(g._currentContext);return B._currentContext.delete(O),B}},Q=[{n:"error",c:"error"},{n:"warn",c:"warn"},{n:"info",c:"info"},{n:"debug",c:"debug"},{n:"verbose",c:"trace"}],L=function(){for(var a=0;a<Q.length;a++)this[Q[a].n]=function(d){return function(){for(var g=[],O=0;O<arguments.length;O++)g[O]=arguments[O];if(console){var B=console[d];if(typeof B!="function"&&(B=console.log),typeof B=="function")return B.apply(console,g)}}}(Q[a].c)},M=function(){var a=function(d,g){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(O,B){O.__proto__=B}||function(O,B){for(var ie in B)Object.prototype.hasOwnProperty.call(B,ie)&&(O[ie]=B[ie])})(d,g)};return function(d,g){if(typeof g!="function"&&g!==null)throw TypeError("Class extends value "+String(g)+" is not a constructor or null");function O(){this.constructor=d}a(d,g),d.prototype=g===null?Object.create(g):(O.prototype=g.prototype,new O)}}(),U=function(){function a(){}return a.prototype.createGauge=function(d,g){return _e},a.prototype.createHistogram=function(d,g){return Fe},a.prototype.createCounter=function(d,g){return Ve},a.prototype.createUpDownCounter=function(d,g){return $e},a.prototype.createObservableGauge=function(d,g){return ct},a.prototype.createObservableCounter=function(d,g){return Je},a.prototype.createObservableUpDownCounter=function(d,g){return Qe},a.prototype.addBatchObservableCallback=function(d,g){},a.prototype.removeBatchObservableCallback=function(d){},a}(),H=function(){},J=function(a){function d(){return a!==null&&a.apply(this,arguments)||this}return M(d,a),d.prototype.add=function(g,O){},d}(H),q=function(a){function d(){return a!==null&&a.apply(this,arguments)||this}return M(d,a),d.prototype.add=function(g,O){},d}(H),j=function(a){function d(){return a!==null&&a.apply(this,arguments)||this}return M(d,a),d.prototype.record=function(g,O){},d}(H),ke=function(a){function d(){return a!==null&&a.apply(this,arguments)||this}return M(d,a),d.prototype.record=function(g,O){},d}(H),Ae=function(){function a(){}return a.prototype.addCallback=function(d){},a.prototype.removeCallback=function(d){},a}(),Oe=function(a){function d(){return a!==null&&a.apply(this,arguments)||this}return M(d,a),d}(Ae),ve=function(a){function d(){return a!==null&&a.apply(this,arguments)||this}return M(d,a),d}(Ae),Ge=function(a){function d(){return a!==null&&a.apply(this,arguments)||this}return M(d,a),d}(Ae),Te=new U,Ve=new J,_e=new j,Fe=new ke,$e=new q,Je=new Oe,ct=new ve,Qe=new Ge;function Ke(){return Te}(function(a){a[a.INT=0]="INT",a[a.DOUBLE=1]="DOUBLE"})(z||(z={}));var Ce={get:function(a,d){if(a!=null)return a[d]},keys:function(a){return a==null?[]:Object.keys(a)}},Me={set:function(a,d,g){a!=null&&(a[d]=g)}},Le=function(a,d){var g=typeof Symbol=="function"&&a[Symbol.iterator];if(!g)return a;var O,B,ie=g.call(a),se=[];try{for(;(d===void 0||d-- >0)&&!(O=ie.next()).done;)se.push(O.value)}catch(Ee){B={error:Ee}}finally{try{O&&!O.done&&(g=ie.return)&&g.call(ie)}finally{if(B)throw B.error}}return se},rt=function(a,d,g){if(g||arguments.length==2)for(var O,B=0,ie=d.length;B<ie;B++)!O&&B in d||(O||(O=Array.prototype.slice.call(d,0,B)),O[B]=d[B]);return a.concat(O||Array.prototype.slice.call(d))},ot=function(){function a(){}return a.prototype.active=function(){return ne},a.prototype.with=function(d,g,O){for(var B=[],ie=3;ie<arguments.length;ie++)B[ie-3]=arguments[ie];return g.call.apply(g,rt([O],Le(B),!1))},a.prototype.bind=function(d,g){return g},a.prototype.enable=function(){return this},a.prototype.disable=function(){return this},a}(),we=function(a,d){var g=typeof Symbol=="function"&&a[Symbol.iterator];if(!g)return a;var O,B,ie=g.call(a),se=[];try{for(;(d===void 0||d-- >0)&&!(O=ie.next()).done;)se.push(O.value)}catch(Ee){B={error:Ee}}finally{try{O&&!O.done&&(g=ie.return)&&g.call(ie)}finally{if(B)throw B.error}}return se},Se=function(a,d,g){if(g||arguments.length==2)for(var O,B=0,ie=d.length;B<ie;B++)!O&&B in d||(O||(O=Array.prototype.slice.call(d,0,B)),O[B]=d[B]);return a.concat(O||Array.prototype.slice.call(d))},fe="context",Pe=new ot,je=function(){function a(){}return a.getInstance=function(){return this._instance||(this._instance=new a),this._instance},a.prototype.setGlobalContextManager=function(d){return b(fe,d,N.instance())},a.prototype.active=function(){return this._getContextManager().active()},a.prototype.with=function(d,g,O){for(var B,ie=[],se=3;se<arguments.length;se++)ie[se-3]=arguments[se];return(B=this._getContextManager()).with.apply(B,Se([d,g,O],we(ie),!1))},a.prototype.bind=function(d,g){return this._getContextManager().bind(d,g)},a.prototype._getContextManager=function(){return A(fe)||Pe},a.prototype.disable=function(){this._getContextManager().disable(),f(fe,N.instance())},a}();(function(a){a[a.NONE=0]="NONE",a[a.SAMPLED=1]="SAMPLED"})(C||(C={}));var be="0000000000000000",qe="00000000000000000000000000000000",ue={traceId:qe,spanId:be,traceFlags:C.NONE},Ie=function(){function a(d){d===void 0&&(d=ue),this._spanContext=d}return a.prototype.spanContext=function(){return this._spanContext},a.prototype.setAttribute=function(d,g){return this},a.prototype.setAttributes=function(d){return this},a.prototype.addEvent=function(d,g){return this},a.prototype.addLink=function(d){return this},a.prototype.addLinks=function(d){return this},a.prototype.setStatus=function(d){return this},a.prototype.updateName=function(d){return this},a.prototype.end=function(d){},a.prototype.isRecording=function(){return!1},a.prototype.recordException=function(d,g){},a}(),ut=V("OpenTelemetry Context Key SPAN");function ft(a){return a.getValue(ut)||void 0}function jt(){return ft(je.getInstance().active())}function Ze(a,d){return a.setValue(ut,d)}function $t(a){return a.deleteValue(ut)}function or(a,d){return Ze(a,new Ie(d))}function et(a){var d;return(d=ft(a))==null?void 0:d.spanContext()}var Be=/^([0-9a-f]{32})$/i,Jt=/^[0-9a-f]{16}$/i;function dt(a){return Be.test(a)&&a!==qe}function Bt(a){return Jt.test(a)&&a!==be}function qt(a){return dt(a.traceId)&&Bt(a.spanId)}function ar(a){return new Ie(a)}var zt=je.getInstance(),xt=function(){function a(){}return a.prototype.startSpan=function(d,g,O){if(O===void 0&&(O=zt.active()),g?.root)return new Ie;var B,ie=O&&et(O);return typeof(B=ie)=="object"&&typeof B.spanId=="string"&&typeof B.traceId=="string"&&typeof B.traceFlags=="number"&&qt(ie)?new Ie(ie):new Ie},a.prototype.startActiveSpan=function(d,g,O,B){if(!(arguments.length<2)){arguments.length==2?Ee=g:arguments.length==3?(ie=g,Ee=O):(ie=g,se=O,Ee=B);var ie,se,Ee,ze=se??zt.active(),st=this.startSpan(d,ie,ze),mt=Ze(ze,st);return zt.with(mt,Ee,void 0,st)}},a}(),At=new xt,ht=function(){function a(d,g,O,B){this._provider=d,this.name=g,this.version=O,this.options=B}return a.prototype.startSpan=function(d,g,O){return this._getTracer().startSpan(d,g,O)},a.prototype.startActiveSpan=function(d,g,O,B){var ie=this._getTracer();return Reflect.apply(ie.startActiveSpan,ie,arguments)},a.prototype._getTracer=function(){if(this._delegate)return this._delegate;var d=this._provider.getDelegateTracer(this.name,this.version,this.options);return d?(this._delegate=d,this._delegate):At},a}(),Ct=new(function(){function a(){}return a.prototype.getTracer=function(d,g,O){return new xt},a}()),Ft=function(){function a(){}return a.prototype.getTracer=function(d,g,O){var B;return(B=this.getDelegateTracer(d,g,O))!=null?B:new ht(this,d,g,O)},a.prototype.getDelegate=function(){var d;return(d=this._delegate)!=null?d:Ct},a.prototype.setDelegate=function(d){this._delegate=d},a.prototype.getDelegateTracer=function(d,g,O){var B;return(B=this._delegate)==null?void 0:B.getTracer(d,g,O)},a}();(function(a){a[a.NOT_RECORD=0]="NOT_RECORD",a[a.RECORD=1]="RECORD",a[a.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"})(W||(W={})),function(a){a[a.INTERNAL=0]="INTERNAL",a[a.SERVER=1]="SERVER",a[a.CLIENT=2]="CLIENT",a[a.PRODUCER=3]="PRODUCER",a[a.CONSUMER=4]="CONSUMER"}(u||(u={})),function(a){a[a.UNSET=0]="UNSET",a[a.OK=1]="OK",a[a.ERROR=2]="ERROR"}(P||(P={}));var Gt="[_0-9a-z-*/]",Rt=RegExp("^(?:[a-z]"+Gt+"{0,255}|"+("[a-z0-9]"+Gt+"{0,240}@[a-z]")+Gt+"{0,13})$"),Pt=/^[ -~]{0,255}[!-~]$/,yr=/,|=/,sr=function(){function a(d){this._internalState=new Map,d&&this._parse(d)}return a.prototype.set=function(d,g){var O=this._clone();return O._internalState.has(d)&&O._internalState.delete(d),O._internalState.set(d,g),O},a.prototype.unset=function(d){var g=this._clone();return g._internalState.delete(d),g},a.prototype.get=function(d){return this._internalState.get(d)},a.prototype.serialize=function(){var d=this;return this._keys().reduce(function(g,O){return g.push(O+"="+d.get(O)),g},[]).join(",")},a.prototype._parse=function(d){!(d.length>512)&&(this._internalState=d.split(",").reverse().reduce(function(g,O){var B=O.trim(),ie=B.indexOf("=");if(ie!==-1){var se=B.slice(0,ie),Ee=B.slice(ie+1,O.length);Rt.test(se)&&Pt.test(Ee)&&!yr.test(Ee)&&g.set(se,Ee)}return g},new Map),this._internalState.size>32&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,32))))},a.prototype._keys=function(){return Array.from(this._internalState.keys()).reverse()},a.prototype._clone=function(){var d=new a;return d._internalState=new Map(this._internalState),d},a}();function yt(a){return new sr(a)}var kt=je.getInstance(),Tt=N.instance(),Vt=new(function(){function a(){}return a.prototype.getMeter=function(d,g,O){return Te},a}()),Xt="metrics",Yt=function(){function a(){}return a.getInstance=function(){return this._instance||(this._instance=new a),this._instance},a.prototype.setGlobalMeterProvider=function(d){return b(Xt,d,N.instance())},a.prototype.getMeterProvider=function(){return A(Xt)||Vt},a.prototype.getMeter=function(d,g,O){return this.getMeterProvider().getMeter(d,g,O)},a.prototype.disable=function(){f(Xt,N.instance())},a}().getInstance(),lr=function(){function a(){}return a.prototype.inject=function(d,g){},a.prototype.extract=function(d,g){return d},a.prototype.fields=function(){return[]},a}(),Ot=V("OpenTelemetry Baggage Key");function Ht(a){return a.getValue(Ot)||void 0}function bt(){return Ht(je.getInstance().active())}function Qt(a,d){return a.setValue(Ot,d)}function It(a){return a.deleteValue(Ot)}var Nt="propagation",mr=new lr,Zt=function(){function a(){this.createBaggage=De,this.getBaggage=Ht,this.getActiveBaggage=bt,this.setBaggage=Qt,this.deleteBaggage=It}return a.getInstance=function(){return this._instance||(this._instance=new a),this._instance},a.prototype.setGlobalPropagator=function(d){return b(Nt,d,N.instance())},a.prototype.inject=function(d,g,O){return O===void 0&&(O=Me),this._getGlobalPropagator().inject(d,g,O)},a.prototype.extract=function(d,g,O){return O===void 0&&(O=Ce),this._getGlobalPropagator().extract(d,g,O)},a.prototype.fields=function(){return this._getGlobalPropagator().fields()},a.prototype.disable=function(){f(Nt,N.instance())},a.prototype._getGlobalPropagator=function(){return A(Nt)||mr},a}().getInstance(),pt="trace",er=function(){function a(){this._proxyTracerProvider=new Ft,this.wrapSpanContext=ar,this.isSpanContextValid=qt,this.deleteSpan=$t,this.getSpan=ft,this.getActiveSpan=jt,this.getSpanContext=et,this.setSpan=Ze,this.setSpanContext=or}return a.getInstance=function(){return this._instance||(this._instance=new a),this._instance},a.prototype.setGlobalTracerProvider=function(d){var g=b(pt,this._proxyTracerProvider,N.instance());return g&&this._proxyTracerProvider.setDelegate(d),g},a.prototype.getTracerProvider=function(){return A(pt)||this._proxyTracerProvider},a.prototype.getTracer=function(d,g){return this.getTracerProvider().getTracer(d,g)},a.prototype.disable=function(){f(pt,N.instance()),this._proxyTracerProvider=new Ft},a}().getInstance();let at={context:kt,diag:Tt,metrics:Yt,propagation:Zt,trace:er}},345:(n,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0})},356:n=>{"use strict";n.exports=(Mn(),hn(Er))},392:(n,l,h)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),function(u,P){for(var _ in P)Object.defineProperty(u,_,{enumerable:!0,get:P[_]})}(l,{getTestReqInfo:function(){return W},withRequest:function(){return C}});let w=new(h(521)).AsyncLocalStorage;function z(u,P){let _=P.header(u,"next-test-proxy-port");return _?{url:P.url(u),proxyPort:Number(_),testData:P.header(u,"next-test-data")||""}:void 0}function C(u,P,_){let K=z(u,P);return K?w.run(K,_):_()}function W(u,P){return w.getStore()||(u&&P?z(u,P):void 0)}},426:(n,l,h)=>{"use strict";var w=h(522);Object.defineProperty(l,"__esModule",{value:!0});var z={encode:!0,decode:!0,getToken:!0};l.decode=G,l.encode=K,l.getToken=T;var C=h(743),W=w(h(153)),u=h(1),P=h(674),_=h(345);async function K(b){let{token:A={},secret:f,maxAge:E=2592e3,salt:m=""}=b,y=await p(f,m);return await new C.EncryptJWT(A).setProtectedHeader({alg:"dir",enc:"A256GCM"}).setIssuedAt().setExpirationTime((Date.now()/1e3|0)+E).setJti((0,u.v4)()).encrypt(y)}async function G(b){let{token:A,secret:f,salt:E=""}=b;if(!A)return null;let m=await p(f,E),{payload:y}=await(0,C.jwtDecrypt)(A,m,{clockTolerance:15});return y}async function T(b){var A,f,E,m;let{req:y,secureCookie:k=(A=(f=process.env.NEXTAUTH_URL)==null?void 0:f.startsWith("https://"))!=null?A:!!process.env.VERCEL,cookieName:Z=k?"__Secure-next-auth.session-token":"next-auth.session-token",raw:re,decode:N=G,logger:ee=console,secret:me=(E=process.env.NEXTAUTH_SECRET)!=null?E:process.env.AUTH_SECRET}=b;if(!y)throw Error("Must pass `req` to JWT getToken()");let F=new P.SessionStore({name:Z,options:{secure:k}},{cookies:y.cookies,headers:y.headers},ee).value,le=y.headers instanceof Headers?y.headers.get("authorization"):(m=y.headers)==null?void 0:m.authorization;if(F||le?.split(" ")[0]!=="Bearer"||(F=decodeURIComponent(le.split(" ")[1])),!F)return null;if(re)return F;try{return await N({token:F,secret:me})}catch{return null}}async function p(b,A){return await(0,W.default)("sha256",b,A,`NextAuth.js Generated Encryption Key${A?` (${A})`:""}`,32)}Object.keys(_).forEach(function(b){!(b==="default"||b==="__esModule"||Object.prototype.hasOwnProperty.call(z,b))&&(b in l&&l[b]===_[b]||Object.defineProperty(l,b,{enumerable:!0,get:function(){return _[b]}}))})},440:(n,l)=>{"use strict";Symbol.for("react.transitional.element"),Symbol.for("react.portal"),Symbol.for("react.fragment"),Symbol.for("react.strict_mode"),Symbol.for("react.profiler"),Symbol.for("react.forward_ref"),Symbol.for("react.suspense"),Symbol.for("react.memo"),Symbol.for("react.lazy")},443:n=>{"use strict";var l=Object.defineProperty,h=Object.getOwnPropertyDescriptor,w=Object.getOwnPropertyNames,z=Object.prototype.hasOwnProperty,C={};function W(p){var b;let A=["path"in p&&p.path&&`Path=${p.path}`,"expires"in p&&(p.expires||p.expires===0)&&`Expires=${(typeof p.expires=="number"?new Date(p.expires):p.expires).toUTCString()}`,"maxAge"in p&&typeof p.maxAge=="number"&&`Max-Age=${p.maxAge}`,"domain"in p&&p.domain&&`Domain=${p.domain}`,"secure"in p&&p.secure&&"Secure","httpOnly"in p&&p.httpOnly&&"HttpOnly","sameSite"in p&&p.sameSite&&`SameSite=${p.sameSite}`,"partitioned"in p&&p.partitioned&&"Partitioned","priority"in p&&p.priority&&`Priority=${p.priority}`].filter(Boolean),f=`${p.name}=${encodeURIComponent((b=p.value)!=null?b:"")}`;return A.length===0?f:`${f}; ${A.join("; ")}`}function u(p){let b=new Map;for(let A of p.split(/; */)){if(!A)continue;let f=A.indexOf("=");if(f===-1){b.set(A,"true");continue}let[E,m]=[A.slice(0,f),A.slice(f+1)];try{b.set(E,decodeURIComponent(m??"true"))}catch{}}return b}function P(p){if(!p)return;let[[b,A],...f]=u(p),{domain:E,expires:m,httponly:y,maxage:k,path:Z,samesite:re,secure:N,partitioned:ee,priority:me}=Object.fromEntries(f.map(([De,We])=>[De.toLowerCase().replace(/-/g,""),We]));{var F,le,Re={name:b,value:decodeURIComponent(A),domain:E,...m&&{expires:new Date(m)},...y&&{httpOnly:!0},...typeof k=="string"&&{maxAge:Number(k)},path:Z,...re&&{sameSite:_.includes(F=(F=re).toLowerCase())?F:void 0},...N&&{secure:!0},...me&&{priority:K.includes(le=(le=me).toLowerCase())?le:void 0},...ee&&{partitioned:!0}};let De={};for(let We in Re)Re[We]&&(De[We]=Re[We]);return De}}((p,b)=>{for(var A in b)l(p,A,{get:b[A],enumerable:!0})})(C,{RequestCookies:()=>G,ResponseCookies:()=>T,parseCookie:()=>u,parseSetCookie:()=>P,stringifyCookie:()=>W}),n.exports=((p,b,A,f)=>{if(b&&typeof b=="object"||typeof b=="function")for(let E of w(b))z.call(p,E)||E===A||l(p,E,{get:()=>b[E],enumerable:!(f=h(b,E))||f.enumerable});return p})(l({},"__esModule",{value:!0}),C);var _=["strict","lax","none"],K=["low","medium","high"],G=class{constructor(p){this._parsed=new Map,this._headers=p;let b=p.get("cookie");if(b)for(let[A,f]of u(b))this._parsed.set(A,{name:A,value:f})}[Symbol.iterator](){return this._parsed[Symbol.iterator]()}get size(){return this._parsed.size}get(...p){let b=typeof p[0]=="string"?p[0]:p[0].name;return this._parsed.get(b)}getAll(...p){var b;let A=Array.from(this._parsed);if(!p.length)return A.map(([E,m])=>m);let f=typeof p[0]=="string"?p[0]:(b=p[0])==null?void 0:b.name;return A.filter(([E])=>E===f).map(([E,m])=>m)}has(p){return this._parsed.has(p)}set(...p){let[b,A]=p.length===1?[p[0].name,p[0].value]:p,f=this._parsed;return f.set(b,{name:b,value:A}),this._headers.set("cookie",Array.from(f).map(([E,m])=>W(m)).join("; ")),this}delete(p){let b=this._parsed,A=Array.isArray(p)?p.map(f=>b.delete(f)):b.delete(p);return this._headers.set("cookie",Array.from(b).map(([f,E])=>W(E)).join("; ")),A}clear(){return this.delete(Array.from(this._parsed.keys())),this}[Symbol.for("edge-runtime.inspect.custom")](){return`RequestCookies ${JSON.stringify(Object.fromEntries(this._parsed))}`}toString(){return[...this._parsed.values()].map(p=>`${p.name}=${encodeURIComponent(p.value)}`).join("; ")}},T=class{constructor(p){var b,A,f;this._parsed=new Map,this._headers=p;let E=(f=(A=(b=p.getSetCookie)==null?void 0:b.call(p))!=null?A:p.get("set-cookie"))!=null?f:[];for(let m of Array.isArray(E)?E:function(y){if(!y)return[];var k,Z,re,N,ee,me=[],F=0;function le(){for(;F<y.length&&/\s/.test(y.charAt(F));)F+=1;return F<y.length}for(;F<y.length;){for(k=F,ee=!1;le();)if((Z=y.charAt(F))===","){for(re=F,F+=1,le(),N=F;F<y.length&&(Z=y.charAt(F))!=="="&&Z!==";"&&Z!==",";)F+=1;F<y.length&&y.charAt(F)==="="?(ee=!0,F=N,me.push(y.substring(k,re)),k=F):F=re+1}else F+=1;(!ee||F>=y.length)&&me.push(y.substring(k,y.length))}return me}(E)){let y=P(m);y&&this._parsed.set(y.name,y)}}get(...p){let b=typeof p[0]=="string"?p[0]:p[0].name;return this._parsed.get(b)}getAll(...p){var b;let A=Array.from(this._parsed.values());if(!p.length)return A;let f=typeof p[0]=="string"?p[0]:(b=p[0])==null?void 0:b.name;return A.filter(E=>E.name===f)}has(p){return this._parsed.has(p)}set(...p){let[b,A,f]=p.length===1?[p[0].name,p[0].value,p[0]]:p,E=this._parsed;return E.set(b,function(m={name:"",value:""}){return typeof m.expires=="number"&&(m.expires=new Date(m.expires)),m.maxAge&&(m.expires=new Date(Date.now()+1e3*m.maxAge)),(m.path===null||m.path===void 0)&&(m.path="/"),m}({name:b,value:A,...f})),function(m,y){for(let[,k]of(y.delete("set-cookie"),m)){let Z=W(k);y.append("set-cookie",Z)}}(E,this._headers),this}delete(...p){let[b,A]=typeof p[0]=="string"?[p[0]]:[p[0].name,p[0]];return this.set({...A,name:b,value:"",expires:new Date(0)})}[Symbol.for("edge-runtime.inspect.custom")](){return`ResponseCookies ${JSON.stringify(Object.fromEntries(this._parsed))}`}toString(){return[...this._parsed.values()].map(W).join("; ")}}},449:(n,l,h)=>{var w;(()=>{var z={226:function(u,P){(function(_,K){"use strict";var G="function",T="undefined",p="object",b="string",A="major",f="model",E="name",m="type",y="vendor",k="version",Z="architecture",re="console",N="mobile",ee="tablet",me="smarttv",F="wearable",le="embedded",Re="Amazon",De="Apple",We="ASUS",V="BlackBerry",ne="Browser",Q="Chrome",L="Firefox",M="Google",U="Huawei",H="Microsoft",J="Motorola",q="Opera",j="Samsung",ke="Sharp",Ae="Sony",Oe="Xiaomi",ve="Zebra",Ge="Facebook",Te="Chromium OS",Ve="Mac OS",_e=function(we,Se){var fe={};for(var Pe in we)Se[Pe]&&Se[Pe].length%2==0?fe[Pe]=Se[Pe].concat(we[Pe]):fe[Pe]=we[Pe];return fe},Fe=function(we){for(var Se={},fe=0;fe<we.length;fe++)Se[we[fe].toUpperCase()]=we[fe];return Se},$e=function(we,Se){return typeof we===b&&Je(Se).indexOf(Je(we))!==-1},Je=function(we){return we.toLowerCase()},ct=function(we,Se){if(typeof we===b)return we=we.replace(/^\s\s*/,""),typeof Se===T?we:we.substring(0,350)},Qe=function(we,Se){for(var fe,Pe,je,be,qe,ue,Ie=0;Ie<Se.length&&!qe;){var ut=Se[Ie],ft=Se[Ie+1];for(fe=Pe=0;fe<ut.length&&!qe&&ut[fe];)if(qe=ut[fe++].exec(we))for(je=0;je<ft.length;je++)ue=qe[++Pe],typeof(be=ft[je])===p&&be.length>0?be.length===2?typeof be[1]==G?this[be[0]]=be[1].call(this,ue):this[be[0]]=be[1]:be.length===3?typeof be[1]!==G||be[1].exec&&be[1].test?this[be[0]]=ue?ue.replace(be[1],be[2]):void 0:this[be[0]]=ue?be[1].call(this,ue,be[2]):void 0:be.length===4&&(this[be[0]]=ue?be[3].call(this,ue.replace(be[1],be[2])):K):this[be]=ue||K;Ie+=2}},Ke=function(we,Se){for(var fe in Se)if(typeof Se[fe]===p&&Se[fe].length>0){for(var Pe=0;Pe<Se[fe].length;Pe++)if($e(Se[fe][Pe],we))return fe==="?"?K:fe}else if($e(Se[fe],we))return fe==="?"?K:fe;return we},Ce={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},Me={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[k,[E,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[k,[E,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[E,k],[/opios[\/ ]+([\w\.]+)/i],[k,[E,q+" Mini"]],[/\bopr\/([\w\.]+)/i],[k,[E,q]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[E,k],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[k,[E,"UC"+ne]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i],[k,[E,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[k,[E,"WeChat"]],[/konqueror\/([\w\.]+)/i],[k,[E,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[k,[E,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[k,[E,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[E,/(.+)/,"$1 Secure "+ne],k],[/\bfocus\/([\w\.]+)/i],[k,[E,L+" Focus"]],[/\bopt\/([\w\.]+)/i],[k,[E,q+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[k,[E,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[k,[E,"Dolphin"]],[/coast\/([\w\.]+)/i],[k,[E,q+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[k,[E,"MIUI "+ne]],[/fxios\/([-\w\.]+)/i],[k,[E,L]],[/\bqihu|(qi?ho?o?|360)browser/i],[[E,"360 "+ne]],[/(oculus|samsung|sailfish|huawei)browser\/([\w\.]+)/i],[[E,/(.+)/,"$1 "+ne],k],[/(comodo_dragon)\/([\w\.]+)/i],[[E,/_/g," "],k],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[E,k],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i,/\[(linkedin)app\]/i],[E],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[E,Ge],k],[/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[E,k],[/\bgsa\/([\w\.]+) .*safari\//i],[k,[E,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[k,[E,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[k,[E,Q+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[E,Q+" WebView"],k],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[k,[E,"Android "+ne]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[E,k],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[k,[E,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[k,E],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[E,[k,Ke,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[E,k],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[E,"Netscape"],k],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[k,[E,L+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i,/panasonic;(viera)/i],[E,k],[/(cobalt)\/([\w\.]+)/i],[E,[k,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[Z,"amd64"]],[/(ia32(?=;))/i],[[Z,Je]],[/((?:i[346]|x)86)[;\)]/i],[[Z,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[Z,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[Z,"armhf"]],[/windows (ce|mobile); ppc;/i],[[Z,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[Z,/ower/,"",Je]],[/(sun4\w)[;\)]/i],[[Z,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[Z,Je]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[f,[y,j],[m,ee]],[/\b((?:s[cgp]h|gt|sm)-\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[f,[y,j],[m,N]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[f,[y,De],[m,N]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[f,[y,De],[m,ee]],[/(macintosh);/i],[f,[y,De]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[f,[y,ke],[m,N]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[f,[y,U],[m,ee]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[f,[y,U],[m,N]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[f,/_/g," "],[y,Oe],[m,N]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[f,/_/g," "],[y,Oe],[m,ee]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[f,[y,"OPPO"],[m,N]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[f,[y,"Vivo"],[m,N]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[f,[y,"Realme"],[m,N]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[f,[y,J],[m,N]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[f,[y,J],[m,ee]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[f,[y,"LG"],[m,ee]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[f,[y,"LG"],[m,N]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[f,[y,"Lenovo"],[m,ee]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[f,/_/g," "],[y,"Nokia"],[m,N]],[/(pixel c)\b/i],[f,[y,M],[m,ee]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[f,[y,M],[m,N]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[f,[y,Ae],[m,N]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[f,"Xperia Tablet"],[y,Ae],[m,ee]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[f,[y,"OnePlus"],[m,N]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[f,[y,Re],[m,ee]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[f,/(.+)/g,"Fire Phone $1"],[y,Re],[m,N]],[/(playbook);[-\w\),; ]+(rim)/i],[f,y,[m,ee]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[f,[y,V],[m,N]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[f,[y,We],[m,ee]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[f,[y,We],[m,N]],[/(nexus 9)/i],[f,[y,"HTC"],[m,ee]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[y,[f,/_/g," "],[m,N]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[f,[y,"Acer"],[m,ee]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[f,[y,"Meizu"],[m,N]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[y,f,[m,N]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[y,f,[m,ee]],[/(surface duo)/i],[f,[y,H],[m,ee]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[f,[y,"Fairphone"],[m,N]],[/(u304aa)/i],[f,[y,"AT&T"],[m,N]],[/\bsie-(\w*)/i],[f,[y,"Siemens"],[m,N]],[/\b(rct\w+) b/i],[f,[y,"RCA"],[m,ee]],[/\b(venue[\d ]{2,7}) b/i],[f,[y,"Dell"],[m,ee]],[/\b(q(?:mv|ta)\w+) b/i],[f,[y,"Verizon"],[m,ee]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[f,[y,"Barnes & Noble"],[m,ee]],[/\b(tm\d{3}\w+) b/i],[f,[y,"NuVision"],[m,ee]],[/\b(k88) b/i],[f,[y,"ZTE"],[m,ee]],[/\b(nx\d{3}j) b/i],[f,[y,"ZTE"],[m,N]],[/\b(gen\d{3}) b.+49h/i],[f,[y,"Swiss"],[m,N]],[/\b(zur\d{3}) b/i],[f,[y,"Swiss"],[m,ee]],[/\b((zeki)?tb.*\b) b/i],[f,[y,"Zeki"],[m,ee]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[y,"Dragon Touch"],f,[m,ee]],[/\b(ns-?\w{0,9}) b/i],[f,[y,"Insignia"],[m,ee]],[/\b((nxa|next)-?\w{0,9}) b/i],[f,[y,"NextBook"],[m,ee]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[y,"Voice"],f,[m,N]],[/\b(lvtel\-)?(v1[12]) b/i],[[y,"LvTel"],f,[m,N]],[/\b(ph-1) /i],[f,[y,"Essential"],[m,N]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[f,[y,"Envizen"],[m,ee]],[/\b(trio[-\w\. ]+) b/i],[f,[y,"MachSpeed"],[m,ee]],[/\btu_(1491) b/i],[f,[y,"Rotor"],[m,ee]],[/(shield[\w ]+) b/i],[f,[y,"Nvidia"],[m,ee]],[/(sprint) (\w+)/i],[y,f,[m,N]],[/(kin\.[onetw]{3})/i],[[f,/\./g," "],[y,H],[m,N]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[f,[y,ve],[m,ee]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[f,[y,ve],[m,N]],[/smart-tv.+(samsung)/i],[y,[m,me]],[/hbbtv.+maple;(\d+)/i],[[f,/^/,"SmartTV"],[y,j],[m,me]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[y,"LG"],[m,me]],[/(apple) ?tv/i],[y,[f,De+" TV"],[m,me]],[/crkey/i],[[f,Q+"cast"],[y,M],[m,me]],[/droid.+aft(\w)( bui|\))/i],[f,[y,Re],[m,me]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[f,[y,ke],[m,me]],[/(bravia[\w ]+)( bui|\))/i],[f,[y,Ae],[m,me]],[/(mitv-\w{5}) bui/i],[f,[y,Oe],[m,me]],[/Hbbtv.*(technisat) (.*);/i],[y,f,[m,me]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[y,ct],[f,ct],[m,me]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[m,me]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[y,f,[m,re]],[/droid.+; (shield) bui/i],[f,[y,"Nvidia"],[m,re]],[/(playstation [345portablevi]+)/i],[f,[y,Ae],[m,re]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[f,[y,H],[m,re]],[/((pebble))app/i],[y,f,[m,F]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[f,[y,De],[m,F]],[/droid.+; (glass) \d/i],[f,[y,M],[m,F]],[/droid.+; (wt63?0{2,3})\)/i],[f,[y,ve],[m,F]],[/(quest( 2| pro)?)/i],[f,[y,Ge],[m,F]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[y,[m,le]],[/(aeobc)\b/i],[f,[y,Re],[m,le]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[f,[m,N]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[f,[m,ee]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[m,ee]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[m,N]],[/(android[-\w\. ]{0,9});.+buil/i],[f,[y,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[k,[E,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[k,[E,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[E,k],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[k,E]],os:[[/microsoft (windows) (vista|xp)/i],[E,k],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[E,[k,Ke,Ce]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[E,"Windows"],[k,Ke,Ce]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/ios;fbsv\/([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[k,/_/g,"."],[E,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[E,Ve],[k,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[k,E],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[E,k],[/\(bb(10);/i],[k,[E,V]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[k,[E,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[k,[E,L+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[k,[E,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[k,[E,"watchOS"]],[/crkey\/([\d\.]+)/i],[k,[E,Q+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[E,Te],k],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[E,k],[/(sunos) ?([\w\.\d]*)/i],[[E,"Solaris"],k],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[E,k]]},Le=function(we,Se){if(typeof we===p&&(Se=we,we=K),!(this instanceof Le))return new Le(we,Se).getResult();var fe=typeof _!==T&&_.navigator?_.navigator:K,Pe=we||(fe&&fe.userAgent?fe.userAgent:""),je=fe&&fe.userAgentData?fe.userAgentData:K,be=Se?_e(Me,Se):Me,qe=fe&&fe.userAgent==Pe;return this.getBrowser=function(){var ue,Ie={};return Ie[E]=K,Ie[k]=K,Qe.call(Ie,Pe,be.browser),Ie[A]=typeof(ue=Ie[k])===b?ue.replace(/[^\d\.]/g,"").split(".")[0]:K,qe&&fe&&fe.brave&&typeof fe.brave.isBrave==G&&(Ie[E]="Brave"),Ie},this.getCPU=function(){var ue={};return ue[Z]=K,Qe.call(ue,Pe,be.cpu),ue},this.getDevice=function(){var ue={};return ue[y]=K,ue[f]=K,ue[m]=K,Qe.call(ue,Pe,be.device),qe&&!ue[m]&&je&&je.mobile&&(ue[m]=N),qe&&ue[f]=="Macintosh"&&fe&&typeof fe.standalone!==T&&fe.maxTouchPoints&&fe.maxTouchPoints>2&&(ue[f]="iPad",ue[m]=ee),ue},this.getEngine=function(){var ue={};return ue[E]=K,ue[k]=K,Qe.call(ue,Pe,be.engine),ue},this.getOS=function(){var ue={};return ue[E]=K,ue[k]=K,Qe.call(ue,Pe,be.os),qe&&!ue[E]&&je&&je.platform!="Unknown"&&(ue[E]=je.platform.replace(/chrome os/i,Te).replace(/macos/i,Ve)),ue},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return Pe},this.setUA=function(ue){return Pe=typeof ue===b&&ue.length>350?ct(ue,350):ue,this},this.setUA(Pe),this};Le.VERSION="1.0.35",Le.BROWSER=Fe([E,k,A]),Le.CPU=Fe([Z]),Le.DEVICE=Fe([f,y,m,re,N,me,ee,F,le]),Le.ENGINE=Le.OS=Fe([E,k]),typeof P!==T?(u.exports&&(P=u.exports=Le),P.UAParser=Le):h.amdO?(w=function(){return Le}.call(l,h,l,n))===void 0||(n.exports=w):typeof _!==T&&(_.UAParser=Le);var rt=typeof _!==T&&(_.jQuery||_.Zepto);if(rt&&!rt.ua){var ot=new Le;rt.ua=ot.getResult(),rt.ua.get=function(){return ot.getUA()},rt.ua.set=function(we){ot.setUA(we);var Se=ot.getResult();for(var fe in Se)rt.ua[fe]=Se[fe]}}})(typeof window=="object"?window:this)}},C={};function W(u){var P=C[u];if(P!==void 0)return P.exports;var _=C[u]={exports:{}},K=!0;try{z[u].call(_.exports,_,_.exports,W),K=!1}finally{K&&delete C[u]}return _.exports}W.ab="//",n.exports=W(226)})()},521:n=>{"use strict";n.exports=(Ln(),hn(_r))},522:n=>{n.exports=function(l){return l&&l.__esModule?l:{default:l}},n.exports.__esModule=!0,n.exports.default=n.exports},663:n=>{(()=>{"use strict";typeof __nccwpck_require__<"u"&&(__nccwpck_require__.ab="//");var l={};(()=>{l.parse=function(W,u){if(typeof W!="string")throw TypeError("argument str must be a string");for(var P={},_=W.split(z),K=(u||{}).decode||h,G=0;G<_.length;G++){var T=_[G],p=T.indexOf("=");if(!(p<0)){var b=T.substr(0,p).trim(),A=T.substr(++p,T.length).trim();A[0]=='"'&&(A=A.slice(1,-1)),P[b]==null&&(P[b]=function(f,E){try{return E(f)}catch{return f}}(A,K))}}return P},l.serialize=function(W,u,P){var _=P||{},K=_.encode||w;if(typeof K!="function")throw TypeError("option encode is invalid");if(!C.test(W))throw TypeError("argument name is invalid");var G=K(u);if(G&&!C.test(G))throw TypeError("argument val is invalid");var T=W+"="+G;if(_.maxAge!=null){var p=_.maxAge-0;if(isNaN(p)||!isFinite(p))throw TypeError("option maxAge is invalid");T+="; Max-Age="+Math.floor(p)}if(_.domain){if(!C.test(_.domain))throw TypeError("option domain is invalid");T+="; Domain="+_.domain}if(_.path){if(!C.test(_.path))throw TypeError("option path is invalid");T+="; Path="+_.path}if(_.expires){if(typeof _.expires.toUTCString!="function")throw TypeError("option expires is invalid");T+="; Expires="+_.expires.toUTCString()}if(_.httpOnly&&(T+="; HttpOnly"),_.secure&&(T+="; Secure"),_.sameSite)switch(typeof _.sameSite=="string"?_.sameSite.toLowerCase():_.sameSite){case!0:case"strict":T+="; SameSite=Strict";break;case"lax":T+="; SameSite=Lax";break;case"none":T+="; SameSite=None";break;default:throw TypeError("option sameSite is invalid")}return T};var h=decodeURIComponent,w=encodeURIComponent,z=/; */,C=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/})(),n.exports=l})()},668:(n,l,h)=>{"use strict";let w;h.r(l),h.d(l,{default:()=>jr});var z,C={};async function W(){return"_ENTRIES"in globalThis&&_ENTRIES.middleware_instrumentation&&await _ENTRIES.middleware_instrumentation}h.r(C),h.d(C,{config:()=>Lr,middleware:()=>Mr});let u=null;async function P(){if(process.env.NEXT_PHASE==="phase-production-build")return;u||(u=W());let s=await u;if(s?.register)try{await s.register()}catch(i){throw i.message=`An error occurred while loading instrumentation hook: ${i.message}`,i}}async function _(...s){let i=await W();try{var c;await(i==null||(c=i.onRequestError)==null?void 0:c.call(i,...s))}catch(S){console.error("Error in instrumentation.onRequestError:",S)}}let K=null;function G(){return K||(K=P()),K}function T(s){return`The edge runtime does not support Node.js '${s}' module.
Learn More: https://nextjs.org/docs/messages/node-module-in-edge-runtime`}process!==h.g.process&&(process.env=h.g.process.env,h.g.process=process);try{Object.defineProperty(globalThis,"__import_unsupported",{value:function(s){let i=new Proxy(function(){},{get(c,S){if(S==="then")return{};throw Object.defineProperty(Error(T(s)),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0})},construct(){throw Object.defineProperty(Error(T(s)),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0})},apply(c,S,D){if(typeof D[0]=="function")return D[0](i);throw Object.defineProperty(Error(T(s)),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0})}});return new Proxy({},{get:()=>i})},enumerable:!1,configurable:!1})}catch{}G();class p extends Error{constructor({page:i}){super(`The middleware "${i}" accepts an async API directly with the form:
  
  export function middleware(request, event) {
    return NextResponse.redirect('/new-location')
  }
  
  Read more: https://nextjs.org/docs/messages/middleware-new-signature
  `)}}class b extends Error{constructor(){super("The request.page has been deprecated in favour of `URLPattern`.\n  Read more: https://nextjs.org/docs/messages/middleware-request-page\n  ")}}class A extends Error{constructor(){super("The request.ua has been removed in favour of `userAgent` function.\n  Read more: https://nextjs.org/docs/messages/middleware-parse-user-agent\n  ")}}let f="_N_T_",E={shared:"shared",reactServerComponents:"rsc",serverSideRendering:"ssr",actionBrowser:"action-browser",apiNode:"api-node",apiEdge:"api-edge",middleware:"middleware",instrument:"instrument",edgeAsset:"edge-asset",appPagesBrowser:"app-pages-browser",pagesDirBrowser:"pages-dir-browser",pagesDirEdge:"pages-dir-edge",pagesDirNode:"pages-dir-node"};function m(s){var i,c,S,D,X,ce=[],ae=0;function ge(){for(;ae<s.length&&/\s/.test(s.charAt(ae));)ae+=1;return ae<s.length}for(;ae<s.length;){for(i=ae,X=!1;ge();)if((c=s.charAt(ae))===","){for(S=ae,ae+=1,ge(),D=ae;ae<s.length&&(c=s.charAt(ae))!=="="&&c!==";"&&c!==",";)ae+=1;ae<s.length&&s.charAt(ae)==="="?(X=!0,ae=D,ce.push(s.substring(i,S)),i=ae):ae=S+1}else ae+=1;(!X||ae>=s.length)&&ce.push(s.substring(i,s.length))}return ce}function y(s){let i={},c=[];if(s)for(let[S,D]of s.entries())S.toLowerCase()==="set-cookie"?(c.push(...m(D)),i[S]=c.length===1?c[0]:c):i[S]=D;return i}function k(s){try{return String(new URL(String(s)))}catch(i){throw Object.defineProperty(Error(`URL is malformed "${String(s)}". Please use only absolute URLs - https://nextjs.org/docs/messages/middleware-relative-urls`,{cause:i}),"__NEXT_ERROR_CODE",{value:"E61",enumerable:!1,configurable:!0})}}({...E,GROUP:(E.reactServerComponents,E.actionBrowser,E.reactServerComponents,E.actionBrowser,E.instrument,E.middleware,E.apiNode,E.apiEdge,E.serverSideRendering,E.appPagesBrowser,E.reactServerComponents,E.actionBrowser,E.serverSideRendering,E.appPagesBrowser,E.shared,E.instrument,E.middleware,E.reactServerComponents,E.serverSideRendering,E.appPagesBrowser,E.actionBrowser)});let Z=Symbol("response"),re=Symbol("passThrough"),N=Symbol("waitUntil");class ee{constructor(i,c){this[re]=!1,this[N]=c?{kind:"external",function:c}:{kind:"internal",promises:[]}}respondWith(i){this[Z]||(this[Z]=Promise.resolve(i))}passThroughOnException(){this[re]=!0}waitUntil(i){if(this[N].kind==="external")return(0,this[N].function)(i);this[N].promises.push(i)}}class me extends ee{constructor(i){var c;super(i.request,(c=i.context)==null?void 0:c.waitUntil),this.sourcePage=i.page}get request(){throw Object.defineProperty(new p({page:this.sourcePage}),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0})}respondWith(){throw Object.defineProperty(new p({page:this.sourcePage}),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0})}}function F(s){return s.replace(/\/$/,"")||"/"}function le(s){let i=s.indexOf("#"),c=s.indexOf("?"),S=c>-1&&(i<0||c<i);return S||i>-1?{pathname:s.substring(0,S?c:i),query:S?s.substring(c,i>-1?i:void 0):"",hash:i>-1?s.slice(i):""}:{pathname:s,query:"",hash:""}}function Re(s,i){if(!s.startsWith("/")||!i)return s;let{pathname:c,query:S,hash:D}=le(s);return""+i+c+S+D}function De(s,i){if(!s.startsWith("/")||!i)return s;let{pathname:c,query:S,hash:D}=le(s);return""+c+i+S+D}function We(s,i){if(typeof s!="string")return!1;let{pathname:c}=le(s);return c===i||c.startsWith(i+"/")}let V=new WeakMap;function ne(s,i){let c;if(!i)return{pathname:s};let S=V.get(i);S||(S=i.map(ae=>ae.toLowerCase()),V.set(i,S));let D=s.split("/",2);if(!D[1])return{pathname:s};let X=D[1].toLowerCase(),ce=S.indexOf(X);return ce<0?{pathname:s}:(c=i[ce],{pathname:s=s.slice(c.length+1)||"/",detectedLocale:c})}let Q=/(?!^https?:\/\/)(127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}|\[::1\]|localhost)/;function L(s,i){return new URL(String(s).replace(Q,"localhost"),i&&String(i).replace(Q,"localhost"))}let M=Symbol("NextURLInternal");class U{constructor(i,c,S){let D,X;typeof c=="object"&&"pathname"in c||typeof c=="string"?(D=c,X=S||{}):X=S||c||{},this[M]={url:L(i,D??X.base),options:X,basePath:""},this.analyze()}analyze(){var i,c,S,D,X;let ce=function(e,t){var r,o;let{basePath:v,i18n:x,trailingSlash:R}=(r=t.nextConfig)!=null?r:{},I={pathname:e,trailingSlash:e!=="/"?e.endsWith("/"):R};v&&We(I.pathname,v)&&(I.pathname=function($,te){if(!We($,te))return $;let oe=$.slice(te.length);return oe.startsWith("/")?oe:"/"+oe}(I.pathname,v),I.basePath=v);let Y=I.pathname;if(I.pathname.startsWith("/_next/data/")&&I.pathname.endsWith(".json")){let $=I.pathname.replace(/^\/_next\/data\//,"").replace(/\.json$/,"").split("/");I.buildId=$[0],Y=$[1]!=="index"?"/"+$.slice(1).join("/"):"/",t.parseData===!0&&(I.pathname=Y)}if(x){let $=t.i18nProvider?t.i18nProvider.analyze(I.pathname):ne(I.pathname,x.locales);I.locale=$.detectedLocale,I.pathname=(o=$.pathname)!=null?o:I.pathname,!$.detectedLocale&&I.buildId&&($=t.i18nProvider?t.i18nProvider.analyze(Y):ne(Y,x.locales)).detectedLocale&&(I.locale=$.detectedLocale)}return I}(this[M].url.pathname,{nextConfig:this[M].options.nextConfig,parseData:!0,i18nProvider:this[M].options.i18nProvider}),ae=function(e,t){let r;if(t?.host&&!Array.isArray(t.host))r=t.host.toString().split(":",1)[0];else{if(!e.hostname)return;r=e.hostname}return r.toLowerCase()}(this[M].url,this[M].options.headers);this[M].domainLocale=this[M].options.i18nProvider?this[M].options.i18nProvider.detectDomainLocale(ae):function(e,t,r){if(e)for(let x of(r&&(r=r.toLowerCase()),e)){var o,v;if(t===((o=x.domain)==null?void 0:o.split(":",1)[0].toLowerCase())||r===x.defaultLocale.toLowerCase()||(v=x.locales)!=null&&v.some(R=>R.toLowerCase()===r))return x}}((c=this[M].options.nextConfig)==null||(i=c.i18n)==null?void 0:i.domains,ae);let ge=((S=this[M].domainLocale)==null?void 0:S.defaultLocale)||((X=this[M].options.nextConfig)==null||(D=X.i18n)==null?void 0:D.defaultLocale);this[M].url.pathname=ce.pathname,this[M].defaultLocale=ge,this[M].basePath=ce.basePath??"",this[M].buildId=ce.buildId,this[M].locale=ce.locale??ge,this[M].trailingSlash=ce.trailingSlash}formatPathname(){var i;let c;return c=function(S,D,X,ce){if(!D||D===X)return S;let ae=S.toLowerCase();return!ce&&(We(ae,"/api")||We(ae,"/"+D.toLowerCase()))?S:Re(S,"/"+D)}((i={basePath:this[M].basePath,buildId:this[M].buildId,defaultLocale:this[M].options.forceLocale?void 0:this[M].defaultLocale,locale:this[M].locale,pathname:this[M].url.pathname,trailingSlash:this[M].trailingSlash}).pathname,i.locale,i.buildId?void 0:i.defaultLocale,i.ignorePrefix),(i.buildId||!i.trailingSlash)&&(c=F(c)),i.buildId&&(c=De(Re(c,"/_next/data/"+i.buildId),i.pathname==="/"?"index.json":".json")),c=Re(c,i.basePath),!i.buildId&&i.trailingSlash?c.endsWith("/")?c:De(c,"/"):F(c)}formatSearch(){return this[M].url.search}get buildId(){return this[M].buildId}set buildId(i){this[M].buildId=i}get locale(){return this[M].locale??""}set locale(i){var c,S;if(!this[M].locale||!(!((S=this[M].options.nextConfig)==null||(c=S.i18n)==null)&&c.locales.includes(i)))throw Object.defineProperty(TypeError(`The NextURL configuration includes no locale "${i}"`),"__NEXT_ERROR_CODE",{value:"E597",enumerable:!1,configurable:!0});this[M].locale=i}get defaultLocale(){return this[M].defaultLocale}get domainLocale(){return this[M].domainLocale}get searchParams(){return this[M].url.searchParams}get host(){return this[M].url.host}set host(i){this[M].url.host=i}get hostname(){return this[M].url.hostname}set hostname(i){this[M].url.hostname=i}get port(){return this[M].url.port}set port(i){this[M].url.port=i}get protocol(){return this[M].url.protocol}set protocol(i){this[M].url.protocol=i}get href(){let i=this.formatPathname(),c=this.formatSearch();return`${this.protocol}//${this.host}${i}${c}${this.hash}`}set href(i){this[M].url=L(i),this.analyze()}get origin(){return this[M].url.origin}get pathname(){return this[M].url.pathname}set pathname(i){this[M].url.pathname=i}get hash(){return this[M].url.hash}set hash(i){this[M].url.hash=i}get search(){return this[M].url.search}set search(i){this[M].url.search=i}get password(){return this[M].url.password}set password(i){this[M].url.password=i}get username(){return this[M].url.username}set username(i){this[M].url.username=i}get basePath(){return this[M].basePath}set basePath(i){this[M].basePath=i.startsWith("/")?i:`/${i}`}toString(){return this.href}toJSON(){return this.href}[Symbol.for("edge-runtime.inspect.custom")](){return{href:this.href,origin:this.origin,protocol:this.protocol,username:this.username,password:this.password,host:this.host,hostname:this.hostname,port:this.port,pathname:this.pathname,search:this.search,searchParams:this.searchParams,hash:this.hash}}clone(){return new U(String(this),this[M].options)}}var H=h(443);let J=Symbol("internal request");class q extends Request{constructor(i,c={}){let S=typeof i!="string"&&"url"in i?i.url:String(i);k(S),i instanceof Request?super(i,c):super(S,c);let D=new U(S,{headers:y(this.headers),nextConfig:c.nextConfig});this[J]={cookies:new H.RequestCookies(this.headers),nextUrl:D,url:D.toString()}}[Symbol.for("edge-runtime.inspect.custom")](){return{cookies:this.cookies,nextUrl:this.nextUrl,url:this.url,bodyUsed:this.bodyUsed,cache:this.cache,credentials:this.credentials,destination:this.destination,headers:Object.fromEntries(this.headers),integrity:this.integrity,keepalive:this.keepalive,method:this.method,mode:this.mode,redirect:this.redirect,referrer:this.referrer,referrerPolicy:this.referrerPolicy,signal:this.signal}}get cookies(){return this[J].cookies}get nextUrl(){return this[J].nextUrl}get page(){throw new b}get ua(){throw new A}get url(){return this[J].url}}class j{static get(i,c,S){let D=Reflect.get(i,c,S);return typeof D=="function"?D.bind(i):D}static set(i,c,S,D){return Reflect.set(i,c,S,D)}static has(i,c){return Reflect.has(i,c)}static deleteProperty(i,c){return Reflect.deleteProperty(i,c)}}let ke=Symbol("internal response"),Ae=new Set([301,302,303,307,308]);function Oe(s,i){var c;if(!(s==null||(c=s.request)==null)&&c.headers){if(!(s.request.headers instanceof Headers))throw Object.defineProperty(Error("request.headers must be an instance of Headers"),"__NEXT_ERROR_CODE",{value:"E119",enumerable:!1,configurable:!0});let S=[];for(let[D,X]of s.request.headers)i.set("x-middleware-request-"+D,X),S.push(D);i.set("x-middleware-override-headers",S.join(","))}}class ve extends Response{constructor(i,c={}){super(i,c);let S=this.headers,D=new Proxy(new H.ResponseCookies(S),{get(X,ce,ae){switch(ce){case"delete":case"set":return(...ge)=>{let e=Reflect.apply(X[ce],X,ge),t=new Headers(S);return e instanceof H.ResponseCookies&&S.set("x-middleware-set-cookie",e.getAll().map(r=>(0,H.stringifyCookie)(r)).join(",")),Oe(c,t),e};default:return j.get(X,ce,ae)}}});this[ke]={cookies:D,url:c.url?new U(c.url,{headers:y(S),nextConfig:c.nextConfig}):void 0}}[Symbol.for("edge-runtime.inspect.custom")](){return{cookies:this.cookies,url:this.url,body:this.body,bodyUsed:this.bodyUsed,headers:Object.fromEntries(this.headers),ok:this.ok,redirected:this.redirected,status:this.status,statusText:this.statusText,type:this.type}}get cookies(){return this[ke].cookies}static json(i,c){let S=Response.json(i,c);return new ve(S.body,S)}static redirect(i,c){let S=typeof c=="number"?c:c?.status??307;if(!Ae.has(S))throw Object.defineProperty(RangeError('Failed to execute "redirect" on "response": Invalid status code'),"__NEXT_ERROR_CODE",{value:"E529",enumerable:!1,configurable:!0});let D=typeof c=="object"?c:{},X=new Headers(D?.headers);return X.set("Location",k(i)),new ve(null,{...D,headers:X,status:S})}static rewrite(i,c){let S=new Headers(c?.headers);return S.set("x-middleware-rewrite",k(i)),Oe(c,S),new ve(null,{...c,headers:S})}static next(i){let c=new Headers(i?.headers);return c.set("x-middleware-next","1"),Oe(i,c),new ve(null,{...i,headers:c})}}function Ge(s,i){let c=typeof i=="string"?new URL(i):i,S=new URL(s,i),D=S.origin===c.origin;return{url:D?S.toString().slice(c.origin.length):S.toString(),isRelative:D}}let Te="next-router-prefetch",Ve=["rsc","next-router-state-tree",Te,"next-hmr-refresh","next-router-segment-prefetch"],_e="_rsc";class Fe extends Error{constructor(){super("Headers cannot be modified. Read more: https://nextjs.org/docs/app/api-reference/functions/headers")}static callable(){throw new Fe}}class $e extends Headers{constructor(i){super(),this.headers=new Proxy(i,{get(c,S,D){if(typeof S=="symbol")return j.get(c,S,D);let X=S.toLowerCase(),ce=Object.keys(i).find(ae=>ae.toLowerCase()===X);if(ce!==void 0)return j.get(c,ce,D)},set(c,S,D,X){if(typeof S=="symbol")return j.set(c,S,D,X);let ce=S.toLowerCase(),ae=Object.keys(i).find(ge=>ge.toLowerCase()===ce);return j.set(c,ae??S,D,X)},has(c,S){if(typeof S=="symbol")return j.has(c,S);let D=S.toLowerCase(),X=Object.keys(i).find(ce=>ce.toLowerCase()===D);return X!==void 0&&j.has(c,X)},deleteProperty(c,S){if(typeof S=="symbol")return j.deleteProperty(c,S);let D=S.toLowerCase(),X=Object.keys(i).find(ce=>ce.toLowerCase()===D);return X===void 0||j.deleteProperty(c,X)}})}static seal(i){return new Proxy(i,{get(c,S,D){switch(S){case"append":case"delete":case"set":return Fe.callable;default:return j.get(c,S,D)}}})}merge(i){return Array.isArray(i)?i.join(", "):i}static from(i){return i instanceof Headers?i:new $e(i)}append(i,c){let S=this.headers[i];typeof S=="string"?this.headers[i]=[S,c]:Array.isArray(S)?S.push(c):this.headers[i]=c}delete(i){delete this.headers[i]}get(i){let c=this.headers[i];return c!==void 0?this.merge(c):null}has(i){return this.headers[i]!==void 0}set(i,c){this.headers[i]=c}forEach(i,c){for(let[S,D]of this.entries())i.call(c,D,S,this)}*entries(){for(let i of Object.keys(this.headers)){let c=i.toLowerCase(),S=this.get(c);yield[c,S]}}*keys(){for(let i of Object.keys(this.headers))yield i.toLowerCase()}*values(){for(let i of Object.keys(this.headers))yield this.get(i)}[Symbol.iterator](){return this.entries()}}let Je=Object.defineProperty(Error("Invariant: AsyncLocalStorage accessed in runtime where it is not available"),"__NEXT_ERROR_CODE",{value:"E504",enumerable:!1,configurable:!0});class ct{disable(){throw Je}getStore(){}run(){throw Je}exit(){throw Je}enterWith(){throw Je}static bind(i){return i}}let Qe=typeof globalThis<"u"&&globalThis.AsyncLocalStorage;function Ke(){return Qe?new Qe:new ct}let Ce=Ke();class Me extends Error{constructor(){super("Cookies can only be modified in a Server Action or Route Handler. Read more: https://nextjs.org/docs/app/api-reference/functions/cookies#options")}static callable(){throw new Me}}class Le{static seal(i){return new Proxy(i,{get(c,S,D){switch(S){case"clear":case"delete":case"set":return Me.callable;default:return j.get(c,S,D)}}})}}let rt=Symbol.for("next.mutated.cookies");class ot{static wrap(i,c){let S=new H.ResponseCookies(new Headers);for(let ge of i.getAll())S.set(ge);let D=[],X=new Set,ce=()=>{let ge=Ce.getStore();if(ge&&(ge.pathWasRevalidated=!0),D=S.getAll().filter(e=>X.has(e.name)),c){let e=[];for(let t of D){let r=new H.ResponseCookies(new Headers);r.set(t),e.push(r.toString())}c(e)}},ae=new Proxy(S,{get(ge,e,t){switch(e){case rt:return D;case"delete":return function(...r){X.add(typeof r[0]=="string"?r[0]:r[0].name);try{return ge.delete(...r),ae}finally{ce()}};case"set":return function(...r){X.add(typeof r[0]=="string"?r[0]:r[0].name);try{return ge.set(...r),ae}finally{ce()}};default:return j.get(ge,e,t)}}});return ae}}function we(s,i){if(s.phase!=="action")throw new Me}var Se=function(s){return s.handleRequest="BaseServer.handleRequest",s.run="BaseServer.run",s.pipe="BaseServer.pipe",s.getStaticHTML="BaseServer.getStaticHTML",s.render="BaseServer.render",s.renderToResponseWithComponents="BaseServer.renderToResponseWithComponents",s.renderToResponse="BaseServer.renderToResponse",s.renderToHTML="BaseServer.renderToHTML",s.renderError="BaseServer.renderError",s.renderErrorToResponse="BaseServer.renderErrorToResponse",s.renderErrorToHTML="BaseServer.renderErrorToHTML",s.render404="BaseServer.render404",s}(Se||{}),fe=function(s){return s.loadDefaultErrorComponents="LoadComponents.loadDefaultErrorComponents",s.loadComponents="LoadComponents.loadComponents",s}(fe||{}),Pe=function(s){return s.getRequestHandler="NextServer.getRequestHandler",s.getServer="NextServer.getServer",s.getServerRequestHandler="NextServer.getServerRequestHandler",s.createServer="createServer.createServer",s}(Pe||{}),je=function(s){return s.compression="NextNodeServer.compression",s.getBuildId="NextNodeServer.getBuildId",s.createComponentTree="NextNodeServer.createComponentTree",s.clientComponentLoading="NextNodeServer.clientComponentLoading",s.getLayoutOrPageModule="NextNodeServer.getLayoutOrPageModule",s.generateStaticRoutes="NextNodeServer.generateStaticRoutes",s.generateFsStaticRoutes="NextNodeServer.generateFsStaticRoutes",s.generatePublicRoutes="NextNodeServer.generatePublicRoutes",s.generateImageRoutes="NextNodeServer.generateImageRoutes.route",s.sendRenderResult="NextNodeServer.sendRenderResult",s.proxyRequest="NextNodeServer.proxyRequest",s.runApi="NextNodeServer.runApi",s.render="NextNodeServer.render",s.renderHTML="NextNodeServer.renderHTML",s.imageOptimizer="NextNodeServer.imageOptimizer",s.getPagePath="NextNodeServer.getPagePath",s.getRoutesManifest="NextNodeServer.getRoutesManifest",s.findPageComponents="NextNodeServer.findPageComponents",s.getFontManifest="NextNodeServer.getFontManifest",s.getServerComponentManifest="NextNodeServer.getServerComponentManifest",s.getRequestHandler="NextNodeServer.getRequestHandler",s.renderToHTML="NextNodeServer.renderToHTML",s.renderError="NextNodeServer.renderError",s.renderErrorToHTML="NextNodeServer.renderErrorToHTML",s.render404="NextNodeServer.render404",s.startResponse="NextNodeServer.startResponse",s.route="route",s.onProxyReq="onProxyReq",s.apiResolver="apiResolver",s.internalFetch="internalFetch",s}(je||{}),be=function(s){return s.startServer="startServer.startServer",s}(be||{}),qe=function(s){return s.getServerSideProps="Render.getServerSideProps",s.getStaticProps="Render.getStaticProps",s.renderToString="Render.renderToString",s.renderDocument="Render.renderDocument",s.createBodyResult="Render.createBodyResult",s}(qe||{}),ue=function(s){return s.renderToString="AppRender.renderToString",s.renderToReadableStream="AppRender.renderToReadableStream",s.getBodyResult="AppRender.getBodyResult",s.fetch="AppRender.fetch",s}(ue||{}),Ie=function(s){return s.executeRoute="Router.executeRoute",s}(Ie||{}),ut=function(s){return s.runHandler="Node.runHandler",s}(ut||{}),ft=function(s){return s.runHandler="AppRouteRouteHandlers.runHandler",s}(ft||{}),jt=function(s){return s.generateMetadata="ResolveMetadata.generateMetadata",s.generateViewport="ResolveMetadata.generateViewport",s}(jt||{}),Ze=function(s){return s.execute="Middleware.execute",s}(Ze||{});let $t=["Middleware.execute","BaseServer.handleRequest","Render.getServerSideProps","Render.getStaticProps","AppRender.fetch","AppRender.getBodyResult","Render.renderDocument","Node.runHandler","AppRouteRouteHandlers.runHandler","ResolveMetadata.generateMetadata","ResolveMetadata.generateViewport","NextNodeServer.createComponentTree","NextNodeServer.findPageComponents","NextNodeServer.getLayoutOrPageModule","NextNodeServer.startResponse","NextNodeServer.clientComponentLoading"],or=["NextNodeServer.findPageComponents","NextNodeServer.createComponentTree","NextNodeServer.clientComponentLoading"];function et(s){return s!==null&&typeof s=="object"&&"then"in s&&typeof s.then=="function"}let{context:Be,propagation:Jt,trace:dt,SpanStatusCode:Bt,SpanKind:qt,ROOT_CONTEXT:ar}=w=h(234);class zt extends Error{constructor(i,c){super(),this.bubble=i,this.result=c}}let xt=(s,i)=>{(function(c){return typeof c=="object"&&c!==null&&c instanceof zt})(i)&&i.bubble?s.setAttribute("next.bubble",!0):(i&&(s.recordException(i),s.setAttribute("error.type",i.name)),s.setStatus({code:Bt.ERROR,message:i?.message})),s.end()},At=new Map,ht=w.createContextKey("next.rootSpanId"),Ct=0,Ft={set(s,i,c){s.push({key:i,value:c})}};class Gt{getTracerInstance(){return dt.getTracer("next.js","0.0.1")}getContext(){return Be}getTracePropagationData(){let i=Be.active(),c=[];return Jt.inject(i,c,Ft),c}getActiveScopeSpan(){return dt.getSpan(Be?.active())}withPropagatedContext(i,c,S){let D=Be.active();if(dt.getSpanContext(D))return c();let X=Jt.extract(D,i,S);return Be.with(X,c)}trace(...i){var c;let[S,D,X]=i,{fn:ce,options:ae}=typeof D=="function"?{fn:D,options:{}}:{fn:X,options:{...D}},ge=ae.spanName??S;if(!$t.includes(S)&&process.env.NEXT_OTEL_VERBOSE!=="1"||ae.hideSpan)return ce();let e=this.getSpanContext(ae?.parentSpan??this.getActiveScopeSpan()),t=!1;e?(c=dt.getSpanContext(e))!=null&&c.isRemote&&(t=!0):(e=Be?.active()??ar,t=!0);let r=Ct++;return ae.attributes={"next.span_name":ge,"next.span_type":S,...ae.attributes},Be.with(e.setValue(ht,r),()=>this.getTracerInstance().startActiveSpan(ge,ae,o=>{let v="performance"in globalThis&&"measure"in performance?globalThis.performance.now():void 0,x=()=>{At.delete(r),v&&process.env.NEXT_OTEL_PERFORMANCE_PREFIX&&or.includes(S||"")&&performance.measure(`${process.env.NEXT_OTEL_PERFORMANCE_PREFIX}:next-${(S.split(".").pop()||"").replace(/[A-Z]/g,R=>"-"+R.toLowerCase())}`,{start:v,end:performance.now()})};t&&At.set(r,new Map(Object.entries(ae.attributes??{})));try{if(ce.length>1)return ce(o,I=>xt(o,I));let R=ce(o);return et(R)?R.then(I=>(o.end(),I)).catch(I=>{throw xt(o,I),I}).finally(x):(o.end(),x(),R)}catch(R){throw xt(o,R),x(),R}}))}wrap(...i){let c=this,[S,D,X]=i.length===3?i:[i[0],{},i[1]];return $t.includes(S)||process.env.NEXT_OTEL_VERBOSE==="1"?function(){let ce=D;typeof ce=="function"&&typeof X=="function"&&(ce=ce.apply(this,arguments));let ae=arguments.length-1,ge=arguments[ae];if(typeof ge!="function")return c.trace(S,ce,()=>X.apply(this,arguments));{let e=c.getContext().bind(Be.active(),ge);return c.trace(S,ce,(t,r)=>(arguments[ae]=function(o){return r?.(o),e.apply(this,arguments)},X.apply(this,arguments)))}}:X}startSpan(...i){let[c,S]=i,D=this.getSpanContext(S?.parentSpan??this.getActiveScopeSpan());return this.getTracerInstance().startSpan(c,S,D)}getSpanContext(i){return i?dt.setSpan(Be.active(),i):void 0}getRootSpanAttributes(){let i=Be.active().getValue(ht);return At.get(i)}setRootSpanAttribute(i,c){let S=Be.active().getValue(ht),D=At.get(S);D&&D.set(i,c)}}let Rt=(()=>{let s=new Gt;return()=>s})(),Pt="__prerender_bypass";Symbol("__next_preview_data"),Symbol(Pt);class yr{constructor(i,c,S,D){var X;let ce=i&&function(ge,e){let t=$e.from(ge.headers);return{isOnDemandRevalidate:t.get("x-prerender-revalidate")===e.previewModeId,revalidateOnlyGenerated:t.has("x-prerender-revalidate-if-generated")}}(c,i).isOnDemandRevalidate,ae=(X=S.get(Pt))==null?void 0:X.value;this._isEnabled=!!(!ce&&ae&&i&&ae===i.previewModeId),this._previewModeId=i?.previewModeId,this._mutableCookies=D}get isEnabled(){return this._isEnabled}enable(){if(!this._previewModeId)throw Object.defineProperty(Error("Invariant: previewProps missing previewModeId this should never happen"),"__NEXT_ERROR_CODE",{value:"E93",enumerable:!1,configurable:!0});this._mutableCookies.set({name:Pt,value:this._previewModeId,httpOnly:!0,sameSite:"none",secure:!0,path:"/"}),this._isEnabled=!0}disable(){this._mutableCookies.set({name:Pt,value:"",httpOnly:!0,sameSite:"none",secure:!0,path:"/",expires:new Date(0)}),this._isEnabled=!1}}function sr(s,i){if("x-middleware-set-cookie"in s.headers&&typeof s.headers["x-middleware-set-cookie"]=="string"){let c=s.headers["x-middleware-set-cookie"],S=new Headers;for(let D of m(c))S.append("set-cookie",D);for(let D of new H.ResponseCookies(S).getAll())i.set(D)}}let yt=Ke();var kt=h(213),Tt=h.n(kt);class Vt extends Error{constructor(i,c){super("Invariant: "+(i.endsWith(".")?i:i+".")+" This is a bug in Next.js.",c),this.name="InvariantError"}}class Xt{constructor(i,c,S){this.prev=null,this.next=null,this.key=i,this.data=c,this.size=S}}class Yt{constructor(){this.prev=null,this.next=null}}class lr{constructor(i,c){this.cache=new Map,this.totalSize=0,this.maxSize=i,this.calculateSize=c,this.head=new Yt,this.tail=new Yt,this.head.next=this.tail,this.tail.prev=this.head}addToHead(i){i.prev=this.head,i.next=this.head.next,this.head.next.prev=i,this.head.next=i}removeNode(i){i.prev.next=i.next,i.next.prev=i.prev}moveToHead(i){this.removeNode(i),this.addToHead(i)}removeTail(){let i=this.tail.prev;return this.removeNode(i),i}set(i,c){let S=(this.calculateSize==null?void 0:this.calculateSize.call(this,c))??1;if(S>this.maxSize)return void console.warn("Single item size exceeds maxSize");let D=this.cache.get(i);if(D)D.data=c,this.totalSize=this.totalSize-D.size+S,D.size=S,this.moveToHead(D);else{let X=new Xt(i,c,S);this.cache.set(i,X),this.addToHead(X),this.totalSize+=S}for(;this.totalSize>this.maxSize&&this.cache.size>0;){let X=this.removeTail();this.cache.delete(X.key),this.totalSize-=X.size}}has(i){return this.cache.has(i)}get(i){let c=this.cache.get(i);if(c)return this.moveToHead(c),c.data}*[Symbol.iterator](){let i=this.head.next;for(;i&&i!==this.tail;){let c=i;yield[c.key,c.data],i=i.next}}remove(i){let c=this.cache.get(i);c&&(this.removeNode(c),this.cache.delete(i),this.totalSize-=c.size)}get size(){return this.cache.size}get currentSize(){return this.totalSize}}h(356).Buffer,new lr(52428800,s=>s.size),process.env.NEXT_PRIVATE_DEBUG_CACHE&&console.debug.bind(console,"DefaultCacheHandler:"),process.env.NEXT_PRIVATE_DEBUG_CACHE,Symbol.for("@next/cache-handlers");let Ot=Symbol.for("@next/cache-handlers-map"),Ht=Symbol.for("@next/cache-handlers-set"),bt=globalThis;function Qt(){if(bt[Ot])return bt[Ot].entries()}async function It(s,i){if(!s)return i();let c=Nt(s);try{return await i()}finally{let S=function(D,X){let ce=new Set(D.pendingRevalidatedTags),ae=new Set(D.pendingRevalidateWrites);return{pendingRevalidatedTags:X.pendingRevalidatedTags.filter(ge=>!ce.has(ge)),pendingRevalidates:Object.fromEntries(Object.entries(X.pendingRevalidates).filter(([ge])=>!(ge in D.pendingRevalidates))),pendingRevalidateWrites:X.pendingRevalidateWrites.filter(ge=>!ae.has(ge))}}(c,Nt(s));await Zt(s,S)}}function Nt(s){return{pendingRevalidatedTags:s.pendingRevalidatedTags?[...s.pendingRevalidatedTags]:[],pendingRevalidates:{...s.pendingRevalidates},pendingRevalidateWrites:s.pendingRevalidateWrites?[...s.pendingRevalidateWrites]:[]}}async function mr(s,i){if(s.length===0)return;let c=[];i&&c.push(i.revalidateTag(s));let S=function(){if(bt[Ht])return bt[Ht].values()}();if(S)for(let D of S)c.push(D.expireTags(...s));await Promise.all(c)}async function Zt(s,i){let c=i?.pendingRevalidatedTags??s.pendingRevalidatedTags??[],S=i?.pendingRevalidates??s.pendingRevalidates??{},D=i?.pendingRevalidateWrites??s.pendingRevalidateWrites??[];return Promise.all([mr(c,s.incrementalCache),...Object.values(S),...D])}let pt=Object.defineProperty(Error("Invariant: AsyncLocalStorage accessed in runtime where it is not available"),"__NEXT_ERROR_CODE",{value:"E504",enumerable:!1,configurable:!0});class er{disable(){throw pt}getStore(){}run(){throw pt}exit(){throw pt}enterWith(){throw pt}static bind(i){return i}}let at=typeof globalThis<"u"&&globalThis.AsyncLocalStorage,a=at?new at:new er;class d{constructor({waitUntil:i,onClose:c,onTaskError:S}){this.workUnitStores=new Set,this.waitUntil=i,this.onClose=c,this.onTaskError=S,this.callbackQueue=new(Tt()),this.callbackQueue.pause()}after(i){if(et(i))this.waitUntil||g(),this.waitUntil(i.catch(c=>this.reportTaskError("promise",c)));else if(typeof i=="function")this.addCallback(i);else throw Object.defineProperty(Error("`after()`: Argument must be a promise or a function"),"__NEXT_ERROR_CODE",{value:"E50",enumerable:!1,configurable:!0})}addCallback(i){var c;this.waitUntil||g();let S=yt.getStore();S&&this.workUnitStores.add(S);let D=a.getStore(),X=D?D.rootTaskSpawnPhase:S?.phase;this.runCallbacksOnClosePromise||(this.runCallbacksOnClosePromise=this.runCallbacksOnClose(),this.waitUntil(this.runCallbacksOnClosePromise));let ce=(c=async()=>{try{await a.run({rootTaskSpawnPhase:X},()=>i())}catch(ae){this.reportTaskError("function",ae)}},at?at.bind(c):er.bind(c));this.callbackQueue.add(ce)}async runCallbacksOnClose(){return await new Promise(i=>this.onClose(i)),this.runCallbacks()}async runCallbacks(){if(this.callbackQueue.size===0)return;for(let c of this.workUnitStores)c.phase="after";let i=Ce.getStore();if(!i)throw Object.defineProperty(new Vt("Missing workStore in AfterContext.runCallbacks"),"__NEXT_ERROR_CODE",{value:"E547",enumerable:!1,configurable:!0});return It(i,()=>(this.callbackQueue.start(),this.callbackQueue.onIdle()))}reportTaskError(i,c){if(console.error(i==="promise"?"A promise passed to `after()` rejected:":"An error occurred in a function passed to `after()`:",c),this.onTaskError)try{this.onTaskError==null||this.onTaskError.call(this,c)}catch(S){console.error(Object.defineProperty(new Vt("`onTaskError` threw while handling an error thrown from an `after` task",{cause:S}),"__NEXT_ERROR_CODE",{value:"E569",enumerable:!1,configurable:!0}))}}}function g(){throw Object.defineProperty(Error("`after()` will not work correctly, because `waitUntil` is not available in the current environment."),"__NEXT_ERROR_CODE",{value:"E91",enumerable:!1,configurable:!0})}function O(s){let i,c={then:(S,D)=>(i||(i=s()),i.then(X=>{c.value=X}).catch(()=>{}),i.then(S,D))};return c}class B{onClose(i){if(this.isClosed)throw Object.defineProperty(Error("Cannot subscribe to a closed CloseController"),"__NEXT_ERROR_CODE",{value:"E365",enumerable:!1,configurable:!0});this.target.addEventListener("close",i),this.listeners++}dispatchClose(){if(this.isClosed)throw Object.defineProperty(Error("Cannot close a CloseController multiple times"),"__NEXT_ERROR_CODE",{value:"E229",enumerable:!1,configurable:!0});this.listeners>0&&this.target.dispatchEvent(new Event("close")),this.isClosed=!0}constructor(){this.target=new EventTarget,this.listeners=0,this.isClosed=!1}}function ie(){return{previewModeId:process.env.__NEXT_PREVIEW_MODE_ID||"",previewModeSigningKey:process.env.__NEXT_PREVIEW_MODE_SIGNING_KEY||"",previewModeEncryptionKey:process.env.__NEXT_PREVIEW_MODE_ENCRYPTION_KEY||""}}let se=Symbol.for("@next/request-context");async function Ee(s,i,c){let S=[],D=c&&c.size>0;for(let X of(ce=>{let ae=["/layout"];if(ce.startsWith("/")){let ge=ce.split("/");for(let e=1;e<ge.length+1;e++){let t=ge.slice(0,e).join("/");t&&(t.endsWith("/page")||t.endsWith("/route")||(t=`${t}${t.endsWith("/")?"":"/"}layout`),ae.push(t))}}return ae})(s))X=`${f}${X}`,S.push(X);if(i.pathname&&!D){let X=`${f}${i.pathname}`;S.push(X)}return{tags:S,expirationsByCacheKind:function(X){let ce=new Map,ae=Qt();if(ae)for(let[ge,e]of ae)"getExpiration"in e&&ce.set(ge,O(async()=>e.getExpiration(...X)));return ce}(S)}}class ze extends q{constructor(i){super(i.input,i.init),this.sourcePage=i.page}get request(){throw Object.defineProperty(new p({page:this.sourcePage}),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0})}respondWith(){throw Object.defineProperty(new p({page:this.sourcePage}),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0})}waitUntil(){throw Object.defineProperty(new p({page:this.sourcePage}),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0})}}let st={keys:s=>Array.from(s.keys()),get:(s,i)=>s.get(i)??void 0},mt=(s,i)=>Rt().withPropagatedContext(s.headers,i,st),Et=!1;async function gt(s){var i;let c,S;if(!Et&&(Et=!0,process.env.NEXT_PRIVATE_TEST_PROXY==="true")){let{interceptTestApis:oe,wrapRequestHandler:ye}=h(720);oe(),mt=ye(mt)}await G();let D=globalThis.__BUILD_MANIFEST!==void 0;s.request.url=s.request.url.replace(/\.rsc($|\?)/,"$1");let X=s.bypassNextUrl?new URL(s.request.url):new U(s.request.url,{headers:s.request.headers,nextConfig:s.request.nextConfig});for(let oe of[...X.searchParams.keys()]){let ye=X.searchParams.getAll(oe),de=function(he){for(let Ne of["nxtP","nxtI"])if(he!==Ne&&he.startsWith(Ne))return he.substring(Ne.length);return null}(oe);if(de){for(let he of(X.searchParams.delete(de),ye))X.searchParams.append(de,he);X.searchParams.delete(oe)}}let ce=process.env.__NEXT_BUILD_ID||"";"buildId"in X&&(ce=X.buildId||"",X.buildId="");let ae=function(oe){let ye=new Headers;for(let[de,he]of Object.entries(oe))for(let Ne of Array.isArray(he)?he:[he])Ne!==void 0&&(typeof Ne=="number"&&(Ne=Ne.toString()),ye.append(de,Ne));return ye}(s.request.headers),ge=ae.has("x-nextjs-data"),e=ae.get("rsc")==="1";ge&&X.pathname==="/index"&&(X.pathname="/");let t=new Map;if(!D)for(let oe of Ve){let ye=ae.get(oe);ye!==null&&(t.set(oe,ye),ae.delete(oe))}let r=X.searchParams.get(_e),o=new ze({page:s.page,input:function(oe){let ye=typeof oe=="string",de=ye?new URL(oe):oe;return de.searchParams.delete(_e),ye?de.toString():de}(X).toString(),init:{body:s.request.body,headers:ae,method:s.request.method,nextConfig:s.request.nextConfig,signal:s.request.signal}});ge&&Object.defineProperty(o,"__isData",{enumerable:!1,value:!0}),!globalThis.__incrementalCacheShared&&s.IncrementalCache&&(globalThis.__incrementalCache=new s.IncrementalCache({CurCacheHandler:s.incrementalCacheHandler,minimalMode:!0,fetchCacheKeyPrefix:"",dev:!1,requestHeaders:s.request.headers,getPrerenderManifest:()=>({version:-1,routes:{},dynamicRoutes:{},notFoundRoutes:[],preview:ie()})}));let v=s.request.waitUntil??((i=function(){let oe=globalThis[se];return oe?.get()}())==null?void 0:i.waitUntil),x=new me({request:o,page:s.page,context:v?{waitUntil:v}:void 0});if((c=await mt(o,()=>{if(s.page==="/middleware"||s.page==="/src/middleware"){let oe=x.waitUntil.bind(x),ye=new B;return Rt().trace(Ze.execute,{spanName:`middleware ${o.method} ${o.nextUrl.pathname}`,attributes:{"http.target":o.nextUrl.pathname,"http.method":o.method}},async()=>{try{var de,he,Ne,wt,St,cr;let Kt=ie(),tt=await Ee("/",o.nextUrl,null),$n=(St=o.nextUrl,cr=ur=>{S=ur},function(ur,He,vr,Pr,$r,br,kr,Tr,Jr,Or,lt,Xe){function rr(Ye){vr&&vr.setHeader("Set-Cookie",Ye)}let Ue={};return{type:"request",phase:ur,implicitTags:br,url:{pathname:Pr.pathname,search:Pr.search??""},rootParams:$r,get headers(){return Ue.headers||(Ue.headers=function(Ye){let Dt=$e.from(Ye);for(let nr of Ve)Dt.delete(nr);return $e.seal(Dt)}(He.headers)),Ue.headers},get cookies(){if(!Ue.cookies){let Ye=new H.RequestCookies($e.from(He.headers));sr(He,Ye),Ue.cookies=Le.seal(Ye)}return Ue.cookies},set cookies(Ye){Ue.cookies=Ye},get mutableCookies(){if(!Ue.mutableCookies){let Ye=function(Dt,nr){let Hr=new H.RequestCookies($e.from(Dt));return ot.wrap(Hr,nr)}(He.headers,kr||(vr?rr:void 0));sr(He,Ye),Ue.mutableCookies=Ye}return Ue.mutableCookies},get userspaceMutableCookies(){return Ue.userspaceMutableCookies||(Ue.userspaceMutableCookies=function(Ye){let Dt=new Proxy(Ye.mutableCookies,{get(nr,Hr,Bn){switch(Hr){case"delete":return function(...Br){return we(Ye,"cookies().delete"),nr.delete(...Br),Dt};case"set":return function(...Br){return we(Ye,"cookies().set"),nr.set(...Br),Dt};default:return j.get(nr,Hr,Bn)}}});return Dt}(this)),Ue.userspaceMutableCookies},get draftMode(){return Ue.draftMode||(Ue.draftMode=new yr(Jr,He,this.cookies,this.mutableCookies)),Ue.draftMode},renderResumeDataCache:Tr??null,isHmrRefresh:Or,serverComponentsHmrCache:lt||globalThis.__serverComponentsHmrCache,devFallbackParams:null}}("action",o,void 0,St,{},tt,cr,void 0,Kt,!1,void 0,null)),Jn=function({page:ur,renderOpts:He,isPrefetchRequest:vr,buildId:Pr,previouslyRevalidatedTags:$r}){var br;let kr=!He.shouldWaitOnAllReady&&!He.supportsDynamicResponse&&!He.isDraftMode&&!He.isPossibleServerAction,Tr=He.dev??!1,Jr=Tr||kr&&(!!process.env.NEXT_DEBUG_BUILD||process.env.NEXT_SSG_FETCH_METRICS==="1"),Or={isStaticGeneration:kr,page:ur,route:(br=ur.split("/").reduce((lt,Xe,rr,Ue)=>Xe?Xe[0]==="("&&Xe.endsWith(")")||Xe[0]==="@"||(Xe==="page"||Xe==="route")&&rr===Ue.length-1?lt:lt+"/"+Xe:lt,"")).startsWith("/")?br:"/"+br,incrementalCache:He.incrementalCache||globalThis.__incrementalCache,cacheLifeProfiles:He.cacheLifeProfiles,isRevalidate:He.isRevalidate,isBuildTimePrerendering:He.nextExport,hasReadableErrorStacks:He.hasReadableErrorStacks,fetchCache:He.fetchCache,isOnDemandRevalidate:He.isOnDemandRevalidate,isDraftMode:He.isDraftMode,isPrefetchRequest:vr,buildId:Pr,reactLoadableManifest:He?.reactLoadableManifest||{},assetPrefix:He?.assetPrefix||"",afterContext:function(lt){let{waitUntil:Xe,onClose:rr,onAfterTaskError:Ue}=lt;return new d({waitUntil:Xe,onClose:rr,onTaskError:Ue})}(He),cacheComponentsEnabled:He.experimental.cacheComponents,dev:Tr,previouslyRevalidatedTags:$r,refreshTagsByCacheKind:function(){let lt=new Map,Xe=Qt();if(Xe)for(let[rr,Ue]of Xe)"refreshTags"in Ue&&lt.set(rr,O(async()=>Ue.refreshTags()));return lt}(),runInCleanSnapshot:at?at.snapshot():function(lt,...Xe){return lt(...Xe)},shouldTrackFetchMetrics:Jr};return He.store=Or,Or}({page:"/",renderOpts:{cacheLifeProfiles:(he=s.request.nextConfig)==null||(de=he.experimental)==null?void 0:de.cacheLife,experimental:{isRoutePPREnabled:!1,cacheComponents:!1,authInterrupts:!!(!((wt=s.request.nextConfig)==null||(Ne=wt.experimental)==null)&&Ne.authInterrupts)},supportsDynamicResponse:!0,waitUntil:oe,onClose:ye.onClose.bind(ye),onAfterTaskError:void 0},isPrefetchRequest:o.headers.get(Te)==="1",buildId:ce??"",previouslyRevalidatedTags:[]});return await Ce.run(Jn,()=>yt.run($n,s.handler,o,x))}finally{setTimeout(()=>{ye.dispatchClose()},0)}})}return s.handler(o,x)}))&&!(c instanceof Response))throw Object.defineProperty(TypeError("Expected an instance of Response to be returned"),"__NEXT_ERROR_CODE",{value:"E567",enumerable:!1,configurable:!0});c&&S&&c.headers.set("set-cookie",S);let R=c?.headers.get("x-middleware-rewrite");if(c&&R&&(e||!D)){let oe=new U(R,{forceLocale:!0,headers:s.request.headers,nextConfig:s.request.nextConfig});D||oe.host!==o.nextUrl.host||(oe.buildId=ce||oe.buildId,c.headers.set("x-middleware-rewrite",String(oe)));let{url:ye,isRelative:de}=Ge(oe.toString(),X.toString());!D&&ge&&c.headers.set("x-nextjs-rewrite",ye),e&&de&&(X.pathname!==oe.pathname&&c.headers.set("x-nextjs-rewritten-path",oe.pathname),X.search!==oe.search&&c.headers.set("x-nextjs-rewritten-query",oe.search.slice(1)))}if(c&&R&&e&&r){let oe=new URL(R);oe.searchParams.has(_e)||(oe.searchParams.set(_e,r),c.headers.set("x-middleware-rewrite",oe.toString()))}let I=c?.headers.get("Location");if(c&&I&&!D){let oe=new U(I,{forceLocale:!1,headers:s.request.headers,nextConfig:s.request.nextConfig});c=new Response(c.body,c),oe.host===X.host&&(oe.buildId=ce||oe.buildId,c.headers.set("Location",oe.toString())),ge&&(c.headers.delete("Location"),c.headers.set("x-nextjs-redirect",Ge(oe.toString(),X.toString()).url))}let Y=c||ve.next(),$=Y.headers.get("x-middleware-override-headers"),te=[];if($){for(let[oe,ye]of t)Y.headers.set(`x-middleware-request-${oe}`,ye),te.push(oe);te.length>0&&Y.headers.set("x-middleware-override-headers",$+","+te.join(","))}return{response:Y,waitUntil:(x[N].kind==="internal"?Promise.all(x[N].promises).then(()=>{}):void 0)??Promise.resolve(),fetchMetrics:o.fetchMetrics}}h(449),typeof URLPattern>"u"||URLPattern;var Ut=h(814);if(Ut.unstable_postpone,function(s){return s.includes("needs to bail out of prerendering at this point because it used")&&s.includes("Learn more: https://nextjs.org/docs/messages/ppr-caught-error")}("Route %%% needs to bail out of prerendering at this point because it used ^^^. React throws this special object to indicate where. It should not be caught by your own try/catch. Learn more: https://nextjs.org/docs/messages/ppr-caught-error")===!1)throw Object.defineProperty(Error("Invariant: isDynamicPostpone misidentified a postpone reason. This is a bug in Next.js"),"__NEXT_ERROR_CODE",{value:"E296",enumerable:!1,configurable:!0});RegExp("\\n\\s+at Suspense \\(<anonymous>\\)(?:(?!\\n\\s+at (?:body|div|main|section|article|aside|header|footer|nav|form|p|span|h1|h2|h3|h4|h5|h6) \\(<anonymous>\\))[\\s\\S])*?\\n\\s+at __next_root_layout_boundary__ \\([^\\n]*\\)"),RegExp("\\n\\s+at __next_metadata_boundary__[\\n\\s]"),RegExp("\\n\\s+at __next_viewport_boundary__[\\n\\s]"),RegExp("\\n\\s+at __next_outlet_boundary__[\\n\\s]"),Ke();let{env:nt,stdout:Wt}=((z=globalThis)==null?void 0:z.process)??{},gr=nt&&!nt.NO_COLOR&&(nt.FORCE_COLOR||Wt?.isTTY&&!nt.CI&&nt.TERM!=="dumb"),tr=(s,i,c,S)=>{let D=s.substring(0,S)+c,X=s.substring(S+i.length),ce=X.indexOf(i);return~ce?D+tr(X,i,c,ce):D+X},xe=(s,i,c=s)=>gr?S=>{let D=""+S,X=D.indexOf(i,s.length);return~X?s+tr(D,i,c,X)+i:s+D+i}:String,_t=xe("\x1B[1m","\x1B[22m","\x1B[22m\x1B[1m");xe("\x1B[2m","\x1B[22m","\x1B[22m\x1B[2m"),xe("\x1B[3m","\x1B[23m"),xe("\x1B[4m","\x1B[24m"),xe("\x1B[7m","\x1B[27m"),xe("\x1B[8m","\x1B[28m"),xe("\x1B[9m","\x1B[29m"),xe("\x1B[30m","\x1B[39m");let Wr=xe("\x1B[31m","\x1B[39m"),Kr=xe("\x1B[32m","\x1B[39m"),Sr=xe("\x1B[33m","\x1B[39m");xe("\x1B[34m","\x1B[39m");let Dr=xe("\x1B[35m","\x1B[39m");xe("\x1B[38;2;173;127;168m","\x1B[39m"),xe("\x1B[36m","\x1B[39m");let wr=xe("\x1B[37m","\x1B[39m");xe("\x1B[90m","\x1B[39m"),xe("\x1B[40m","\x1B[49m"),xe("\x1B[41m","\x1B[49m"),xe("\x1B[42m","\x1B[49m"),xe("\x1B[43m","\x1B[49m"),xe("\x1B[44m","\x1B[49m"),xe("\x1B[45m","\x1B[49m"),xe("\x1B[46m","\x1B[49m"),xe("\x1B[47m","\x1B[49m"),wr(_t("\u25CB")),Wr(_t("\u2A2F")),Sr(_t("\u26A0")),wr(_t(" ")),Kr(_t("\u2713")),Dr(_t("\xBB")),new lr(1e4,s=>s.length);var xr=h(426);async function Mr(s){if(s.nextUrl.pathname.startsWith("/api/")){let i=ve.next();return i.headers.set("Access-Control-Allow-Origin","*"),i.headers.set("Access-Control-Allow-Methods","GET, POST, PUT, DELETE, OPTIONS"),i.headers.set("Access-Control-Allow-Headers","Content-Type, Authorization"),i}return s.nextUrl.pathname.startsWith("/dashboard")&&!await(0,xr.getToken)({req:s,secret:process.env.NEXTAUTH_SECRET})?ve.redirect(new URL("/login",s.url)):ve.next()}let Lr={matcher:["/api/:path*","/dashboard/:path*"]};Object.values({NOT_FOUND:404,FORBIDDEN:403,UNAUTHORIZED:401});let Ar={...C},Cr=Ar.middleware||Ar.default,Rr="/src/middleware";if(typeof Cr!="function")throw Object.defineProperty(Error(`The Middleware "${Rr}" must export a \`middleware\` or a \`default\` function`),"__NEXT_ERROR_CODE",{value:"E120",enumerable:!1,configurable:!0});function jr(s){return gt({...s,page:Rr,handler:async(...i)=>{try{return await Cr(...i)}catch(c){let S=i[0],D=new URL(S.url),X=D.pathname+D.search;throw await _(c,{path:X,method:S.method,headers:Object.fromEntries(S.headers.entries())},{routerKind:"Pages Router",routePath:"/middleware",routeType:"middleware",revalidateReason:void 0}),c}}})}},674:(n,l)=>{"use strict";function h(b,A,f){w(b,A),A.set(b,f)}function w(b,A){if(A.has(b))throw TypeError("Cannot initialize the same private elements twice on an object")}function z(b,A){return b.get(W(b,A))}function C(b,A,f){return b.set(W(b,A),f),f}function W(b,A,f){if(typeof b=="function"?b===A:b.has(A))return arguments.length<3?A:f;throw TypeError("Private element is not present on this object")}Object.defineProperty(l,"__esModule",{value:!0}),l.SessionStore=void 0,l.defaultCookies=function(b){let A=b?"__Secure-":"";return{sessionToken:{name:`${A}next-auth.session-token`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:b}},callbackUrl:{name:`${A}next-auth.callback-url`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:b}},csrfToken:{name:`${b?"__Host-":""}next-auth.csrf-token`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:b}},pkceCodeVerifier:{name:`${A}next-auth.pkce.code_verifier`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:b,maxAge:900}},state:{name:`${A}next-auth.state`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:b,maxAge:900}},nonce:{name:`${A}next-auth.nonce`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:b}}}};var u=new WeakMap,P=new WeakMap,_=new WeakMap,K=new WeakSet;class G{constructor(A,f,E){(function(k,Z){w(k,Z),Z.add(k)})(this,K),h(this,u,{}),h(this,P,void 0),h(this,_,void 0),C(_,this,E),C(P,this,A);let{cookies:m}=f,{name:y}=A;if(typeof m?.getAll=="function")for(let{name:k,value:Z}of m.getAll())k.startsWith(y)&&(z(u,this)[k]=Z);else if(m instanceof Map)for(let k of m.keys())k.startsWith(y)&&(z(u,this)[k]=m.get(k));else for(let k in m)k.startsWith(y)&&(z(u,this)[k]=m[k])}get value(){return Object.keys(z(u,this)).sort((A,f)=>{var E,m;return parseInt((E=A.split(".").pop())!=null?E:"0")-parseInt((m=f.split(".").pop())!=null?m:"0")}).map(A=>z(u,this)[A]).join("")}chunk(A,f){let E=W(K,this,p).call(this);for(let m of W(K,this,T).call(this,{name:z(P,this).name,value:A,options:{...z(P,this).options,...f}}))E[m.name]=m;return Object.values(E)}clean(){return Object.values(W(K,this,p).call(this))}}function T(b){let A=Math.ceil(b.value.length/3933);if(A===1)return z(u,this)[b.name]=b.value,[b];let f=[];for(let E=0;E<A;E++){let m=`${b.name}.${E}`,y=b.value.substr(3933*E,3933);f.push({...b,name:m,value:y}),z(u,this)[m]=y}return z(_,this).debug("CHUNKING_SESSION_COOKIE",{message:"Session cookie exceeds allowed 4096 bytes.",emptyCookieSize:163,valueSize:b.value.length,chunks:f.map(E=>E.value.length+163)}),f}function p(){let b={};for(let f in z(u,this)){var A;(A=z(u,this))==null||delete A[f],b[f]={name:f,value:"",options:{...z(P,this).options,maxAge:0}}}return b}l.SessionStore=G},720:(n,l,h)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),function(u,P){for(var _ in P)Object.defineProperty(u,_,{enumerable:!0,get:P[_]})}(l,{interceptTestApis:function(){return C},wrapRequestHandler:function(){return W}});let w=h(392),z=h(165);function C(){return(0,z.interceptFetch)(h.g.fetch)}function W(u){return(P,_)=>(0,w.withRequest)(P,z.reader,()=>u(P,_))}},743:(n,l,h)=>{"use strict";h.r(l),h.d(l,{CompactEncrypt:()=>st,CompactSign:()=>gt,EmbeddedJWK:()=>Kr,EncryptJWT:()=>tr,FlattenedEncrypt:()=>It,FlattenedSign:()=>Et,GeneralEncrypt:()=>mr,GeneralSign:()=>nt,SignJWT:()=>gr,UnsecuredJWT:()=>Rr,base64url:()=>z,calculateJwkThumbprint:()=>_t,calculateJwkThumbprintUri:()=>Wr,compactDecrypt:()=>Vt,compactVerify:()=>a,createLocalJWKSet:()=>Mr,createRemoteJWKSet:()=>Cr,cryptoRuntime:()=>ge,decodeJwt:()=>c,decodeProtectedHeader:()=>i,errors:()=>w,exportJWK:()=>Ht,exportPKCS8:()=>Ot,exportSPKI:()=>lr,flattenedDecrypt:()=>Tt,flattenedVerify:()=>at,generalDecrypt:()=>Xt,generalVerify:()=>d,generateKeyPair:()=>ce,generateSecret:()=>ae,importJWK:()=>ht,importPKCS8:()=>At,importSPKI:()=>zt,importX509:()=>xt,jwtDecrypt:()=>ze,jwtVerify:()=>Ee});var w={};h.r(w),h.d(w,{JOSEAlgNotAllowed:()=>re,JOSEError:()=>y,JOSENotSupported:()=>N,JWEDecompressionFailed:()=>me,JWEDecryptionFailed:()=>ee,JWEInvalid:()=>F,JWKInvalid:()=>De,JWKSInvalid:()=>We,JWKSMultipleMatchingKeys:()=>ne,JWKSNoMatchingKey:()=>V,JWKSTimeout:()=>Q,JWSInvalid:()=>le,JWSSignatureVerificationFailed:()=>L,JWTClaimValidationFailed:()=>k,JWTExpired:()=>Z,JWTInvalid:()=>Re});var z={};h.r(z),h.d(z,{decode:()=>s,encode:()=>jr});let C=crypto,W=async(e,t)=>{let r=`SHA-${e.slice(-3)}`;return new Uint8Array(await C.subtle.digest(r,t))},u=new TextEncoder,P=new TextDecoder;function _(...e){let t=new Uint8Array(e.reduce((o,{length:v})=>o+v,0)),r=0;return e.forEach(o=>{t.set(o,r),r+=o.length}),t}function K(e,t,r){if(t<0||t>=4294967296)throw RangeError(`value must be >= 0 and <= ${4294967296-1}. Received ${t}`);e.set([t>>>24,t>>>16,t>>>8,255&t],r)}function G(e){let t=Math.floor(e/4294967296),r=new Uint8Array(8);return K(r,t,0),K(r,e%4294967296,4),r}function T(e){let t=new Uint8Array(4);return K(t,e),t}function p(e){return _(T(e.length),e)}async function b(e,t,r){let o=Math.ceil((t>>3)/32),v=new Uint8Array(32*o);for(let x=0;x<o;x++){let R=new Uint8Array(4+e.length+r.length);R.set(T(x+1)),R.set(e,4),R.set(r,4+e.length),v.set(await W("sha256",R),32*x)}return v.slice(0,t>>3)}let A=e=>{let t=e;typeof t=="string"&&(t=u.encode(t));let r=[];for(let o=0;o<t.length;o+=32768)r.push(String.fromCharCode.apply(null,t.subarray(o,o+32768)));return btoa(r.join(""))},f=e=>A(e).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_"),E=e=>{let t=atob(e),r=new Uint8Array(t.length);for(let o=0;o<t.length;o++)r[o]=t.charCodeAt(o);return r},m=e=>{let t=e;t instanceof Uint8Array&&(t=P.decode(t)),t=t.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"");try{return E(t)}catch{throw TypeError("The input to be decoded is not correctly encoded.")}};class y extends Error{static get code(){return"ERR_JOSE_GENERIC"}constructor(t){var r;super(t),this.code="ERR_JOSE_GENERIC",this.name=this.constructor.name,(r=Error.captureStackTrace)==null||r.call(Error,this,this.constructor)}}class k extends y{static get code(){return"ERR_JWT_CLAIM_VALIDATION_FAILED"}constructor(t,r="unspecified",o="unspecified"){super(t),this.code="ERR_JWT_CLAIM_VALIDATION_FAILED",this.claim=r,this.reason=o}}class Z extends y{static get code(){return"ERR_JWT_EXPIRED"}constructor(t,r="unspecified",o="unspecified"){super(t),this.code="ERR_JWT_EXPIRED",this.claim=r,this.reason=o}}class re extends y{constructor(){super(...arguments),this.code="ERR_JOSE_ALG_NOT_ALLOWED"}static get code(){return"ERR_JOSE_ALG_NOT_ALLOWED"}}class N extends y{constructor(){super(...arguments),this.code="ERR_JOSE_NOT_SUPPORTED"}static get code(){return"ERR_JOSE_NOT_SUPPORTED"}}class ee extends y{constructor(){super(...arguments),this.code="ERR_JWE_DECRYPTION_FAILED",this.message="decryption operation failed"}static get code(){return"ERR_JWE_DECRYPTION_FAILED"}}class me extends y{constructor(){super(...arguments),this.code="ERR_JWE_DECOMPRESSION_FAILED",this.message="decompression operation failed"}static get code(){return"ERR_JWE_DECOMPRESSION_FAILED"}}class F extends y{constructor(){super(...arguments),this.code="ERR_JWE_INVALID"}static get code(){return"ERR_JWE_INVALID"}}class le extends y{constructor(){super(...arguments),this.code="ERR_JWS_INVALID"}static get code(){return"ERR_JWS_INVALID"}}class Re extends y{constructor(){super(...arguments),this.code="ERR_JWT_INVALID"}static get code(){return"ERR_JWT_INVALID"}}class De extends y{constructor(){super(...arguments),this.code="ERR_JWK_INVALID"}static get code(){return"ERR_JWK_INVALID"}}class We extends y{constructor(){super(...arguments),this.code="ERR_JWKS_INVALID"}static get code(){return"ERR_JWKS_INVALID"}}class V extends y{constructor(){super(...arguments),this.code="ERR_JWKS_NO_MATCHING_KEY",this.message="no applicable key found in the JSON Web Key Set"}static get code(){return"ERR_JWKS_NO_MATCHING_KEY"}}class ne extends y{constructor(){super(...arguments),this.code="ERR_JWKS_MULTIPLE_MATCHING_KEYS",this.message="multiple matching keys found in the JSON Web Key Set"}static get code(){return"ERR_JWKS_MULTIPLE_MATCHING_KEYS"}}class Q extends y{constructor(){super(...arguments),this.code="ERR_JWKS_TIMEOUT",this.message="request timed out"}static get code(){return"ERR_JWKS_TIMEOUT"}}class L extends y{constructor(){super(...arguments),this.code="ERR_JWS_SIGNATURE_VERIFICATION_FAILED",this.message="signature verification failed"}static get code(){return"ERR_JWS_SIGNATURE_VERIFICATION_FAILED"}}let M=C.getRandomValues.bind(C);function U(e){switch(e){case"A128GCM":case"A128GCMKW":case"A192GCM":case"A192GCMKW":case"A256GCM":case"A256GCMKW":return 96;case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return 128;default:throw new N(`Unsupported JWE Algorithm: ${e}`)}}let H=e=>M(new Uint8Array(U(e)>>3)),J=(e,t)=>{if(t.length<<3!==U(e))throw new F("Invalid Initialization Vector length")},q=(e,t)=>{let r=e.byteLength<<3;if(r!==t)throw new F(`Invalid Content Encryption Key length. Expected ${t} bits, got ${r} bits`)};function j(e,t="algorithm.name"){return TypeError(`CryptoKey does not support this operation, its ${t} must be ${e}`)}function ke(e,t){return e.name===t}function Ae(e){return parseInt(e.name.slice(4),10)}function Oe(e,t){if(t.length&&!t.some(r=>e.usages.includes(r))){let r="CryptoKey does not support this operation, its usages must include ";if(t.length>2){let o=t.pop();r+=`one of ${t.join(", ")}, or ${o}.`}else t.length===2?r+=`one of ${t[0]} or ${t[1]}.`:r+=`${t[0]}.`;throw TypeError(r)}}function ve(e,t,...r){switch(t){case"A128GCM":case"A192GCM":case"A256GCM":{if(!ke(e.algorithm,"AES-GCM"))throw j("AES-GCM");let o=parseInt(t.slice(1,4),10);if(e.algorithm.length!==o)throw j(o,"algorithm.length");break}case"A128KW":case"A192KW":case"A256KW":{if(!ke(e.algorithm,"AES-KW"))throw j("AES-KW");let o=parseInt(t.slice(1,4),10);if(e.algorithm.length!==o)throw j(o,"algorithm.length");break}case"ECDH":switch(e.algorithm.name){case"ECDH":case"X25519":case"X448":break;default:throw j("ECDH, X25519, or X448")}break;case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":if(!ke(e.algorithm,"PBKDF2"))throw j("PBKDF2");break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":{if(!ke(e.algorithm,"RSA-OAEP"))throw j("RSA-OAEP");let o=parseInt(t.slice(9),10)||1;if(Ae(e.algorithm.hash)!==o)throw j(`SHA-${o}`,"algorithm.hash");break}default:throw TypeError("CryptoKey does not support this operation")}Oe(e,r)}function Ge(e,t,...r){if(r.length>2){let o=r.pop();e+=`one of type ${r.join(", ")}, or ${o}.`}else r.length===2?e+=`one of type ${r[0]} or ${r[1]}.`:e+=`of type ${r[0]}.`;return t==null?e+=` Received ${t}`:typeof t=="function"&&t.name?e+=` Received function ${t.name}`:typeof t=="object"&&t!=null&&t.constructor&&t.constructor.name&&(e+=` Received an instance of ${t.constructor.name}`),e}let Te=(e,...t)=>Ge("Key must be ",e,...t);function Ve(e,t,...r){return Ge(`Key for the ${e} algorithm must be `,t,...r)}let _e=["CryptoKey"];async function Fe(e,t,r,o,v,x){let R,I;if(!(t instanceof Uint8Array))throw TypeError(Te(t,"Uint8Array"));let Y=parseInt(e.slice(1,4),10),$=await C.subtle.importKey("raw",t.subarray(Y>>3),"AES-CBC",!1,["decrypt"]),te=await C.subtle.importKey("raw",t.subarray(0,Y>>3),{hash:`SHA-${Y<<1}`,name:"HMAC"},!1,["sign"]),oe=_(x,o,r,G(x.length<<3)),ye=new Uint8Array((await C.subtle.sign("HMAC",te,oe)).slice(0,Y>>3));try{R=((de,he)=>{if(!(de instanceof Uint8Array))throw TypeError("First argument must be a buffer");if(!(he instanceof Uint8Array))throw TypeError("Second argument must be a buffer");if(de.length!==he.length)throw TypeError("Input buffers must have the same length");let Ne=de.length,wt=0,St=-1;for(;++St<Ne;)wt|=de[St]^he[St];return wt===0})(v,ye)}catch{}if(!R)throw new ee;try{I=new Uint8Array(await C.subtle.decrypt({iv:o,name:"AES-CBC"},$,r))}catch{}if(!I)throw new ee;return I}async function $e(e,t,r,o,v,x){let R;t instanceof Uint8Array?R=await C.subtle.importKey("raw",t,"AES-GCM",!1,["decrypt"]):(ve(t,e,"decrypt"),R=t);try{return new Uint8Array(await C.subtle.decrypt({additionalData:x,iv:o,name:"AES-GCM",tagLength:128},R,_(r,v)))}catch{throw new ee}}let Je=async(e,t,r,o,v,x)=>{if(!(t instanceof CryptoKey)&&!(t instanceof Uint8Array))throw TypeError(Te(t,..._e,"Uint8Array"));switch(J(e,o),e){case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return t instanceof Uint8Array&&q(t,parseInt(e.slice(-3),10)),Fe(e,t,r,o,v,x);case"A128GCM":case"A192GCM":case"A256GCM":return t instanceof Uint8Array&&q(t,parseInt(e.slice(1,4),10)),$e(e,t,r,o,v,x);default:throw new N("Unsupported JWE Content Encryption Algorithm")}},ct=async()=>{throw new N('JWE "zip" (Compression Algorithm) Header Parameter is not supported by your javascript runtime. You need to use the `inflateRaw` decrypt option to provide Inflate Raw implementation.')},Qe=async()=>{throw new N('JWE "zip" (Compression Algorithm) Header Parameter is not supported by your javascript runtime. You need to use the `deflateRaw` encrypt option to provide Deflate Raw implementation.')},Ke=(...e)=>{let t,r=e.filter(Boolean);if(r.length===0||r.length===1)return!0;for(let o of r){let v=Object.keys(o);if(!t||t.size===0){t=new Set(v);continue}for(let x of v){if(t.has(x))return!1;t.add(x)}}return!0};function Ce(e){if(typeof e!="object"||e===null||Object.prototype.toString.call(e)!=="[object Object]")return!1;if(Object.getPrototypeOf(e)===null)return!0;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}let Me=[{hash:"SHA-256",name:"HMAC"},!0,["sign"]];function Le(e,t){if(e.algorithm.length!==parseInt(t.slice(1,4),10))throw TypeError(`Invalid key size for alg: ${t}`)}function rt(e,t,r){if(e instanceof CryptoKey)return ve(e,t,r),e;if(e instanceof Uint8Array)return C.subtle.importKey("raw",e,"AES-KW",!0,[r]);throw TypeError(Te(e,..._e,"Uint8Array"))}let ot=async(e,t,r)=>{let o=await rt(t,e,"wrapKey");Le(o,e);let v=await C.subtle.importKey("raw",r,...Me);return new Uint8Array(await C.subtle.wrapKey("raw",v,o,"AES-KW"))},we=async(e,t,r)=>{let o=await rt(t,e,"unwrapKey");Le(o,e);let v=await C.subtle.unwrapKey("raw",r,o,"AES-KW",...Me);return new Uint8Array(await C.subtle.exportKey("raw",v))};async function Se(e,t,r,o,v=new Uint8Array(0),x=new Uint8Array(0)){let R;if(!(e instanceof CryptoKey))throw TypeError(Te(e,..._e));if(ve(e,"ECDH"),!(t instanceof CryptoKey))throw TypeError(Te(t,..._e));ve(t,"ECDH","deriveBits");let I=_(p(u.encode(r)),p(v),p(x),T(o));return R=e.algorithm.name==="X25519"?256:e.algorithm.name==="X448"?448:Math.ceil(parseInt(e.algorithm.namedCurve.substr(-3),10)/8)<<3,b(new Uint8Array(await C.subtle.deriveBits({name:e.algorithm.name,public:e},t,R)),o,I)}async function fe(e){if(!(e instanceof CryptoKey))throw TypeError(Te(e,..._e));return C.subtle.generateKey(e.algorithm,!0,["deriveBits"])}function Pe(e){if(!(e instanceof CryptoKey))throw TypeError(Te(e,..._e));return["P-256","P-384","P-521"].includes(e.algorithm.namedCurve)||e.algorithm.name==="X25519"||e.algorithm.name==="X448"}async function je(e,t,r,o){if(!(e instanceof Uint8Array)||e.length<8)throw new F("PBES2 Salt Input must be 8 or more octets");let v=_(u.encode(t),new Uint8Array([0]),e),x=parseInt(t.slice(13,16),10),R={hash:`SHA-${t.slice(8,11)}`,iterations:r,name:"PBKDF2",salt:v},I=await function(Y,$){if(Y instanceof Uint8Array)return C.subtle.importKey("raw",Y,"PBKDF2",!1,["deriveBits"]);if(Y instanceof CryptoKey)return ve(Y,$,"deriveBits","deriveKey"),Y;throw TypeError(Te(Y,..._e,"Uint8Array"))}(o,t);if(I.usages.includes("deriveBits"))return new Uint8Array(await C.subtle.deriveBits(R,I,x));if(I.usages.includes("deriveKey"))return C.subtle.deriveKey(R,I,{length:x,name:"AES-KW"},!1,["wrapKey","unwrapKey"]);throw TypeError('PBKDF2 key "usages" must include "deriveBits" or "deriveKey"')}let be=async(e,t,r,o=2048,v=M(new Uint8Array(16)))=>{let x=await je(v,e,o,t);return{encryptedKey:await ot(e.slice(-6),x,r),p2c:o,p2s:f(v)}},qe=async(e,t,r,o,v)=>{let x=await je(v,e,o,t);return we(e.slice(-6),x,r)};function ue(e){switch(e){case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":return"RSA-OAEP";default:throw new N(`alg ${e} is not supported either by JOSE or your javascript runtime`)}}let Ie=(e,t)=>{if(e.startsWith("RS")||e.startsWith("PS")){let{modulusLength:r}=t.algorithm;if(typeof r!="number"||r<2048)throw TypeError(`${e} requires key modulusLength to be 2048 bits or larger`)}},ut=async(e,t,r)=>{if(!(t instanceof CryptoKey))throw TypeError(Te(t,..._e));if(ve(t,e,"encrypt","wrapKey"),Ie(e,t),t.usages.includes("encrypt"))return new Uint8Array(await C.subtle.encrypt(ue(e),t,r));if(t.usages.includes("wrapKey")){let o=await C.subtle.importKey("raw",r,...Me);return new Uint8Array(await C.subtle.wrapKey("raw",o,t,ue(e)))}throw TypeError('RSA-OAEP key "usages" must include "encrypt" or "wrapKey" for this operation')},ft=async(e,t,r)=>{if(!(t instanceof CryptoKey))throw TypeError(Te(t,..._e));if(ve(t,e,"decrypt","unwrapKey"),Ie(e,t),t.usages.includes("decrypt"))return new Uint8Array(await C.subtle.decrypt(ue(e),t,r));if(t.usages.includes("unwrapKey")){let o=await C.subtle.unwrapKey("raw",r,t,ue(e),...Me);return new Uint8Array(await C.subtle.exportKey("raw",o))}throw TypeError('RSA-OAEP key "usages" must include "decrypt" or "unwrapKey" for this operation')};function jt(e){switch(e){case"A128GCM":return 128;case"A192GCM":return 192;case"A256GCM":case"A128CBC-HS256":return 256;case"A192CBC-HS384":return 384;case"A256CBC-HS512":return 512;default:throw new N(`Unsupported JWE Algorithm: ${e}`)}}let Ze=e=>M(new Uint8Array(jt(e)>>3)),$t=(e,t)=>{let r=(e.match(/.{1,64}/g)||[]).join(`
`);return`-----BEGIN ${t}-----
${r}
-----END ${t}-----`},or=async(e,t,r)=>{if(!(r instanceof CryptoKey))throw TypeError(Te(r,..._e));if(!r.extractable)throw TypeError("CryptoKey is not extractable");if(r.type!==e)throw TypeError(`key is not a ${e} key`);return $t(A(new Uint8Array(await C.subtle.exportKey(t,r))),`${e.toUpperCase()} KEY`)},et=(e,t,r=0)=>{r===0&&(t.unshift(t.length),t.unshift(6));let o=e.indexOf(t[0],r);if(o===-1)return!1;let v=e.subarray(o,o+t.length);return v.length===t.length&&(v.every((x,R)=>x===t[R])||et(e,t,o+1))},Be=e=>{switch(!0){case et(e,[42,134,72,206,61,3,1,7]):return"P-256";case et(e,[43,129,4,0,34]):return"P-384";case et(e,[43,129,4,0,35]):return"P-521";case et(e,[43,101,110]):return"X25519";case et(e,[43,101,111]):return"X448";case et(e,[43,101,112]):return"Ed25519";case et(e,[43,101,113]):return"Ed448";default:throw new N("Invalid or unsupported EC Key Curve or OKP Key Sub Type")}},Jt=async(e,t,r,o,v)=>{var x;let R,I,Y=new Uint8Array(atob(r.replace(e,"")).split("").map(te=>te.charCodeAt(0))),$=t==="spki";switch(o){case"PS256":case"PS384":case"PS512":R={name:"RSA-PSS",hash:`SHA-${o.slice(-3)}`},I=$?["verify"]:["sign"];break;case"RS256":case"RS384":case"RS512":R={name:"RSASSA-PKCS1-v1_5",hash:`SHA-${o.slice(-3)}`},I=$?["verify"]:["sign"];break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":R={name:"RSA-OAEP",hash:`SHA-${parseInt(o.slice(-3),10)||1}`},I=$?["encrypt","wrapKey"]:["decrypt","unwrapKey"];break;case"ES256":R={name:"ECDSA",namedCurve:"P-256"},I=$?["verify"]:["sign"];break;case"ES384":R={name:"ECDSA",namedCurve:"P-384"},I=$?["verify"]:["sign"];break;case"ES512":R={name:"ECDSA",namedCurve:"P-521"},I=$?["verify"]:["sign"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{let te=Be(Y);R=te.startsWith("P-")?{name:"ECDH",namedCurve:te}:{name:te},I=$?[]:["deriveBits"];break}case"EdDSA":R={name:Be(Y)},I=$?["verify"]:["sign"];break;default:throw new N('Invalid or unsupported "alg" (Algorithm) value')}return C.subtle.importKey(t,Y,R,(x=v?.extractable)!=null&&x,I)},dt=(e,t,r)=>Jt(/(?:-----(?:BEGIN|END) PUBLIC KEY-----|\s)/g,"spki",e,t,r);function Bt(e){let t=[],r=0;for(;r<e.length;){let o=qt(e.subarray(r));t.push(o),r+=o.byteLength}return t}function qt(e){let t=0,r=31&e[0];if(t++,r===31){for(r=0;e[t]>=128;)r=128*r+e[t]-128,t++;r=128*r+e[t]-128,t++}let o=0;if(e[t]<128)o=e[t],t++;else if(o===128){for(o=0;e[t+o]!==0||e[t+o+1]!==0;){if(o>e.byteLength)throw TypeError("invalid indefinite form length");o++}let x=t+o+2;return{byteLength:x,contents:e.subarray(t,t+o),raw:e.subarray(0,x)}}else{let x=127&e[t];t++,o=0;for(let R=0;R<x;R++)o=256*o+e[t],t++}let v=t+o;return{byteLength:v,contents:e.subarray(t,v),raw:e.subarray(0,v)}}let ar=async e=>{var t,r;if(!e.alg)throw TypeError('"alg" argument is required when "jwk.alg" is not present');let{algorithm:o,keyUsages:v}=function(I){let Y,$;switch(I.kty){case"oct":switch(I.alg){case"HS256":case"HS384":case"HS512":Y={name:"HMAC",hash:`SHA-${I.alg.slice(-3)}`},$=["sign","verify"];break;case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":throw new N(`${I.alg} keys cannot be imported as CryptoKey instances`);case"A128GCM":case"A192GCM":case"A256GCM":case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":Y={name:"AES-GCM"},$=["encrypt","decrypt"];break;case"A128KW":case"A192KW":case"A256KW":Y={name:"AES-KW"},$=["wrapKey","unwrapKey"];break;case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":Y={name:"PBKDF2"},$=["deriveBits"];break;default:throw new N('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break;case"RSA":switch(I.alg){case"PS256":case"PS384":case"PS512":Y={name:"RSA-PSS",hash:`SHA-${I.alg.slice(-3)}`},$=I.d?["sign"]:["verify"];break;case"RS256":case"RS384":case"RS512":Y={name:"RSASSA-PKCS1-v1_5",hash:`SHA-${I.alg.slice(-3)}`},$=I.d?["sign"]:["verify"];break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":Y={name:"RSA-OAEP",hash:`SHA-${parseInt(I.alg.slice(-3),10)||1}`},$=I.d?["decrypt","unwrapKey"]:["encrypt","wrapKey"];break;default:throw new N('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break;case"EC":switch(I.alg){case"ES256":Y={name:"ECDSA",namedCurve:"P-256"},$=I.d?["sign"]:["verify"];break;case"ES384":Y={name:"ECDSA",namedCurve:"P-384"},$=I.d?["sign"]:["verify"];break;case"ES512":Y={name:"ECDSA",namedCurve:"P-521"},$=I.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":Y={name:"ECDH",namedCurve:I.crv},$=I.d?["deriveBits"]:[];break;default:throw new N('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break;case"OKP":switch(I.alg){case"EdDSA":Y={name:I.crv},$=I.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":Y={name:I.crv},$=I.d?["deriveBits"]:[];break;default:throw new N('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break;default:throw new N('Invalid or unsupported JWK "kty" (Key Type) Parameter value')}return{algorithm:Y,keyUsages:$}}(e),x=[o,(t=e.ext)!=null&&t,(r=e.key_ops)!=null?r:v];if(o.name==="PBKDF2")return C.subtle.importKey("raw",m(e.k),...x);let R={...e};return delete R.alg,delete R.use,C.subtle.importKey("jwk",R,...x)};async function zt(e,t,r){if(typeof e!="string"||e.indexOf("-----BEGIN PUBLIC KEY-----")!==0)throw TypeError('"spki" must be SPKI formatted string');return dt(e,t,r)}async function xt(e,t,r){let o;if(typeof e!="string"||e.indexOf("-----BEGIN CERTIFICATE-----")!==0)throw TypeError('"x509" must be X.509 formatted string');try{o=$t(function(v){let x=Bt(Bt(qt(v).contents)[0].contents);return A(x[x[0].raw[0]===160?6:5].raw)}(E(e.replace(/(?:-----(?:BEGIN|END) CERTIFICATE-----|\s)/g,""))),"PUBLIC KEY")}catch(v){throw TypeError("Failed to parse the X.509 certificate",{cause:v})}return dt(o,t,r)}async function At(e,t,r){if(typeof e!="string"||e.indexOf("-----BEGIN PRIVATE KEY-----")!==0)throw TypeError('"pkcs8" must be PKCS#8 formatted string');return Jt(/(?:-----(?:BEGIN|END) PRIVATE KEY-----|\s)/g,"pkcs8",e,t,r)}async function ht(e,t,r){var o;if(!Ce(e))throw TypeError("JWK must be an object");switch(t||(t=e.alg),e.kty){case"oct":if(typeof e.k!="string"||!e.k)throw TypeError('missing "k" (Key Value) Parameter value');return r!=null||(r=e.ext!==!0),r?ar({...e,alg:t,ext:(o=e.ext)!=null&&o}):m(e.k);case"RSA":if(e.oth!==void 0)throw new N('RSA JWK "oth" (Other Primes Info) Parameter value is not supported');case"EC":case"OKP":return ar({...e,alg:t});default:throw new N('Unsupported "kty" (Key Type) Parameter value')}}let Ct=(e,t,r)=>{e.startsWith("HS")||e==="dir"||e.startsWith("PBES2")||/^A\d{3}(?:GCM)?KW$/.test(e)?((o,v)=>{if(!(v instanceof Uint8Array)){if(!(v instanceof CryptoKey))throw TypeError(Ve(o,v,..._e,"Uint8Array"));if(v.type!=="secret")throw TypeError(`${_e.join(" or ")} instances for symmetric algorithms must be of type "secret"`)}})(e,t):((o,v,x)=>{if(!(v instanceof CryptoKey))throw TypeError(Ve(o,v,..._e));if(v.type==="secret")throw TypeError(`${_e.join(" or ")} instances for asymmetric algorithms must not be of type "secret"`);if(x==="sign"&&v.type==="public")throw TypeError(`${_e.join(" or ")} instances for asymmetric algorithm signing must be of type "private"`);if(x==="decrypt"&&v.type==="public")throw TypeError(`${_e.join(" or ")} instances for asymmetric algorithm decryption must be of type "private"`);if(v.algorithm&&x==="verify"&&v.type==="private")throw TypeError(`${_e.join(" or ")} instances for asymmetric algorithm verifying must be of type "public"`);if(v.algorithm&&x==="encrypt"&&v.type==="private")throw TypeError(`${_e.join(" or ")} instances for asymmetric algorithm encryption must be of type "public"`)})(e,t,r)};async function Ft(e,t,r,o,v){if(!(r instanceof Uint8Array))throw TypeError(Te(r,"Uint8Array"));let x=parseInt(e.slice(1,4),10),R=await C.subtle.importKey("raw",r.subarray(x>>3),"AES-CBC",!1,["encrypt"]),I=await C.subtle.importKey("raw",r.subarray(0,x>>3),{hash:`SHA-${x<<1}`,name:"HMAC"},!1,["sign"]),Y=new Uint8Array(await C.subtle.encrypt({iv:o,name:"AES-CBC"},R,t)),$=_(v,o,Y,G(v.length<<3));return{ciphertext:Y,tag:new Uint8Array((await C.subtle.sign("HMAC",I,$)).slice(0,x>>3))}}async function Gt(e,t,r,o,v){let x;r instanceof Uint8Array?x=await C.subtle.importKey("raw",r,"AES-GCM",!1,["encrypt"]):(ve(r,e,"encrypt"),x=r);let R=new Uint8Array(await C.subtle.encrypt({additionalData:v,iv:o,name:"AES-GCM",tagLength:128},x,t)),I=R.slice(-16);return{ciphertext:R.slice(0,-16),tag:I}}let Rt=async(e,t,r,o,v)=>{if(!(r instanceof CryptoKey)&&!(r instanceof Uint8Array))throw TypeError(Te(r,..._e,"Uint8Array"));switch(J(e,o),e){case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return r instanceof Uint8Array&&q(r,parseInt(e.slice(-3),10)),Ft(e,t,r,o,v);case"A128GCM":case"A192GCM":case"A256GCM":return r instanceof Uint8Array&&q(r,parseInt(e.slice(1,4),10)),Gt(e,t,r,o,v);default:throw new N("Unsupported JWE Content Encryption Algorithm")}};async function Pt(e,t,r,o){let v=e.slice(0,7);o||(o=H(v));let{ciphertext:x,tag:R}=await Rt(v,r,t,o,new Uint8Array(0));return{encryptedKey:x,iv:f(o),tag:f(R)}}async function yr(e,t,r,o,v){return Je(e.slice(0,7),t,r,o,v,new Uint8Array(0))}async function sr(e,t,r,o,v){switch(Ct(e,t,"decrypt"),e){case"dir":if(r!==void 0)throw new F("Encountered unexpected JWE Encrypted Key");return t;case"ECDH-ES":if(r!==void 0)throw new F("Encountered unexpected JWE Encrypted Key");case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{let x,R;if(!Ce(o.epk))throw new F('JOSE Header "epk" (Ephemeral Public Key) missing or invalid');if(!Pe(t))throw new N("ECDH with the provided key is not allowed or not supported by your javascript runtime");let I=await ht(o.epk,e);if(o.apu!==void 0){if(typeof o.apu!="string")throw new F('JOSE Header "apu" (Agreement PartyUInfo) invalid');try{x=m(o.apu)}catch{throw new F("Failed to base64url decode the apu")}}if(o.apv!==void 0){if(typeof o.apv!="string")throw new F('JOSE Header "apv" (Agreement PartyVInfo) invalid');try{R=m(o.apv)}catch{throw new F("Failed to base64url decode the apv")}}let Y=await Se(I,t,e==="ECDH-ES"?o.enc:e,e==="ECDH-ES"?jt(o.enc):parseInt(e.slice(-5,-2),10),x,R);if(e==="ECDH-ES")return Y;if(r===void 0)throw new F("JWE Encrypted Key missing");return we(e.slice(-6),Y,r)}case"RSA1_5":case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":if(r===void 0)throw new F("JWE Encrypted Key missing");return ft(e,t,r);case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":{let x;if(r===void 0)throw new F("JWE Encrypted Key missing");if(typeof o.p2c!="number")throw new F('JOSE Header "p2c" (PBES2 Count) missing or invalid');let R=v?.maxPBES2Count||1e4;if(o.p2c>R)throw new F('JOSE Header "p2c" (PBES2 Count) out is of acceptable bounds');if(typeof o.p2s!="string")throw new F('JOSE Header "p2s" (PBES2 Salt) missing or invalid');try{x=m(o.p2s)}catch{throw new F("Failed to base64url decode the p2s")}return qe(e,t,r,o.p2c,x)}case"A128KW":case"A192KW":case"A256KW":if(r===void 0)throw new F("JWE Encrypted Key missing");return we(e,t,r);case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":{let x,R;if(r===void 0)throw new F("JWE Encrypted Key missing");if(typeof o.iv!="string")throw new F('JOSE Header "iv" (Initialization Vector) missing or invalid');if(typeof o.tag!="string")throw new F('JOSE Header "tag" (Authentication Tag) missing or invalid');try{x=m(o.iv)}catch{throw new F("Failed to base64url decode the iv")}try{R=m(o.tag)}catch{throw new F("Failed to base64url decode the tag")}return yr(e,t,r,x,R)}default:throw new N('Invalid or unsupported "alg" (JWE Algorithm) header value')}}let yt=function(e,t,r,o,v){let x;if(v.crit!==void 0&&o.crit===void 0)throw new e('"crit" (Critical) Header Parameter MUST be integrity protected');if(!o||o.crit===void 0)return new Set;if(!Array.isArray(o.crit)||o.crit.length===0||o.crit.some(R=>typeof R!="string"||R.length===0))throw new e('"crit" (Critical) Header Parameter MUST be an array of non-empty strings when present');for(let R of(x=r!==void 0?new Map([...Object.entries(r),...t.entries()]):t,o.crit)){if(!x.has(R))throw new N(`Extension Header Parameter "${R}" is not recognized`);if(v[R]===void 0)throw new e(`Extension Header Parameter "${R}" is missing`);if(x.get(R)&&o[R]===void 0)throw new e(`Extension Header Parameter "${R}" MUST be integrity protected`)}return new Set(o.crit)},kt=(e,t)=>{if(t!==void 0&&(!Array.isArray(t)||t.some(r=>typeof r!="string")))throw TypeError(`"${e}" option must be an array of strings`);if(t)return new Set(t)};async function Tt(e,t,r){var o;let v,x,R,I,Y,$,te;if(!Ce(e))throw new F("Flattened JWE must be an object");if(e.protected===void 0&&e.header===void 0&&e.unprotected===void 0)throw new F("JOSE Header missing");if(typeof e.iv!="string")throw new F("JWE Initialization Vector missing or incorrect type");if(typeof e.ciphertext!="string")throw new F("JWE Ciphertext missing or incorrect type");if(typeof e.tag!="string")throw new F("JWE Authentication Tag missing or incorrect type");if(e.protected!==void 0&&typeof e.protected!="string")throw new F("JWE Protected Header incorrect type");if(e.encrypted_key!==void 0&&typeof e.encrypted_key!="string")throw new F("JWE Encrypted Key incorrect type");if(e.aad!==void 0&&typeof e.aad!="string")throw new F("JWE AAD incorrect type");if(e.header!==void 0&&!Ce(e.header))throw new F("JWE Shared Unprotected Header incorrect type");if(e.unprotected!==void 0&&!Ce(e.unprotected))throw new F("JWE Per-Recipient Unprotected Header incorrect type");if(e.protected)try{let tt=m(e.protected);v=JSON.parse(P.decode(tt))}catch{throw new F("JWE Protected Header is invalid")}if(!Ke(v,e.header,e.unprotected))throw new F("JWE Protected, JWE Unprotected Header, and JWE Per-Recipient Unprotected Header Parameter names must be disjoint");let oe={...v,...e.header,...e.unprotected};if(yt(F,new Map,r?.crit,v,oe),oe.zip!==void 0){if(!v||!v.zip)throw new F('JWE "zip" (Compression Algorithm) Header MUST be integrity protected');if(oe.zip!=="DEF")throw new N('Unsupported JWE "zip" (Compression Algorithm) Header Parameter value')}let{alg:ye,enc:de}=oe;if(typeof ye!="string"||!ye)throw new F("missing JWE Algorithm (alg) in JWE Header");if(typeof de!="string"||!de)throw new F("missing JWE Encryption Algorithm (enc) in JWE Header");let he=r&&kt("keyManagementAlgorithms",r.keyManagementAlgorithms),Ne=r&&kt("contentEncryptionAlgorithms",r.contentEncryptionAlgorithms);if(he&&!he.has(ye))throw new re('"alg" (Algorithm) Header Parameter not allowed');if(Ne&&!Ne.has(de))throw new re('"enc" (Encryption Algorithm) Header Parameter not allowed');if(e.encrypted_key!==void 0)try{x=m(e.encrypted_key)}catch{throw new F("Failed to base64url decode the encrypted_key")}let wt=!1;typeof t=="function"&&(t=await t(v,e),wt=!0);try{R=await sr(ye,t,x,oe,r)}catch(tt){if(tt instanceof TypeError||tt instanceof F||tt instanceof N)throw tt;R=Ze(de)}try{I=m(e.iv)}catch{throw new F("Failed to base64url decode the iv")}try{Y=m(e.tag)}catch{throw new F("Failed to base64url decode the tag")}let St=u.encode((o=e.protected)!=null?o:"");$=e.aad!==void 0?_(St,u.encode("."),u.encode(e.aad)):St;try{te=m(e.ciphertext)}catch{throw new F("Failed to base64url decode the ciphertext")}let cr=await Je(de,R,te,I,Y,$);oe.zip==="DEF"&&(cr=await(r?.inflateRaw||ct)(cr));let Kt={plaintext:cr};if(e.protected!==void 0&&(Kt.protectedHeader=v),e.aad!==void 0)try{Kt.additionalAuthenticatedData=m(e.aad)}catch{throw new F("Failed to base64url decode the aad")}return e.unprotected!==void 0&&(Kt.sharedUnprotectedHeader=e.unprotected),e.header!==void 0&&(Kt.unprotectedHeader=e.header),wt?{...Kt,key:t}:Kt}async function Vt(e,t,r){if(e instanceof Uint8Array&&(e=P.decode(e)),typeof e!="string")throw new F("Compact JWE must be a string or Uint8Array");let{0:o,1:v,2:x,3:R,4:I,length:Y}=e.split(".");if(Y!==5)throw new F("Invalid Compact JWE");let $=await Tt({ciphertext:R,iv:x||void 0,protected:o||void 0,tag:I||void 0,encrypted_key:v||void 0},t,r),te={plaintext:$.plaintext,protectedHeader:$.protectedHeader};return typeof t=="function"?{...te,key:$.key}:te}async function Xt(e,t,r){if(!Ce(e))throw new F("General JWE must be an object");if(!Array.isArray(e.recipients)||!e.recipients.every(Ce))throw new F("JWE Recipients missing or incorrect type");if(!e.recipients.length)throw new F("JWE Recipients has no members");for(let o of e.recipients)try{return await Tt({aad:e.aad,ciphertext:e.ciphertext,encrypted_key:o.encrypted_key,header:o.header,iv:e.iv,protected:e.protected,tag:e.tag,unprotected:e.unprotected},t,r)}catch{}throw new ee}let Yt=async e=>{if(e instanceof Uint8Array)return{kty:"oct",k:f(e)};if(!(e instanceof CryptoKey))throw TypeError(Te(e,..._e,"Uint8Array"));if(!e.extractable)throw TypeError("non-extractable CryptoKey cannot be exported as a JWK");let{ext:t,key_ops:r,alg:o,use:v,...x}=await C.subtle.exportKey("jwk",e);return x};async function lr(e){return or("public","spki",e)}async function Ot(e){return or("private","pkcs8",e)}async function Ht(e){return Yt(e)}async function bt(e,t,r,o,v={}){let x,R,I;switch(Ct(e,r,"encrypt"),e){case"dir":I=r;break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{if(!Pe(r))throw new N("ECDH with the provided key is not allowed or not supported by your javascript runtime");let{apu:Y,apv:$}=v,{epk:te}=v;te||(te=(await fe(r)).privateKey);let{x:oe,y:ye,crv:de,kty:he}=await Ht(te),Ne=await Se(r,te,e==="ECDH-ES"?t:e,e==="ECDH-ES"?jt(t):parseInt(e.slice(-5,-2),10),Y,$);if(R={epk:{x:oe,crv:de,kty:he}},he==="EC"&&(R.epk.y=ye),Y&&(R.apu=f(Y)),$&&(R.apv=f($)),e==="ECDH-ES"){I=Ne;break}I=o||Ze(t);let wt=e.slice(-6);x=await ot(wt,Ne,I);break}case"RSA1_5":case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":I=o||Ze(t),x=await ut(e,r,I);break;case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":{I=o||Ze(t);let{p2c:Y,p2s:$}=v;({encryptedKey:x,...R}=await be(e,r,I,Y,$));break}case"A128KW":case"A192KW":case"A256KW":I=o||Ze(t),x=await ot(e,r,I);break;case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":{I=o||Ze(t);let{iv:Y}=v;({encryptedKey:x,...R}=await Pt(e,r,I,Y));break}default:throw new N('Invalid or unsupported "alg" (JWE Algorithm) header value')}return{cek:I,encryptedKey:x,parameters:R}}let Qt=Symbol();class It{constructor(t){if(!(t instanceof Uint8Array))throw TypeError("plaintext must be an instance of Uint8Array");this._plaintext=t}setKeyManagementParameters(t){if(this._keyManagementParameters)throw TypeError("setKeyManagementParameters can only be called once");return this._keyManagementParameters=t,this}setProtectedHeader(t){if(this._protectedHeader)throw TypeError("setProtectedHeader can only be called once");return this._protectedHeader=t,this}setSharedUnprotectedHeader(t){if(this._sharedUnprotectedHeader)throw TypeError("setSharedUnprotectedHeader can only be called once");return this._sharedUnprotectedHeader=t,this}setUnprotectedHeader(t){if(this._unprotectedHeader)throw TypeError("setUnprotectedHeader can only be called once");return this._unprotectedHeader=t,this}setAdditionalAuthenticatedData(t){return this._aad=t,this}setContentEncryptionKey(t){if(this._cek)throw TypeError("setContentEncryptionKey can only be called once");return this._cek=t,this}setInitializationVector(t){if(this._iv)throw TypeError("setInitializationVector can only be called once");return this._iv=t,this}async encrypt(t,r){let o,v,x,R,I,Y,$;if(!this._protectedHeader&&!this._unprotectedHeader&&!this._sharedUnprotectedHeader)throw new F("either setProtectedHeader, setUnprotectedHeader, or sharedUnprotectedHeader must be called before #encrypt()");if(!Ke(this._protectedHeader,this._unprotectedHeader,this._sharedUnprotectedHeader))throw new F("JWE Protected, JWE Shared Unprotected and JWE Per-Recipient Header Parameter names must be disjoint");let te={...this._protectedHeader,...this._unprotectedHeader,...this._sharedUnprotectedHeader};if(yt(F,new Map,r?.crit,this._protectedHeader,te),te.zip!==void 0){if(!this._protectedHeader||!this._protectedHeader.zip)throw new F('JWE "zip" (Compression Algorithm) Header MUST be integrity protected');if(te.zip!=="DEF")throw new N('Unsupported JWE "zip" (Compression Algorithm) Header Parameter value')}let{alg:oe,enc:ye}=te;if(typeof oe!="string"||!oe)throw new F('JWE "alg" (Algorithm) Header Parameter missing or invalid');if(typeof ye!="string"||!ye)throw new F('JWE "enc" (Encryption Algorithm) Header Parameter missing or invalid');if(oe==="dir"){if(this._cek)throw TypeError("setContentEncryptionKey cannot be called when using Direct Encryption")}else if(oe==="ECDH-ES"&&this._cek)throw TypeError("setContentEncryptionKey cannot be called when using Direct Key Agreement");{let he;({cek:v,encryptedKey:o,parameters:he}=await bt(oe,ye,t,this._cek,this._keyManagementParameters)),he&&(r&&Qt in r?this._unprotectedHeader?this._unprotectedHeader={...this._unprotectedHeader,...he}:this.setUnprotectedHeader(he):this._protectedHeader?this._protectedHeader={...this._protectedHeader,...he}:this.setProtectedHeader(he))}if(this._iv||(this._iv=H(ye)),R=this._protectedHeader?u.encode(f(JSON.stringify(this._protectedHeader))):u.encode(""),this._aad?(I=f(this._aad),x=_(R,u.encode("."),u.encode(I))):x=R,te.zip==="DEF"){let he=await(r?.deflateRaw||Qe)(this._plaintext);({ciphertext:Y,tag:$}=await Rt(ye,he,v,this._iv,x))}else({ciphertext:Y,tag:$}=await Rt(ye,this._plaintext,v,this._iv,x));let de={ciphertext:f(Y),iv:f(this._iv),tag:f($)};return o&&(de.encrypted_key=f(o)),I&&(de.aad=I),this._protectedHeader&&(de.protected=P.decode(R)),this._sharedUnprotectedHeader&&(de.unprotected=this._sharedUnprotectedHeader),this._unprotectedHeader&&(de.header=this._unprotectedHeader),de}}class Nt{constructor(t,r,o){this.parent=t,this.key=r,this.options=o}setUnprotectedHeader(t){if(this.unprotectedHeader)throw TypeError("setUnprotectedHeader can only be called once");return this.unprotectedHeader=t,this}addRecipient(...t){return this.parent.addRecipient(...t)}encrypt(...t){return this.parent.encrypt(...t)}done(){return this.parent}}class mr{constructor(t){this._recipients=[],this._plaintext=t}addRecipient(t,r){let o=new Nt(this,t,{crit:r?.crit});return this._recipients.push(o),o}setProtectedHeader(t){if(this._protectedHeader)throw TypeError("setProtectedHeader can only be called once");return this._protectedHeader=t,this}setSharedUnprotectedHeader(t){if(this._unprotectedHeader)throw TypeError("setSharedUnprotectedHeader can only be called once");return this._unprotectedHeader=t,this}setAdditionalAuthenticatedData(t){return this._aad=t,this}async encrypt(t){var r,o,v;let x;if(!this._recipients.length)throw new F("at least one recipient must be added");if(t={deflateRaw:t?.deflateRaw},this._recipients.length===1){let[Y]=this._recipients,$=await new It(this._plaintext).setAdditionalAuthenticatedData(this._aad).setProtectedHeader(this._protectedHeader).setSharedUnprotectedHeader(this._unprotectedHeader).setUnprotectedHeader(Y.unprotectedHeader).encrypt(Y.key,{...Y.options,...t}),te={ciphertext:$.ciphertext,iv:$.iv,recipients:[{}],tag:$.tag};return $.aad&&(te.aad=$.aad),$.protected&&(te.protected=$.protected),$.unprotected&&(te.unprotected=$.unprotected),$.encrypted_key&&(te.recipients[0].encrypted_key=$.encrypted_key),$.header&&(te.recipients[0].header=$.header),te}for(let Y=0;Y<this._recipients.length;Y++){let $=this._recipients[Y];if(!Ke(this._protectedHeader,this._unprotectedHeader,$.unprotectedHeader))throw new F("JWE Protected, JWE Shared Unprotected and JWE Per-Recipient Header Parameter names must be disjoint");let te={...this._protectedHeader,...this._unprotectedHeader,...$.unprotectedHeader},{alg:oe}=te;if(typeof oe!="string"||!oe)throw new F('JWE "alg" (Algorithm) Header Parameter missing or invalid');if(oe==="dir"||oe==="ECDH-ES")throw new F('"dir" and "ECDH-ES" alg may only be used with a single recipient');if(typeof te.enc!="string"||!te.enc)throw new F('JWE "enc" (Encryption Algorithm) Header Parameter missing or invalid');if(x){if(x!==te.enc)throw new F('JWE "enc" (Encryption Algorithm) Header Parameter must be the same for all recipients')}else x=te.enc;if(yt(F,new Map,$.options.crit,this._protectedHeader,te),te.zip!==void 0&&(!this._protectedHeader||!this._protectedHeader.zip))throw new F('JWE "zip" (Compression Algorithm) Header MUST be integrity protected')}let R=Ze(x),I={ciphertext:"",iv:"",recipients:[],tag:""};for(let Y=0;Y<this._recipients.length;Y++){let $=this._recipients[Y],te={};I.recipients.push(te);let oe={...this._protectedHeader,...this._unprotectedHeader,...$.unprotectedHeader}.alg.startsWith("PBES2")?2048+Y:void 0;if(Y===0){let he=await new It(this._plaintext).setAdditionalAuthenticatedData(this._aad).setContentEncryptionKey(R).setProtectedHeader(this._protectedHeader).setSharedUnprotectedHeader(this._unprotectedHeader).setUnprotectedHeader($.unprotectedHeader).setKeyManagementParameters({p2c:oe}).encrypt($.key,{...$.options,...t,[Qt]:!0});I.ciphertext=he.ciphertext,I.iv=he.iv,I.tag=he.tag,he.aad&&(I.aad=he.aad),he.protected&&(I.protected=he.protected),he.unprotected&&(I.unprotected=he.unprotected),te.encrypted_key=he.encrypted_key,he.header&&(te.header=he.header);continue}let{encryptedKey:ye,parameters:de}=await bt(((r=$.unprotectedHeader)==null?void 0:r.alg)||((o=this._protectedHeader)==null?void 0:o.alg)||((v=this._unprotectedHeader)==null?void 0:v.alg),x,$.key,R,{p2c:oe});te.encrypted_key=f(ye),($.unprotectedHeader||de)&&(te.header={...$.unprotectedHeader,...de})}return I}}function Zt(e,t){let r=`SHA-${e.slice(-3)}`;switch(e){case"HS256":case"HS384":case"HS512":return{hash:r,name:"HMAC"};case"PS256":case"PS384":case"PS512":return{hash:r,name:"RSA-PSS",saltLength:e.slice(-3)>>3};case"RS256":case"RS384":case"RS512":return{hash:r,name:"RSASSA-PKCS1-v1_5"};case"ES256":case"ES384":case"ES512":return{hash:r,name:"ECDSA",namedCurve:t.namedCurve};case"EdDSA":return{name:t.name};default:throw new N(`alg ${e} is not supported either by JOSE or your javascript runtime`)}}function pt(e,t,r){if(t instanceof CryptoKey)return function(o,v,...x){switch(v){case"HS256":case"HS384":case"HS512":{if(!ke(o.algorithm,"HMAC"))throw j("HMAC");let R=parseInt(v.slice(2),10);if(Ae(o.algorithm.hash)!==R)throw j(`SHA-${R}`,"algorithm.hash");break}case"RS256":case"RS384":case"RS512":{if(!ke(o.algorithm,"RSASSA-PKCS1-v1_5"))throw j("RSASSA-PKCS1-v1_5");let R=parseInt(v.slice(2),10);if(Ae(o.algorithm.hash)!==R)throw j(`SHA-${R}`,"algorithm.hash");break}case"PS256":case"PS384":case"PS512":{if(!ke(o.algorithm,"RSA-PSS"))throw j("RSA-PSS");let R=parseInt(v.slice(2),10);if(Ae(o.algorithm.hash)!==R)throw j(`SHA-${R}`,"algorithm.hash");break}case"EdDSA":if(o.algorithm.name!=="Ed25519"&&o.algorithm.name!=="Ed448")throw j("Ed25519 or Ed448");break;case"ES256":case"ES384":case"ES512":{if(!ke(o.algorithm,"ECDSA"))throw j("ECDSA");let R=function(I){switch(I){case"ES256":return"P-256";case"ES384":return"P-384";case"ES512":return"P-521";default:throw Error("unreachable")}}(v);if(o.algorithm.namedCurve!==R)throw j(R,"algorithm.namedCurve");break}default:throw TypeError("CryptoKey does not support this operation")}Oe(o,x)}(t,e,r),t;if(t instanceof Uint8Array){if(!e.startsWith("HS"))throw TypeError(Te(t,..._e));return C.subtle.importKey("raw",t,{hash:`SHA-${e.slice(-3)}`,name:"HMAC"},!1,[r])}throw TypeError(Te(t,..._e,"Uint8Array"))}let er=async(e,t,r,o)=>{let v=await pt(e,t,"verify");Ie(e,v);let x=Zt(e,v.algorithm);try{return await C.subtle.verify(x,v,r,o)}catch{return!1}};async function at(e,t,r){var o;let v,x;if(!Ce(e))throw new le("Flattened JWS must be an object");if(e.protected===void 0&&e.header===void 0)throw new le('Flattened JWS must have either of the "protected" or "header" members');if(e.protected!==void 0&&typeof e.protected!="string")throw new le("JWS Protected Header incorrect type");if(e.payload===void 0)throw new le("JWS Payload missing");if(typeof e.signature!="string")throw new le("JWS Signature missing or incorrect type");if(e.header!==void 0&&!Ce(e.header))throw new le("JWS Unprotected Header incorrect type");let R={};if(e.protected)try{let Ne=m(e.protected);R=JSON.parse(P.decode(Ne))}catch{throw new le("JWS Protected Header is invalid")}if(!Ke(R,e.header))throw new le("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");let I={...R,...e.header},Y=yt(le,new Map([["b64",!0]]),r?.crit,R,I),$=!0;if(Y.has("b64")&&typeof($=R.b64)!="boolean")throw new le('The "b64" (base64url-encode payload) Header Parameter must be a boolean');let{alg:te}=I;if(typeof te!="string"||!te)throw new le('JWS "alg" (Algorithm) Header Parameter missing or invalid');let oe=r&&kt("algorithms",r.algorithms);if(oe&&!oe.has(te))throw new re('"alg" (Algorithm) Header Parameter not allowed');if($){if(typeof e.payload!="string")throw new le("JWS Payload must be a string")}else if(typeof e.payload!="string"&&!(e.payload instanceof Uint8Array))throw new le("JWS Payload must be a string or an Uint8Array instance");let ye=!1;typeof t=="function"&&(t=await t(R,e),ye=!0),Ct(te,t,"verify");let de=_(u.encode((o=e.protected)!=null?o:""),u.encode("."),typeof e.payload=="string"?u.encode(e.payload):e.payload);try{v=m(e.signature)}catch{throw new le("Failed to base64url decode the signature")}if(!await er(te,t,v,de))throw new L;if($)try{x=m(e.payload)}catch{throw new le("Failed to base64url decode the payload")}else x=typeof e.payload=="string"?u.encode(e.payload):e.payload;let he={payload:x};return e.protected!==void 0&&(he.protectedHeader=R),e.header!==void 0&&(he.unprotectedHeader=e.header),ye?{...he,key:t}:he}async function a(e,t,r){if(e instanceof Uint8Array&&(e=P.decode(e)),typeof e!="string")throw new le("Compact JWS must be a string or Uint8Array");let{0:o,1:v,2:x,length:R}=e.split(".");if(R!==3)throw new le("Invalid Compact JWS");let I=await at({payload:v,protected:o,signature:x},t,r),Y={payload:I.payload,protectedHeader:I.protectedHeader};return typeof t=="function"?{...Y,key:I.key}:Y}async function d(e,t,r){if(!Ce(e))throw new le("General JWS must be an object");if(!Array.isArray(e.signatures)||!e.signatures.every(Ce))throw new le("JWS Signatures missing or incorrect type");for(let o of e.signatures)try{return await at({header:o.header,payload:e.payload,protected:o.protected,signature:o.signature},t,r)}catch{}throw new L}let g=e=>Math.floor(e.getTime()/1e3),O=/^(\d+|\d+\.\d+) ?(seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)$/i,B=e=>{let t=O.exec(e);if(!t)throw TypeError("Invalid time period format");let r=parseFloat(t[1]);switch(t[2].toLowerCase()){case"sec":case"secs":case"second":case"seconds":case"s":return Math.round(r);case"minute":case"minutes":case"min":case"mins":case"m":return Math.round(60*r);case"hour":case"hours":case"hr":case"hrs":case"h":return Math.round(3600*r);case"day":case"days":case"d":return Math.round(86400*r);case"week":case"weeks":case"w":return Math.round(604800*r);default:return Math.round(31557600*r)}},ie=e=>e.toLowerCase().replace(/^application\//,""),se=(e,t,r={})=>{let o,v,{typ:x}=r;if(x&&(typeof e.typ!="string"||ie(e.typ)!==ie(x)))throw new k('unexpected "typ" JWT header value',"typ","check_failed");try{o=JSON.parse(P.decode(t))}catch{}if(!Ce(o))throw new Re("JWT Claims Set must be a top-level JSON object");let{requiredClaims:R=[],issuer:I,subject:Y,audience:$,maxTokenAge:te}=r;for(let de of(te!==void 0&&R.push("iat"),$!==void 0&&R.push("aud"),Y!==void 0&&R.push("sub"),I!==void 0&&R.push("iss"),new Set(R.reverse())))if(!(de in o))throw new k(`missing required "${de}" claim`,de,"missing");if(I&&!(Array.isArray(I)?I:[I]).includes(o.iss))throw new k('unexpected "iss" claim value',"iss","check_failed");if(Y&&o.sub!==Y)throw new k('unexpected "sub" claim value',"sub","check_failed");if($&&!((de,he)=>typeof de=="string"?he.includes(de):!!Array.isArray(de)&&he.some(Set.prototype.has.bind(new Set(de))))(o.aud,typeof $=="string"?[$]:$))throw new k('unexpected "aud" claim value',"aud","check_failed");switch(typeof r.clockTolerance){case"string":v=B(r.clockTolerance);break;case"number":v=r.clockTolerance;break;case"undefined":v=0;break;default:throw TypeError("Invalid clockTolerance option type")}let{currentDate:oe}=r,ye=g(oe||new Date);if((o.iat!==void 0||te)&&typeof o.iat!="number")throw new k('"iat" claim must be a number',"iat","invalid");if(o.nbf!==void 0){if(typeof o.nbf!="number")throw new k('"nbf" claim must be a number',"nbf","invalid");if(o.nbf>ye+v)throw new k('"nbf" claim timestamp check failed',"nbf","check_failed")}if(o.exp!==void 0){if(typeof o.exp!="number")throw new k('"exp" claim must be a number',"exp","invalid");if(o.exp<=ye-v)throw new Z('"exp" claim timestamp check failed',"exp","check_failed")}if(te){let de=ye-o.iat;if(de-v>(typeof te=="number"?te:B(te)))throw new Z('"iat" claim timestamp check failed (too far in the past)',"iat","check_failed");if(de<0-v)throw new k('"iat" claim timestamp check failed (it should be in the past)',"iat","check_failed")}return o};async function Ee(e,t,r){var o;let v=await a(e,t,r);if((o=v.protectedHeader.crit)!=null&&o.includes("b64")&&v.protectedHeader.b64===!1)throw new Re("JWTs MUST NOT use unencoded payload");let x={payload:se(v.protectedHeader,v.payload,r),protectedHeader:v.protectedHeader};return typeof t=="function"?{...x,key:v.key}:x}async function ze(e,t,r){let o=await Vt(e,t,r),v=se(o.protectedHeader,o.plaintext,r),{protectedHeader:x}=o;if(x.iss!==void 0&&x.iss!==v.iss)throw new k('replicated "iss" claim header parameter mismatch',"iss","mismatch");if(x.sub!==void 0&&x.sub!==v.sub)throw new k('replicated "sub" claim header parameter mismatch',"sub","mismatch");if(x.aud!==void 0&&JSON.stringify(x.aud)!==JSON.stringify(v.aud))throw new k('replicated "aud" claim header parameter mismatch',"aud","mismatch");let R={payload:v,protectedHeader:x};return typeof t=="function"?{...R,key:o.key}:R}class st{constructor(t){this._flattened=new It(t)}setContentEncryptionKey(t){return this._flattened.setContentEncryptionKey(t),this}setInitializationVector(t){return this._flattened.setInitializationVector(t),this}setProtectedHeader(t){return this._flattened.setProtectedHeader(t),this}setKeyManagementParameters(t){return this._flattened.setKeyManagementParameters(t),this}async encrypt(t,r){let o=await this._flattened.encrypt(t,r);return[o.protected,o.encrypted_key,o.iv,o.ciphertext,o.tag].join(".")}}let mt=async(e,t,r)=>{let o=await pt(e,t,"sign");return Ie(e,o),new Uint8Array(await C.subtle.sign(Zt(e,o.algorithm),o,r))};class Et{constructor(t){if(!(t instanceof Uint8Array))throw TypeError("payload must be an instance of Uint8Array");this._payload=t}setProtectedHeader(t){if(this._protectedHeader)throw TypeError("setProtectedHeader can only be called once");return this._protectedHeader=t,this}setUnprotectedHeader(t){if(this._unprotectedHeader)throw TypeError("setUnprotectedHeader can only be called once");return this._unprotectedHeader=t,this}async sign(t,r){let o;if(!this._protectedHeader&&!this._unprotectedHeader)throw new le("either setProtectedHeader or setUnprotectedHeader must be called before #sign()");if(!Ke(this._protectedHeader,this._unprotectedHeader))throw new le("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");let v={...this._protectedHeader,...this._unprotectedHeader},x=yt(le,new Map([["b64",!0]]),r?.crit,this._protectedHeader,v),R=!0;if(x.has("b64")&&typeof(R=this._protectedHeader.b64)!="boolean")throw new le('The "b64" (base64url-encode payload) Header Parameter must be a boolean');let{alg:I}=v;if(typeof I!="string"||!I)throw new le('JWS "alg" (Algorithm) Header Parameter missing or invalid');Ct(I,t,"sign");let Y=this._payload;R&&(Y=u.encode(f(Y)));let $=_(o=this._protectedHeader?u.encode(f(JSON.stringify(this._protectedHeader))):u.encode(""),u.encode("."),Y),te={signature:f(await mt(I,t,$)),payload:""};return R&&(te.payload=P.decode(Y)),this._unprotectedHeader&&(te.header=this._unprotectedHeader),this._protectedHeader&&(te.protected=P.decode(o)),te}}class gt{constructor(t){this._flattened=new Et(t)}setProtectedHeader(t){return this._flattened.setProtectedHeader(t),this}async sign(t,r){let o=await this._flattened.sign(t,r);if(o.payload===void 0)throw TypeError("use the flattened module for creating JWS with b64: false");return`${o.protected}.${o.payload}.${o.signature}`}}class Ut{constructor(t,r,o){this.parent=t,this.key=r,this.options=o}setProtectedHeader(t){if(this.protectedHeader)throw TypeError("setProtectedHeader can only be called once");return this.protectedHeader=t,this}setUnprotectedHeader(t){if(this.unprotectedHeader)throw TypeError("setUnprotectedHeader can only be called once");return this.unprotectedHeader=t,this}addSignature(...t){return this.parent.addSignature(...t)}sign(...t){return this.parent.sign(...t)}done(){return this.parent}}class nt{constructor(t){this._signatures=[],this._payload=t}addSignature(t,r){let o=new Ut(this,t,r);return this._signatures.push(o),o}async sign(){if(!this._signatures.length)throw new le("at least one signature must be added");let t={signatures:[],payload:""};for(let r=0;r<this._signatures.length;r++){let o=this._signatures[r],v=new Et(this._payload);v.setProtectedHeader(o.protectedHeader),v.setUnprotectedHeader(o.unprotectedHeader);let{payload:x,...R}=await v.sign(o.key,o.options);if(r===0)t.payload=x;else if(t.payload!==x)throw new le("inconsistent use of JWS Unencoded Payload (RFC7797)");t.signatures.push(R)}return t}}class Wt{constructor(t){if(!Ce(t))throw TypeError("JWT Claims Set MUST be an object");this._payload=t}setIssuer(t){return this._payload={...this._payload,iss:t},this}setSubject(t){return this._payload={...this._payload,sub:t},this}setAudience(t){return this._payload={...this._payload,aud:t},this}setJti(t){return this._payload={...this._payload,jti:t},this}setNotBefore(t){return typeof t=="number"?this._payload={...this._payload,nbf:t}:this._payload={...this._payload,nbf:g(new Date)+B(t)},this}setExpirationTime(t){return typeof t=="number"?this._payload={...this._payload,exp:t}:this._payload={...this._payload,exp:g(new Date)+B(t)},this}setIssuedAt(t){return t===void 0?this._payload={...this._payload,iat:g(new Date)}:this._payload={...this._payload,iat:t},this}}class gr extends Wt{setProtectedHeader(t){return this._protectedHeader=t,this}async sign(t,r){var o;let v=new gt(u.encode(JSON.stringify(this._payload)));if(v.setProtectedHeader(this._protectedHeader),Array.isArray((o=this._protectedHeader)==null?void 0:o.crit)&&this._protectedHeader.crit.includes("b64")&&this._protectedHeader.b64===!1)throw new Re("JWTs MUST NOT use unencoded payload");return v.sign(t,r)}}class tr extends Wt{setProtectedHeader(t){if(this._protectedHeader)throw TypeError("setProtectedHeader can only be called once");return this._protectedHeader=t,this}setKeyManagementParameters(t){if(this._keyManagementParameters)throw TypeError("setKeyManagementParameters can only be called once");return this._keyManagementParameters=t,this}setContentEncryptionKey(t){if(this._cek)throw TypeError("setContentEncryptionKey can only be called once");return this._cek=t,this}setInitializationVector(t){if(this._iv)throw TypeError("setInitializationVector can only be called once");return this._iv=t,this}replicateIssuerAsHeader(){return this._replicateIssuerAsHeader=!0,this}replicateSubjectAsHeader(){return this._replicateSubjectAsHeader=!0,this}replicateAudienceAsHeader(){return this._replicateAudienceAsHeader=!0,this}async encrypt(t,r){let o=new st(u.encode(JSON.stringify(this._payload)));return this._replicateIssuerAsHeader&&(this._protectedHeader={...this._protectedHeader,iss:this._payload.iss}),this._replicateSubjectAsHeader&&(this._protectedHeader={...this._protectedHeader,sub:this._payload.sub}),this._replicateAudienceAsHeader&&(this._protectedHeader={...this._protectedHeader,aud:this._payload.aud}),o.setProtectedHeader(this._protectedHeader),this._iv&&o.setInitializationVector(this._iv),this._cek&&o.setContentEncryptionKey(this._cek),this._keyManagementParameters&&o.setKeyManagementParameters(this._keyManagementParameters),o.encrypt(t,r)}}let xe=(e,t)=>{if(typeof e!="string"||!e)throw new De(`${t} missing or invalid`)};async function _t(e,t){let r;if(!Ce(e))throw TypeError("JWK must be an object");if(t!=null||(t="sha256"),t!=="sha256"&&t!=="sha384"&&t!=="sha512")throw TypeError('digestAlgorithm must one of "sha256", "sha384", or "sha512"');switch(e.kty){case"EC":xe(e.crv,'"crv" (Curve) Parameter'),xe(e.x,'"x" (X Coordinate) Parameter'),xe(e.y,'"y" (Y Coordinate) Parameter'),r={crv:e.crv,kty:e.kty,x:e.x,y:e.y};break;case"OKP":xe(e.crv,'"crv" (Subtype of Key Pair) Parameter'),xe(e.x,'"x" (Public Key) Parameter'),r={crv:e.crv,kty:e.kty,x:e.x};break;case"RSA":xe(e.e,'"e" (Exponent) Parameter'),xe(e.n,'"n" (Modulus) Parameter'),r={e:e.e,kty:e.kty,n:e.n};break;case"oct":xe(e.k,'"k" (Key Value) Parameter'),r={k:e.k,kty:e.kty};break;default:throw new N('"kty" (Key Type) Parameter missing or unsupported')}let o=u.encode(JSON.stringify(r));return f(await W(t,o))}async function Wr(e,t){t!=null||(t="sha256");let r=await _t(e,t);return`urn:ietf:params:oauth:jwk-thumbprint:sha-${t.slice(-3)}:${r}`}async function Kr(e,t){let r={...e,...t?.header};if(!Ce(r.jwk))throw new le('"jwk" (JSON Web Key) Header Parameter must be a JSON object');let o=await ht({...r.jwk,ext:!0},r.alg,!0);if(o instanceof Uint8Array||o.type!=="public")throw new le('"jwk" (JSON Web Key) Header Parameter must be a public key');return o}function Sr(e){return e&&typeof e=="object"&&Array.isArray(e.keys)&&e.keys.every(Dr)}function Dr(e){return Ce(e)}class wr{constructor(t){if(this._cached=new WeakMap,!Sr(t))throw new We("JSON Web Key Set malformed");this._jwks=function(r){return typeof structuredClone=="function"?structuredClone(r):JSON.parse(JSON.stringify(r))}(t)}async getKey(t,r){let{alg:o,kid:v}={...t,...r?.header},x=function($){switch(typeof $=="string"&&$.slice(0,2)){case"RS":case"PS":return"RSA";case"ES":return"EC";case"Ed":return"OKP";default:throw new N('Unsupported "alg" value for a JSON Web Key Set')}}(o),R=this._jwks.keys.filter($=>{let te=x===$.kty;if(te&&typeof v=="string"&&(te=v===$.kid),te&&typeof $.alg=="string"&&(te=o===$.alg),te&&typeof $.use=="string"&&(te=$.use==="sig"),te&&Array.isArray($.key_ops)&&(te=$.key_ops.includes("verify")),te&&o==="EdDSA"&&(te=$.crv==="Ed25519"||$.crv==="Ed448"),te)switch(o){case"ES256":te=$.crv==="P-256";break;case"ES256K":te=$.crv==="secp256k1";break;case"ES384":te=$.crv==="P-384";break;case"ES512":te=$.crv==="P-521"}return te}),{0:I,length:Y}=R;if(Y===0)throw new V;if(Y!==1){let $=new ne,{_cached:te}=this;throw $[Symbol.asyncIterator]=async function*(){for(let oe of R)try{yield await xr(te,oe,o)}catch{continue}},$}return xr(this._cached,I,o)}}async function xr(e,t,r){let o=e.get(t)||e.set(t,{}).get(t);if(o[r]===void 0){let v=await ht({...t,ext:!0},r);if(v instanceof Uint8Array||v.type!=="public")throw new We("JSON Web Key Set members must be public keys");o[r]=v}return o[r]}function Mr(e){let t=new wr(e);return async function(r,o){return t.getKey(r,o)}}let Lr=async(e,t,r)=>{let o,v,x=!1;typeof AbortController=="function"&&(o=new AbortController,v=setTimeout(()=>{x=!0,o.abort()},t));let R=await fetch(e.href,{signal:o?o.signal:void 0,redirect:"manual",headers:r.headers}).catch(I=>{throw x?new Q:I});if(v!==void 0&&clearTimeout(v),R.status!==200)throw new y("Expected 200 OK from the JSON Web Key Set HTTP response");try{return await R.json()}catch{throw new y("Failed to parse the JSON Web Key Set HTTP response as JSON")}};class Ar extends wr{constructor(t,r){if(super({keys:[]}),this._jwks=void 0,!(t instanceof URL))throw TypeError("url must be an instance of URL");this._url=new URL(t.href),this._options={agent:r?.agent,headers:r?.headers},this._timeoutDuration=typeof r?.timeoutDuration=="number"?r?.timeoutDuration:5e3,this._cooldownDuration=typeof r?.cooldownDuration=="number"?r?.cooldownDuration:3e4,this._cacheMaxAge=typeof r?.cacheMaxAge=="number"?r?.cacheMaxAge:6e5}coolingDown(){return typeof this._jwksTimestamp=="number"&&Date.now()<this._jwksTimestamp+this._cooldownDuration}fresh(){return typeof this._jwksTimestamp=="number"&&Date.now()<this._jwksTimestamp+this._cacheMaxAge}async getKey(t,r){this._jwks&&this.fresh()||await this.reload();try{return await super.getKey(t,r)}catch(o){if(o instanceof V&&this.coolingDown()===!1)return await this.reload(),super.getKey(t,r);throw o}}async reload(){this._pendingFetch&&(typeof WebSocketPair<"u"||typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers")&&(this._pendingFetch=void 0),this._pendingFetch||(this._pendingFetch=Lr(this._url,this._timeoutDuration,this._options).then(t=>{if(!Sr(t))throw new We("JSON Web Key Set malformed");this._jwks={keys:t.keys},this._jwksTimestamp=Date.now(),this._pendingFetch=void 0}).catch(t=>{throw this._pendingFetch=void 0,t})),await this._pendingFetch}}function Cr(e,t){let r=new Ar(e,t);return async function(o,v){return r.getKey(o,v)}}class Rr extends Wt{encode(){let t=f(JSON.stringify({alg:"none"})),r=f(JSON.stringify(this._payload));return`${t}.${r}.`}static decode(t,r){let o;if(typeof t!="string")throw new Re("Unsecured JWT must be a string");let{0:v,1:x,2:R,length:I}=t.split(".");if(I!==3||R!=="")throw new Re("Invalid Unsecured JWT");try{if(o=JSON.parse(P.decode(m(v))),o.alg!=="none")throw Error()}catch{throw new Re("Invalid Unsecured JWT")}return{payload:se(o,m(x),r),header:o}}}let jr=f,s=m;function i(e){let t;if(typeof e=="string"){let r=e.split(".");(r.length===3||r.length===5)&&([t]=r)}else if(typeof e=="object"&&e)if("protected"in e)t=e.protected;else throw TypeError("Token does not contain a Protected Header");try{if(typeof t!="string"||!t)throw Error();let r=JSON.parse(P.decode(s(t)));if(!Ce(r))throw Error();return r}catch{throw TypeError("Invalid Token or Protected Header formatting")}}function c(e){let t,r;if(typeof e!="string")throw new Re("JWTs must use Compact JWS serialization, JWT must be a string");let{1:o,length:v}=e.split(".");if(v===5)throw new Re("Only JWTs using Compact JWS serialization can be decoded");if(v!==3)throw new Re("Invalid JWT");if(!o)throw new Re("JWTs must contain a payload");try{t=s(o)}catch{throw new Re("Failed to base64url decode the payload")}try{r=JSON.parse(P.decode(t))}catch{throw new Re("Failed to parse the decoded payload as JSON")}if(!Ce(r))throw new Re("Invalid JWT Claims Set");return r}async function S(e,t){var r;let o,v,x;switch(e){case"HS256":case"HS384":case"HS512":o=parseInt(e.slice(-3),10),v={name:"HMAC",hash:`SHA-${o}`,length:o},x=["sign","verify"];break;case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return M(new Uint8Array((o=parseInt(e.slice(-3),10))>>3));case"A128KW":case"A192KW":case"A256KW":v={name:"AES-KW",length:o=parseInt(e.slice(1,4),10)},x=["wrapKey","unwrapKey"];break;case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":case"A128GCM":case"A192GCM":case"A256GCM":v={name:"AES-GCM",length:o=parseInt(e.slice(1,4),10)},x=["encrypt","decrypt"];break;default:throw new N('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}return C.subtle.generateKey(v,(r=t?.extractable)!=null&&r,x)}function D(e){var t;let r=(t=e?.modulusLength)!=null?t:2048;if(typeof r!="number"||r<2048)throw new N("Invalid or unsupported modulusLength option provided, 2048 bits or larger keys must be used");return r}async function X(e,t){var r,o,v;let x,R;switch(e){case"PS256":case"PS384":case"PS512":x={name:"RSA-PSS",hash:`SHA-${e.slice(-3)}`,publicExponent:new Uint8Array([1,0,1]),modulusLength:D(t)},R=["sign","verify"];break;case"RS256":case"RS384":case"RS512":x={name:"RSASSA-PKCS1-v1_5",hash:`SHA-${e.slice(-3)}`,publicExponent:new Uint8Array([1,0,1]),modulusLength:D(t)},R=["sign","verify"];break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":x={name:"RSA-OAEP",hash:`SHA-${parseInt(e.slice(-3),10)||1}`,publicExponent:new Uint8Array([1,0,1]),modulusLength:D(t)},R=["decrypt","unwrapKey","encrypt","wrapKey"];break;case"ES256":x={name:"ECDSA",namedCurve:"P-256"},R=["sign","verify"];break;case"ES384":x={name:"ECDSA",namedCurve:"P-384"},R=["sign","verify"];break;case"ES512":x={name:"ECDSA",namedCurve:"P-521"},R=["sign","verify"];break;case"EdDSA":R=["sign","verify"];let I=(r=t?.crv)!=null?r:"Ed25519";switch(I){case"Ed25519":case"Ed448":x={name:I};break;default:throw new N("Invalid or unsupported crv option provided")}break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{R=["deriveKey","deriveBits"];let Y=(o=t?.crv)!=null?o:"P-256";switch(Y){case"P-256":case"P-384":case"P-521":x={name:"ECDH",namedCurve:Y};break;case"X25519":case"X448":x={name:Y};break;default:throw new N("Invalid or unsupported crv option provided, supported values are P-256, P-384, P-521, X25519, and X448")}break}default:throw new N('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}return C.subtle.generateKey(x,(v=t?.extractable)!=null&&v,R)}async function ce(e,t){return X(e,t)}async function ae(e,t){return S(e,t)}let ge="WebCryptoAPI"},814:(n,l,h)=>{"use strict";n.exports=h(440)}},n=>{var l=n(n.s=668);(_ENTRIES=typeof _ENTRIES>"u"?{}:_ENTRIES)["middleware_src/middleware"]=l}])});import"node:fs";import"node:path";import{webcrypto as un}from"node:crypto";globalThis._ENTRIES={};globalThis.self=globalThis;globalThis._ROUTES=[{name:"src/middleware",page:"/",regex:["^(?:\\/(_next\\/data\\/[^/]{1,}))?\\/api(?:\\/((?:[^\\/#\\?]+?)(?:\\/(?:[^\\/#\\?]+?))*))?(\\.json)?[\\/#\\?]?$","^(?:\\/(_next\\/data\\/[^/]{1,}))?\\/dashboard(?:\\/((?:[^\\/#\\?]+?)(?:\\/(?:[^\\/#\\?]+?))*))?(\\.json)?[\\/#\\?]?$"]}];function ei(n){return typeof n>"u"||typeof n=="object"&&n.duplex===void 0?{duplex:"half",...n}:n}var ln=class extends Request{constructor(l,h){super(l,ei(h))}};globalThis.Request=ln;globalThis.crypto||(globalThis.crypto=new un.Crypto);globalThis.CryptoKey||(globalThis.CryptoKey=un.CryptoKey);function cn(){if(!(this instanceof cn))return new cn;throw TypeError("Illegal constructor")}globalThis.SubtleCrypto||(globalThis.SubtleCrypto=cn);globalThis.Crypto||(globalThis.Crypto=un.Crypto);globalThis.URLPattern||await Promise.resolve().then(()=>(Kn(),Wn));Dn();jn();async function ti(n){let l=new URL(n.url).pathname,w=globalThis._ROUTES.find(u=>u.regex.some(P=>new RegExp(P).test(l)));if(!w)throw new Error(`No route found for ${n.url}`);let C=await(await self._ENTRIES[`middleware_${w.name}`]).default({page:w.page,request:{...n,page:{name:w.name}}});return globalThis.__openNextAls.getStore()?.pendingPromiseRunner.add(C.waitUntil),C.response}export{ti as default};
