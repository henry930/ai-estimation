(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3840],{1920:(e,t,s)=>{"use strict";s.d(t,{default:()=>i});var r=s(5155),a=s(2115),l=s(4078),n=s(5412);function i(e){let{children:t,rightSidebar:s}=e,[i,o]=(0,a.useState)(!1);return(0,r.jsxs)("div",{className:"min-h-screen bg-black text-white flex",children:[(0,r.jsx)(l.A,{}),(0,r.jsxs)("div",{className:"flex-1 flex flex-col pl-64",children:[(0,r.jsxs)("header",{className:"h-16 border-b border-white/10 flex items-center justify-between px-8 sticky top-0 bg-black/80 backdrop-blur-md z-40",children:[(0,r.jsx)("div",{className:"flex items-center gap-4",children:(0,r.jsx)("h2",{className:"text-sm font-medium text-gray-400 capitalize",children:"Dashboard"})}),(0,r.jsx)("div",{className:"flex items-center gap-4",children:s&&(0,r.jsx)("button",{onClick:()=>o(!i),className:"p-2 rounded-lg transition-all ".concat(i?"bg-blue-500/20 text-blue-400":"text-gray-400 hover:bg-white/5 hover:text-white"),title:i?"Hide sidebar":"Show sidebar",children:(0,r.jsx)(n.A,{className:"w-5 h-5"})})})]}),(0,r.jsxs)("div",{className:"flex-1 flex overflow-hidden",children:[(0,r.jsx)("main",{className:"flex-1 p-8 overflow-y-auto transition-all duration-300 ".concat(i&&s?"mr-0":""),children:(0,r.jsx)("div",{className:"max-w-7xl mx-auto",children:t})}),s&&(0,r.jsx)("aside",{className:"w-80 border-l border-white/10 bg-[#050505] overflow-y-auto transition-all duration-300 fixed right-0 top-16 bottom-0 z-30 ".concat(i?"translate-x-0":"translate-x-full"),children:(0,r.jsx)("div",{className:"p-6 space-y-8",children:s})})]})]})]})}},2683:(e,t,s)=>{Promise.resolve().then(s.bind(s,5847))},4078:(e,t,s)=>{"use strict";s.d(t,{A:()=>o});var r=s(5155),a=s(2619),l=s.n(a),n=s(63),i=s(6489);function o(){var e,t,s;let a=(0,n.usePathname)(),o=[{href:"/dashboard",label:"Overview",icon:(0,r.jsx)(d,{})},{href:"/estimate/new",label:"New Estimation",icon:(0,r.jsx)(x,{})},{href:"/dashboard/projects",label:"My Projects",icon:(0,r.jsx)(h,{})}],{data:u}=(0,i.useSession)();return(0,r.jsxs)("aside",{className:"w-64 border-r border-white/10 bg-black text-white flex flex-col h-screen fixed left-0 top-0 overflow-y-auto",children:[(0,r.jsx)("div",{className:"p-6 border-b border-white/10 flex items-center gap-2",children:(0,r.jsxs)(l(),{href:"/",className:"flex items-center gap-2",children:[(0,r.jsx)("div",{className:"w-8 h-8 rounded-full bg-white/10 flex items-center justify-center font-bold text-white",children:"AI"}),(0,r.jsx)("span",{className:"font-semibold text-lg",children:"AI Estimation"})]})}),(0,r.jsx)("nav",{className:"flex-1 p-4 space-y-2",children:o.map(e=>{let t=a===e.href;return(0,r.jsxs)(l(),{href:e.href,className:"flex items-center gap-3 px-4 py-3 rounded-lg text-sm font-medium transition-colors ".concat(t?"bg-white/10 text-white":"text-gray-400 hover:bg-white/5 hover:text-white"),children:[e.icon,e.label]},e.href)})}),(0,r.jsxs)("div",{className:"p-4 border-t border-white/10 space-y-4",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 px-4 py-2 group cursor-default",children:[(null==u||null==(e=u.user)?void 0:e.image)?(0,r.jsx)("img",{src:u.user.image,alt:u.user.name||"User",className:"w-10 h-10 rounded-full border border-white/10 group-hover:scale-105 transition-transform duration-300 shadow-lg shadow-white/5"}):(0,r.jsx)("div",{className:"w-10 h-10 rounded-full bg-gradient-to-tr from-blue-500 to-purple-500 group-hover:scale-105 transition-transform duration-300"}),(0,r.jsxs)("div",{className:"overflow-hidden",children:[(0,r.jsx)("div",{className:"font-medium text-sm truncate text-white/90 group-hover:text-white transition-colors",children:(null==u||null==(t=u.user)?void 0:t.name)||"User Name"}),(0,r.jsx)("div",{className:"text-[11px] text-gray-500 truncate",children:(null==u||null==(s=u.user)?void 0:s.email)||"user@example.com"})]})]}),(0,r.jsxs)("button",{onClick:()=>(0,i.signOut)({callbackUrl:"/"}),className:"flex items-center gap-3 w-full px-4 py-3 rounded-xl text-sm font-medium text-red-400/80 hover:text-red-400 hover:bg-red-400/5 transition-all border border-transparent hover:border-red-400/10",children:[(0,r.jsx)(c,{}),"Sign Out"]})]})]})}function c(){return(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15M12 9l-3 3m0 0 3 3m-3-3h12.75"})})}function d(){return(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"})})}function x(){return(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})})}function h(){return(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 12.75V12A2.25 2.25 0 0 1 4.5 9.75h15A2.25 2.25 0 0 1 21.75 12v.75m-8.69-6.44-2.12-2.12a1.5 1.5 0 0 0-1.061-.44H4.5A2.25 2.25 0 0 0 2.25 6v12a2.25 2.25 0 0 0 2.25 2.25h15A2.25 2.25 0 0 0 21.75 18V9a2.25 2.25 0 0 0-2.25-2.25h-5.379a1.5 1.5 0 0 1-1.06-.44Z"})})}},4194:(e,t,s)=>{"use strict";s.d(t,{A:()=>n});var r=s(5155),a=s(2115);function l(e){var t;let{taskId:s,onTaskUpdate:l}=e,[n,i]=(0,a.useState)([]),[o,c]=(0,a.useState)(""),[d,x]=(0,a.useState)(!1),h=(0,a.useRef)(null);(0,a.useEffect)(()=>{var e;null==(e=h.current)||e.scrollIntoView({behavior:"smooth"})},[n]);let u=async e=>{e.preventDefault();let t=o.trim();if(!t||d)return;let r={role:"user",content:t};i(e=>[...e,r]),c(""),x(!0);try{var a;let e=await fetch("/api/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({messages:[...n,r],taskId:s})});if(!e.ok){let t=await e.json().catch(()=>({details:"Server error"}));throw Error(t.details||"Failed to connect to AI")}i(e=>[...e,{role:"assistant",content:""}]);let t=null==(a=e.body)?void 0:a.getReader(),o=new TextDecoder,c="";if(t)for(;;){let{done:e,value:s}=await t.read();if(e)break;let r=o.decode(s,{stream:!0});c+=r,i(e=>{let t=[...e],s=t[t.length-1];return s&&"assistant"===s.role&&(s.content=c),t})}try{let e=c.match(/```json\n([\s\S]*?)\n```/);if(e){let t=JSON.parse(e[1]);"update_task"===t.action&&t.updates&&l&&l(t.updates)}}catch(e){}}catch(e){console.error("Chat error:",e),i(t=>[...t,{role:"assistant",content:"\uD83D\uDEA8 Error: ".concat(e.message||"Something went wrong")}])}finally{x(!1)}};return(0,r.jsxs)("div",{className:"flex flex-col h-[calc(100vh-8rem)]",children:[(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("h3",{className:"font-semibold text-lg text-white",children:"AI Assistant"}),(0,r.jsx)("p",{className:"text-xs text-gray-400",children:"Claude 3.5 Sonnet"})]}),(0,r.jsxs)("div",{className:"flex-1 overflow-y-auto space-y-4 mb-4 pr-2 custom-scrollbar",children:[0===n.length&&(0,r.jsxs)("div",{className:"text-center py-10 text-gray-500 text-sm",children:[(0,r.jsx)("p",{children:"No messages yet."}),(0,r.jsx)("p",{className:"mt-2 text-blue-400/60 font-mono text-xs",children:"READY FOR CONTEXT"})]}),n.map((e,t)=>(0,r.jsx)("div",{className:"flex ".concat("user"===e.role?"justify-end":"justify-start"),children:(0,r.jsxs)("div",{className:"max-w-[90%] rounded-2xl px-4 py-3 text-sm leading-relaxed ".concat("user"===e.role?"bg-blue-600 text-white shadow-lg shadow-blue-500/10":"bg-white/5 border border-white/10 text-gray-200"),children:[(0,r.jsx)("div",{className:"font-bold text-[10px] opacity-40 mb-1 tracking-tighter uppercase",children:"user"===e.role?"USER":"CLAUDE"}),(0,r.jsx)("div",{className:"whitespace-pre-wrap",children:e.content})]})},t)),d&&(null==(t=n[n.length-1])?void 0:t.role)!=="assistant"&&(0,r.jsx)("div",{className:"flex justify-start",children:(0,r.jsx)("div",{className:"bg-white/5 border border-white/10 rounded-2xl px-4 py-3",children:(0,r.jsxs)("div",{className:"flex gap-1.5 mt-1",children:[(0,r.jsx)("span",{className:"w-1.5 h-1.5 bg-blue-500/50 rounded-full animate-pulse"}),(0,r.jsx)("span",{className:"w-1.5 h-1.5 bg-blue-500/50 rounded-full animate-pulse",style:{animationDelay:"200ms"}}),(0,r.jsx)("span",{className:"w-1.5 h-1.5 bg-blue-500/50 rounded-full animate-pulse",style:{animationDelay:"400ms"}})]})})}),(0,r.jsx)("div",{ref:h})]}),(0,r.jsx)("form",{onSubmit:u,className:"mt-auto border-t border-white/10 pt-4",children:(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)("input",{type:"text",value:o,onChange:e=>c(e.target.value),placeholder:d?"AI is typing...":"Talk to Claude...",className:"flex-1 bg-white/5 border border-white/10 rounded-xl px-4 py-2.5 text-sm text-white focus:outline-none focus:border-blue-500 focus:ring-1 focus:ring-blue-500/20 transition-all placeholder:text-gray-600",disabled:d}),(0,r.jsx)("button",{type:"submit",disabled:d||!o.trim(),className:"px-5 py-2.5 bg-blue-600 text-white rounded-xl hover:bg-blue-700 active:scale-95 disabled:opacity-30 disabled:cursor-not-allowed text-xs font-bold uppercase tracking-widest transition-all shadow-lg shadow-blue-600/20",children:d?"...":"Send"})]})})]})}function n(e){let{githubUrl:t,onConnectRepo:s,taskId:n,onTaskRefresh:d}=e,[x,h]=(0,a.useState)("chat"),u=async e=>{if(n)try{(await fetch("/api/tasks/".concat(n),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).ok?(d&&d(),alert("✅ Task updated successfully!")):alert("❌ Failed to update task")}catch(e){console.error("Failed to update task:",e),alert("❌ Error updating task")}};return(0,r.jsxs)("div",{className:"h-full flex flex-col bg-[#050505] text-white",children:[(0,r.jsxs)("div",{className:"flex border-b border-white/10",children:[(0,r.jsx)("button",{onClick:()=>h("chat"),className:"flex-1 py-4 text-sm font-medium border-b-2 transition-colors ".concat("chat"===x?"border-blue-500 text-blue-400":"border-transparent text-gray-500 hover:text-gray-300"),children:"Chat"}),(0,r.jsx)("button",{onClick:()=>h("context"),className:"flex-1 py-4 text-sm font-medium border-b-2 transition-colors ".concat("context"===x?"border-blue-500 text-blue-400":"border-transparent text-gray-500 hover:text-gray-300"),children:"Context"})]}),(0,r.jsx)("div",{className:"flex-1 p-6 overflow-hidden",children:"chat"===x?(0,r.jsx)(l,{taskId:n,onTaskUpdate:u}):(0,r.jsxs)("div",{className:"h-full overflow-y-auto space-y-8 animate-in fade-in slide-in-from-right-4 duration-300",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"text-xs font-bold text-gray-500 uppercase mb-4 tracking-widest",children:"Target Repository"}),t?(0,r.jsxs)("div",{className:"p-4 rounded-xl bg-blue-500/5 border border-blue-500/20 flex items-center gap-3 group",children:[(0,r.jsx)(o,{}),(0,r.jsxs)("div",{className:"min-w-0",children:[(0,r.jsx)("div",{className:"text-sm font-medium text-blue-400 truncate",children:t.split("/").slice(-2).join("/")}),(0,r.jsx)("div",{className:"text-[10px] text-gray-500",children:"Connected"})]})]}):(0,r.jsxs)("button",{onClick:s,className:"w-full py-4 px-4 rounded-xl border border-dashed border-white/10 text-sm text-gray-400 hover:text-white hover:border-white/30 hover:bg-white/5 transition-all flex flex-col items-center justify-center gap-3 group",children:[(0,r.jsx)("div",{className:"p-2 rounded-full bg-white/5 group-hover:bg-white/10 transition-colors",children:(0,r.jsx)(c,{})}),(0,r.jsx)("span",{children:"Connect Repository"})]})]}),(0,r.jsxs)("div",{className:"p-4 rounded-xl bg-orange-500/5 border border-orange-500/20",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-2 text-orange-400",children:[(0,r.jsx)(i,{}),(0,r.jsx)("span",{className:"text-sm font-semibold",children:"Pro Tip"})]}),(0,r.jsx)("p",{className:"text-xs text-orange-400/70 leading-relaxed",children:"Connecting a repository allows the AI to analyze existing code patterns and generate more accurate task breakdowns."})]})]})})]})}function i(){return(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-4 h-4",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"})})}function o(){return(0,r.jsx)("svg",{className:"w-5 h-5 text-white/50",fill:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{d:"M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"})})}function c(){return(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})})}},5847:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>h});var r=s(5155),a=s(2115),l=s(63),n=s(1920),i=s(2619),o=s.n(i),c=s(6504),d=s(4514),x=s(4194);function h(){var e,t;let s=(0,l.useParams)(),i=(0,l.useRouter)(),[h,u]=(0,a.useState)(null),[m,b]=(0,a.useState)(!0),[p,g]=(0,a.useState)("objective");(0,a.useEffect)(()=>{s.taskId&&f()},[s.taskId]);let f=async()=>{try{let e=await fetch("/api/tasks/".concat(s.taskId));if(!e.ok)throw Error("Failed to fetch task");let t=await e.json();u(t)}catch(e){console.error(e)}finally{b(!1)}},v=async()=>{if(!h)return;let e=h.title.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,""),t="feature/".concat(e);window.confirm("Create branch '".concat(t,"' for this task?"))&&alert("Request to create branch '".concat(t,"' initiated! (API Integration Pending)"))},[j,w]=(0,a.useState)(!1),[N,y]=(0,a.useState)({title:"",objective:"",status:""});(0,a.useEffect)(()=>{h&&y({title:h.title,objective:h.objective||h.description||"",status:h.status})},[h]);let k=async()=>{try{let e=await fetch("/api/tasks/".concat(s.taskId),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:N.title,objective:N.objective,description:N.objective,status:N.status})});if(!e.ok)throw Error("Failed to update task");let t=await e.json();u(e=>e?{...e,...t}:null),w(!1)}catch(e){console.error("Failed to save task:",e),alert("Failed to save changes")}};if(m)return(0,r.jsx)(n.default,{children:(0,r.jsx)("div",{className:"flex items-center justify-center min-h-[60vh]",children:(0,r.jsx)("div",{className:"w-8 h-8 border-2 border-blue-500 border-t-transparent rounded-full animate-spin"})})});if(!h)return(0,r.jsx)(n.default,{children:(0,r.jsxs)("div",{className:"text-center py-20",children:[(0,r.jsx)("p",{className:"text-gray-400",children:"Task not found"}),(0,r.jsx)("button",{onClick:()=>i.back(),className:"text-blue-400 hover:text-blue-300 mt-4",children:"Go Back"})]})});let C=h.subtasks.filter(e=>e.title.startsWith("GitHub Issue #")),S=h.subtasks.filter(e=>!e.title.startsWith("GitHub Issue #"));return(0,r.jsx)(n.default,{rightSidebar:(0,r.jsx)(x.A,{githubUrl:null==h||null==(t=h.group)||null==(e=t.project)?void 0:e.githubUrl,taskId:h.id,onTaskRefresh:f}),children:(0,r.jsxs)("div",{className:"max-w-4xl mx-auto space-y-6",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-500 mb-4 font-mono",children:[(0,r.jsx)(o(),{href:"/dashboard/projects/".concat(h.group.projectId),className:"hover:text-blue-400 transition-colors",children:h.group.project.name}),(0,r.jsx)("span",{className:"text-gray-700",children:"/"}),(0,r.jsx)("span",{className:"text-gray-300",children:h.group.title}),(0,r.jsx)("span",{className:"text-gray-700",children:"/"}),(0,r.jsx)("span",{className:"text-white font-semibold",children:h.title})]}),(0,r.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,r.jsx)("div",{className:"flex-1 min-w-0",children:j?(0,r.jsx)("input",{type:"text",value:N.title,onChange:e=>y(t=>({...t,title:e.target.value})),className:"w-full bg-white/5 border border-white/10 rounded px-3 py-2 text-2xl font-bold text-white focus:outline-none focus:border-blue-500"}):(0,r.jsx)("h1",{className:"text-3xl font-bold",children:h.title})}),(0,r.jsxs)("div",{className:"flex flex-col items-end gap-3",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[j?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("button",{onClick:k,className:"px-3 py-1.5 rounded-lg bg-green-600 text-white text-xs font-medium hover:bg-green-500 transition-all",children:"Save"}),(0,r.jsx)("button",{onClick:()=>w(!1),className:"px-3 py-1.5 rounded-lg bg-white/10 text-gray-400 text-xs font-medium hover:bg-white/20 transition-all",children:"Cancel"})]}):(0,r.jsxs)("button",{onClick:()=>w(!0),className:"px-3 py-1.5 rounded-lg bg-white/5 text-gray-400 border border-white/10 text-xs hover:bg-white/10 hover:text-white transition-all flex items-center gap-2",children:[(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-3.5 h-3.5",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"})}),"Edit"]}),!j&&(h.branch?(0,r.jsxs)("a",{href:"https://github.com/henry930/ai-estimation/tree/".concat(h.branch),target:"_blank",rel:"noopener noreferrer",className:"px-3 py-1.5 rounded-lg bg-blue-500/10 text-blue-400 border border-blue-500/20 text-xs font-mono flex items-center gap-2 hover:bg-blue-500/20 transition-all",children:[(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.217 10.907a2.25 2.25 0 1 0 0 2.186m0-2.186c.18.324.283.696.283 1.093s-.103.77-.283 1.093m0-2.186 9.566-5.314m-9.566 7.5 9.566 5.314m0 0a2.25 2.25 0 1 0 3.935 2.186 2.25 2.25 0 0 0-3.935-2.186Zm0-12.814a2.25 2.25 0 1 0 3.933-2.185 2.25 2.25 0 0 0-3.933 2.185Z"})}),h.branch]}):(0,r.jsxs)("button",{onClick:v,className:"px-3 py-1.5 rounded-lg bg-white/5 text-gray-400 border border-white/10 text-xs hover:bg-white/10 hover:text-white transition-all flex items-center gap-2",children:[(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})}),"Branch"]}))]}),j?(0,r.jsxs)("select",{value:N.status,onChange:e=>y(t=>({...t,status:e.target.value})),className:"bg-white/5 border border-white/10 rounded px-2 py-1 text-xs text-white focus:outline-none focus:border-blue-500",children:[(0,r.jsx)("option",{value:"PENDING",children:"PENDING"}),(0,r.jsx)("option",{value:"IN PROGRESS",children:"IN PROGRESS"}),(0,r.jsx)("option",{value:"WAITING FOR REVIEW",children:"WAITING REVIEW"}),(0,r.jsx)("option",{value:"DONE",children:"DONE"})]}):(0,r.jsx)("div",{className:"px-3 py-1 rounded-full text-xs font-bold uppercase tracking-wider ".concat("DONE"===h.status?"bg-green-500/10 text-green-500":"IN PROGRESS"===h.status?"bg-blue-500/10 text-blue-500":"bg-white/10 text-gray-500"),children:h.status})]})]}),(0,r.jsx)("div",{className:"border-b border-white/10",children:(0,r.jsx)("div",{className:"flex gap-6",children:["objective","issues","documents","subtasks"].map(e=>(0,r.jsx)("button",{onClick:()=>g(e),className:"pb-3 text-sm font-medium transition-colors border-b-2 ".concat(p===e?"border-blue-500 text-blue-500":"border-transparent text-gray-500 hover:text-gray-300"," capitalize"),children:"subtasks"===e?"Sub Task List":e},e))})}),(0,r.jsxs)("div",{className:"min-h-[400px]",children:["objective"===p&&(0,r.jsx)("div",{className:"space-y-4 animate-in fade-in duration-300",children:(0,r.jsxs)("div",{className:"p-6 rounded-2xl bg-white/5 border border-white/10",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold mb-4 text-white",children:"Objective"}),j?(0,r.jsx)("textarea",{value:N.objective,onChange:e=>y(t=>({...t,objective:e.target.value})),className:"w-full h-96 bg-black/20 border border-white/10 rounded-lg p-3 text-gray-300 focus:outline-none focus:border-blue-500 resize-none font-mono text-sm leading-relaxed"}):(0,r.jsx)("div",{className:"prose prose-invert max-w-none text-gray-300 font-light",children:(0,r.jsx)(c.oz,{remarkPlugins:[d.A],children:h.objective||h.description||"No objective defined for this task."})})]})}),"issues"===p&&(0,r.jsx)("div",{className:"space-y-3 animate-in fade-in duration-300",children:C.length>0?C.map(e=>(0,r.jsxs)("div",{className:"p-4 rounded-xl bg-white/5 border border-white/10 hover:bg-white/10 transition-colors flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("div",{className:"w-2 h-2 rounded-full ".concat(e.isCompleted?"bg-purple-500":"bg-green-500")}),(0,r.jsx)("span",{className:"text-gray-200",children:e.title})]}),(0,r.jsx)("span",{className:"text-xs px-2 py-0.5 rounded ".concat(e.isCompleted?"bg-purple-500/10 text-purple-400":"bg-green-500/10 text-green-400"),children:e.isCompleted?"Closed":"Open"})]},e.id)):(0,r.jsx)("div",{className:"text-center py-12 text-gray-500",children:"No GitHub issues linked to this task."})}),"documents"===p&&(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 animate-in fade-in duration-300",children:h.documents.length>0?h.documents.map(e=>(0,r.jsx)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:"p-4 rounded-xl bg-white/5 border border-white/10 hover:border-blue-500/50 hover:bg-blue-500/5 transition-all group",children:(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("div",{className:"p-2 rounded-lg bg-white/5 group-hover:text-blue-400 transition-colors",children:(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"})})}),(0,r.jsx)("span",{className:"font-medium text-gray-200 group-hover:text-white",children:e.title})]})},e.id)):(0,r.jsx)("div",{className:"col-span-full text-center py-12 text-gray-500",children:"No documents linked to this task."})}),"subtasks"===p&&(0,r.jsx)("div",{className:"space-y-3 animate-in fade-in duration-300",children:S.length>0?S.map(e=>(0,r.jsxs)("div",{className:"flex items-center gap-4 p-4 rounded-xl bg-white/5 border border-white/10",children:[(0,r.jsx)("div",{className:"w-5 h-5 rounded border flex items-center justify-center ".concat(e.isCompleted?"bg-blue-500 border-blue-500":"border-white/20"),children:e.isCompleted&&(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-3.5 h-3.5 text-white",children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M16.704 4.153a.75.75 0 0 1 .143 1.052l-8 10.5a.75.75 0 0 1-1.127.075l-4.5-4.5a.75.75 0 0 1 1.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 0 1 1.05-.143Z",clipRule:"evenodd"})})}),(0,r.jsx)("span",{className:"text-gray-300 ".concat(e.isCompleted?"line-through text-gray-500":""),children:e.title})]},e.id)):(0,r.jsx)("div",{className:"text-center py-12 text-gray-500",children:"No sub-tasks defined."})})]})]})})}}},e=>{e.O(0,[6489,2619,1087,3784,8441,1255,7358],()=>e(e.s=2683)),_N_E=e.O()}]);