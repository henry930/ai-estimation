(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9662],{63:(e,t,s)=>{"use strict";var r=s(7260);s.o(r,"useParams")&&s.d(t,{useParams:function(){return r.useParams}}),s.o(r,"usePathname")&&s.d(t,{usePathname:function(){return r.usePathname}}),s.o(r,"useRouter")&&s.d(t,{useRouter:function(){return r.useRouter}}),s.o(r,"useSearchParams")&&s.d(t,{useSearchParams:function(){return r.useSearchParams}})},1920:(e,t,s)=>{"use strict";s.d(t,{default:()=>a});var r=s(5155),n=s(4078);function a(e){let{children:t}=e;return(0,r.jsxs)("div",{className:"min-h-screen bg-black text-white",children:[(0,r.jsx)(n.A,{}),(0,r.jsx)("div",{className:"pl-64",children:(0,r.jsx)("main",{className:"p-8 max-w-7xl mx-auto",children:t})})]})}},4078:(e,t,s)=>{"use strict";s.d(t,{A:()=>o});var r=s(5155),n=s(2619),a=s.n(n),i=s(63),l=s(6489);function o(){var e,t,s;let n=(0,i.usePathname)(),o=[{href:"/dashboard",label:"Overview",icon:(0,r.jsx)(d,{})},{href:"/dashboard/management",label:"Manage Tasks",icon:(0,r.jsx)(m,{})},{href:"/estimate/new",label:"New Estimation",icon:(0,r.jsx)(h,{})},{href:"/dashboard/projects",label:"My Projects",icon:(0,r.jsx)(x,{})},{href:"/dashboard/settings",label:"Settings",icon:(0,r.jsx)(u,{})}],{data:p}=(0,l.useSession)();return(0,r.jsxs)("aside",{className:"w-64 border-r border-white/10 bg-black text-white flex flex-col h-screen fixed left-0 top-0 overflow-y-auto",children:[(0,r.jsx)("div",{className:"p-6 border-b border-white/10 flex items-center gap-2",children:(0,r.jsxs)(a(),{href:"/",className:"flex items-center gap-2",children:[(0,r.jsx)("div",{className:"w-8 h-8 rounded-full bg-white/10 flex items-center justify-center font-bold text-white",children:"AI"}),(0,r.jsx)("span",{className:"font-semibold text-lg",children:"AI Estimation"})]})}),(0,r.jsx)("nav",{className:"flex-1 p-4 space-y-2",children:o.map(e=>{let t=n===e.href;return(0,r.jsxs)(a(),{href:e.href,className:"flex items-center gap-3 px-4 py-3 rounded-lg text-sm font-medium transition-colors ".concat(t?"bg-white/10 text-white":"text-gray-400 hover:bg-white/5 hover:text-white"),children:[e.icon,e.label]},e.href)})}),(0,r.jsxs)("div",{className:"p-4 border-t border-white/10 space-y-4",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 px-4 py-2 group cursor-default",children:[(null==p||null==(e=p.user)?void 0:e.image)?(0,r.jsx)("img",{src:p.user.image,alt:p.user.name||"User",className:"w-10 h-10 rounded-full border border-white/10 group-hover:scale-105 transition-transform duration-300 shadow-lg shadow-white/5"}):(0,r.jsx)("div",{className:"w-10 h-10 rounded-full bg-gradient-to-tr from-blue-500 to-purple-500 group-hover:scale-105 transition-transform duration-300"}),(0,r.jsxs)("div",{className:"overflow-hidden",children:[(0,r.jsx)("div",{className:"font-medium text-sm truncate text-white/90 group-hover:text-white transition-colors",children:(null==p||null==(t=p.user)?void 0:t.name)||"User Name"}),(0,r.jsx)("div",{className:"text-[11px] text-gray-500 truncate",children:(null==p||null==(s=p.user)?void 0:s.email)||"user@example.com"})]})]}),(0,r.jsxs)("button",{onClick:()=>(0,l.signOut)({callbackUrl:"/"}),className:"flex items-center gap-3 w-full px-4 py-3 rounded-xl text-sm font-medium text-red-400/80 hover:text-red-400 hover:bg-red-400/5 transition-all border border-transparent hover:border-red-400/10",children:[(0,r.jsx)(c,{}),"Sign Out"]})]})]})}function c(){return(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15M12 9l-3 3m0 0 3 3m-3-3h12.75"})})}function d(){return(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"})})}function h(){return(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})})}function x(){return(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 12.75V12A2.25 2.25 0 0 1 4.5 9.75h15A2.25 2.25 0 0 1 21.75 12v.75m-8.69-6.44-2.12-2.12a1.5 1.5 0 0 0-1.061-.44H4.5A2.25 2.25 0 0 0 2.25 6v12a2.25 2.25 0 0 0 2.25 2.25h15A2.25 2.25 0 0 0 21.75 18V9a2.25 2.25 0 0 0-2.25-2.25h-5.379a1.5 1.5 0 0 1-1.06-.44Z"})})}function m(){return(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.504 11.625 12 14.121l2.496-2.496M12 14.121V3m9 9.004V15m0 0v1.5a2.25 2.25 0 0 1-2.25 2.25H5.25A2.25 2.25 0 0 1 3 17.25V15m0 0v-2.996m0 0V3a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 3v9.004Z"})})}function u(){return(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.34 15.84c-.688-.06-1.386-.09-2.09-.09H7.5a4.5 4.5 0 1 1 0-9h.75c.704 0 1.402-.03 2.09-.09m0 9.18c.253.962.584 1.892.985 2.783.247.55.06 1.21-.463 1.511l-.657.38c-.551.318-1.26.117-1.527-.461a20.845 20.845 0 0 1-1.44-4.282m3.102.069a18.03 18.03 0 0 1-.59-4.59c0-1.586.205-3.124.59-4.59m0 9.18a23.848 23.848 0 0 1 8.835 2.535M10.34 6.66a23.847 23.847 0 0 0 8.835-2.535m0 0A23.74 23.74 0 0 0 18.795 3m.38 1.125a23.91 23.91 0 0 1 1.014 5.795 23.91 23.91 0 0 1-1.014 5.795m0-11.59a23.877 23.877 0 0 1 4.498 5.795 23.877 23.877 0 0 1-4.498 5.795"})})}},5457:(e,t,s)=>{Promise.resolve().then(s.bind(s,7859))},7662:(e,t,s)=>{"use strict";s.d(t,{A:()=>n});var r=s(5155);function n(e){let{categories:t,onBranchClick:s}=e;return t&&0!==t.length?(0,r.jsx)("div",{className:"space-y-8",children:t.map(e=>(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("h3",{className:"text-lg font-semibold text-gray-200 border-b border-white/10 pb-2 flex justify-between items-center",children:[e.title,(0,r.jsxs)("span",{className:"text-xs font-normal text-gray-500",children:[e.tasks.reduce((e,t)=>e+t.hours,0)," hours"]})]}),(0,r.jsx)("div",{className:"space-y-3",children:e.tasks.map(e=>(0,r.jsxs)("div",{className:"group flex items-start gap-4 p-3 rounded-xl hover:bg-white/5 transition-all border border-transparent hover:border-white/5",children:[(0,r.jsx)("div",{className:"mt-1 w-5 h-5 rounded border flex items-center justify-center shrink-0 ".concat(e.completed?"bg-blue-500 border-blue-500":"border-white/20"),children:e.completed&&(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-3.5 h-3.5 text-white",children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M16.704 4.153a.75.75 0 0 1 .143 1.052l-8 10.5a.75.75 0 0 1-1.127.075l-4.5-4.5a.75.75 0 0 1 1.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 0 1 1.05-.143Z",clipRule:"evenodd"})})}),(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,r.jsx)("h4",{className:"text-sm font-medium transition-colors ".concat(e.completed?"text-gray-500 line-through":"text-gray-300 group-hover:text-white"),children:e.title}),(0,r.jsxs)("span",{className:"text-xs text-gray-500 whitespace-nowrap",children:[e.hours,"h"]})]}),e.branch&&(0,r.jsxs)("button",{onClick:()=>null==s?void 0:s(e.branch),className:"mt-1 text-[10px] bg-blue-500/10 text-blue-400 border border-blue-500/20 px-2 py-0.5 rounded hover:bg-blue-500/20 transition-all font-mono",children:["Branch: ",e.branch]})]})]},e.id))})]},e.id))}):(0,r.jsx)("div",{className:"text-center py-20 border-2 border-dashed border-white/5 rounded-xl",children:(0,r.jsx)("p",{className:"text-gray-500",children:"No tasks defined for this project."})})}},7859:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>d});var r=s(5155),n=s(2115),a=s(63),i=s(1920),l=s(2619),o=s.n(l),c=s(7662);function d(){let e=(0,a.useParams)(),[t,s]=(0,n.useState)(null),[l,d]=(0,n.useState)([]),[w,j]=(0,n.useState)([]),[b,f]=(0,n.useState)(!0),[g,v]=(0,n.useState)(null),[N,k]=(0,n.useState)(!1),[y,L]=(0,n.useState)(null);(0,n.useEffect)(()=>{e.id&&C()},[e.id]);let C=async()=>{try{f(!0);let[t,r,n]=await Promise.all([fetch("/api/projects/".concat(e.id)),fetch("/api/projects/".concat(e.id,"/branches")),fetch("/api/projects/".concat(e.id,"/tasks"))]);if(!t.ok)throw Error("Failed to fetch project");if(!r.ok)throw Error("Failed to fetch branches");if(!n.ok)throw Error("Failed to fetch tasks");let[a,i,l]=await Promise.all([t.json(),r.json(),n.json()]);s(a),d(i),j(l)}catch(e){v(e.message)}finally{f(!1)}};return b?(0,r.jsx)(i.default,{children:(0,r.jsx)("div",{className:"flex items-center justify-center min-h-[60vh]",children:(0,r.jsx)("div",{className:"w-8 h-8 border-2 border-blue-500 border-t-transparent rounded-full animate-spin"})})}):g||!t?(0,r.jsx)(i.default,{children:(0,r.jsxs)("div",{className:"text-center py-20",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold text-red-400",children:"Error"}),(0,r.jsx)("p",{className:"text-gray-400 mt-2",children:g||"Project not found"}),(0,r.jsx)(o(),{href:"/dashboard",className:"text-blue-400 hover:text-blue-300 mt-6 inline-block",children:"Back to Dashboard"})]})}):(0,r.jsx)(i.default,{children:(0,r.jsxs)("div",{className:"space-y-8",children:[(0,r.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,r.jsx)(o(),{href:"/dashboard",className:"text-gray-500 hover:text-white transition-colors",children:(0,r.jsx)(h,{})}),(0,r.jsx)("h1",{className:"text-3xl font-bold",children:t.name})]}),(0,r.jsx)("p",{className:"text-gray-400 max-w-2xl",children:t.description||"No description provided."})]}),(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsxs)("a",{href:t.githubUrl||"#",target:"_blank",rel:"noopener noreferrer",className:"px-4 py-2 rounded-lg bg-white/5 border border-white/10 hover:bg-white/10 transition-all text-sm flex items-center gap-2",children:[(0,r.jsx)(x,{}),"View on GitHub"]}),(0,r.jsx)(o(),{href:"/estimate/new?projectId=".concat(t.id),className:"px-4 py-2 rounded-lg bg-blue-600 hover:bg-blue-500 transition-all text-sm font-medium",children:"New Estimation"})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,r.jsx)("div",{className:"lg:col-span-2 space-y-6",children:(0,r.jsxs)("div",{className:"p-8 rounded-2xl bg-white/5 border border-white/10",children:[(0,r.jsxs)("h2",{className:"text-xl font-semibold mb-8 flex items-center justify-between",children:["Estimation Tasks",(0,r.jsxs)("span",{className:"text-xs font-normal text-gray-500 px-2 py-1 rounded bg-white/5",children:[w.reduce((e,t)=>e+t.tasks.length,0)," total"]})]}),(0,r.jsx)(c.A,{categories:w,onBranchClick:e=>{L(e),k(!0),setTimeout(()=>{var e;null==(e=document.getElementById("branches-section"))||e.scrollIntoView({behavior:"smooth"})},100)}})]})}),(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"p-6 rounded-2xl bg-white/5 border border-white/10 space-y-3",children:[(0,r.jsx)("h2",{className:"text-sm font-semibold text-gray-400 uppercase tracking-widest mb-4",children:"Project Actions"}),(0,r.jsxs)("button",{onClick:()=>alert("PDF Exporting feature coming in Phase 5"),className:"w-full py-3 px-4 rounded-xl bg-white/5 border border-white/10 hover:bg-white/10 transition-all flex items-center gap-3 text-sm font-medium",children:[(0,r.jsx)("div",{className:"w-8 h-8 rounded-lg bg-red-500/10 flex items-center justify-center text-red-500",children:(0,r.jsx)(u,{})}),"Export to PDF"]}),(0,r.jsxs)("button",{onClick:()=>alert("Repository Initialization feature coming in Phase 5"),className:"w-full py-3 px-4 rounded-xl bg-white/5 border border-white/10 hover:bg-white/10 transition-all flex items-center gap-3 text-sm font-medium",children:[(0,r.jsx)("div",{className:"w-8 h-8 rounded-lg bg-green-500/10 flex items-center justify-center text-green-500",children:(0,r.jsx)(p,{})}),"Initialize Repository"]})]}),N&&(0,r.jsxs)("div",{id:"branches-section",className:"p-6 rounded-2xl bg-white/5 border border-blue-500/30 animate-in fade-in slide-in-from-top-4 duration-500",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold",children:"Repository Branches"}),(0,r.jsx)("button",{onClick:()=>k(!1),className:"text-gray-500 hover:text-white transition-colors text-xs",children:"Hide"})]}),(0,r.jsx)("div",{className:"space-y-2",children:l.map(e=>(0,r.jsxs)("div",{className:"flex items-center justify-between p-3 rounded-lg border transition-all ".concat(y===e.name?"bg-blue-500/10 border-blue-500/50":"bg-white/5 border-white/5 hover:border-white/10"),children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 min-w-0",children:[(0,r.jsx)(m,{}),(0,r.jsx)("span",{className:"text-sm font-medium truncate ".concat(y===e.name?"text-blue-400":""),children:e.name})]}),e.protected&&(0,r.jsx)("span",{className:"px-1.5 py-0.5 rounded text-[10px] bg-red-500/10 text-red-500 border border-red-500/20",children:"Protected"})]},e.name))})]}),(0,r.jsxs)("div",{className:"p-6 rounded-2xl bg-white/5 border border-white/10",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Project Stats"}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center text-sm",children:[(0,r.jsx)("span",{className:"text-gray-500",children:"Connected"}),(0,r.jsx)("span",{children:new Date(t.createdAt).toLocaleDateString()})]}),(0,r.jsxs)("div",{className:"flex justify-between items-center text-sm",children:[(0,r.jsx)("span",{className:"text-gray-500",children:"Last Synced"}),(0,r.jsx)("span",{children:new Date(t.updatedAt).toLocaleTimeString()})]})]})]})]})]})]})})}function h(){return(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"})})}function x(){return(0,r.jsx)("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M12 2C6.477 2 2 6.484 2 12.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0110 4.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.203 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.942.359.31.678.921.678 1.856 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.019 10.019 0 0020 10.017C20 4.484 15.522 0 10 0z"})})}function m(){return(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5 text-blue-400",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.217 10.907a2.25 2.25 0 1 0 0 2.186m0-2.186c.18.324.283.696.283 1.093s-.103.77-.283 1.093m0-2.186 9.566-5.314m-9.566 7.5 9.566 5.314m0 0a2.25 2.25 0 1 0 3.935 2.186 2.25 2.25 0 0 0-3.935-2.186Zm0-12.814a2.25 2.25 0 1 0 3.933-2.185 2.25 2.25 0 0 0-3.933 2.185Z"})})}function u(){return(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m2.25 0H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"})})}function p(){return(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})})}}},e=>{e.O(0,[6489,2619,8441,1255,7358],()=>e(e.s=5457)),_N_E=e.O()}]);