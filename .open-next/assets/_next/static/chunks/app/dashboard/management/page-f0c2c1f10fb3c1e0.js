(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4693],{63:(e,t,s)=>{"use strict";var r=s(7260);s.o(r,"useParams")&&s.d(t,{useParams:function(){return r.useParams}}),s.o(r,"usePathname")&&s.d(t,{usePathname:function(){return r.usePathname}}),s.o(r,"useRouter")&&s.d(t,{useRouter:function(){return r.useRouter}}),s.o(r,"useSearchParams")&&s.d(t,{useSearchParams:function(){return r.useSearchParams}})},1172:(e,t,s)=>{Promise.resolve().then(s.bind(s,1920)),Promise.resolve().then(s.bind(s,4442))},1847:(e,t,s)=>{"use strict";s.d(t,{A:()=>o});var r=s(2115);let a=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,s)=>s?s.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)},l=function(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return t.filter((e,t,s)=>!!e&&""!==e.trim()&&s.indexOf(e)===t).join(" ").trim()};var i={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let n=(0,r.forwardRef)((e,t)=>{let{color:s="currentColor",size:a=24,strokeWidth:n=2,absoluteStrokeWidth:o,className:c="",children:d,iconNode:h,...x}=e;return(0,r.createElement)("svg",{ref:t,...i,width:a,height:a,stroke:s,strokeWidth:o?24*Number(n)/Number(a):n,className:l("lucide",c),...!d&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(x)&&{"aria-hidden":"true"},...x},[...h.map(e=>{let[t,s]=e;return(0,r.createElement)(t,s)}),...Array.isArray(d)?d:[d]])}),o=(e,t)=>{let s=(0,r.forwardRef)((s,i)=>{let{className:o,...c}=s;return(0,r.createElement)(n,{ref:i,iconNode:t,className:l("lucide-".concat(a(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()),"lucide-".concat(e),o),...c})});return s.displayName=a(e),s}},1920:(e,t,s)=>{"use strict";s.d(t,{default:()=>l});var r=s(5155),a=s(4078);function l(e){let{children:t}=e;return(0,r.jsxs)("div",{className:"min-h-screen bg-black text-white",children:[(0,r.jsx)(a.A,{}),(0,r.jsx)("div",{className:"pl-64",children:(0,r.jsx)("main",{className:"p-8 max-w-7xl mx-auto",children:t})})]})}},4078:(e,t,s)=>{"use strict";s.d(t,{A:()=>o});var r=s(5155),a=s(2619),l=s.n(a),i=s(63),n=s(6489);function o(){var e,t,s;let a=(0,i.usePathname)(),o=[{href:"/dashboard",label:"Overview",icon:(0,r.jsx)(d,{})},{href:"/dashboard/management",label:"Manage Tasks",icon:(0,r.jsx)(u,{})},{href:"/estimate/new",label:"New Estimation",icon:(0,r.jsx)(h,{})},{href:"/dashboard/projects",label:"My Projects",icon:(0,r.jsx)(x,{})},{href:"/dashboard/settings",label:"Settings",icon:(0,r.jsx)(m,{})}],{data:p}=(0,n.useSession)();return(0,r.jsxs)("aside",{className:"w-64 border-r border-white/10 bg-black text-white flex flex-col h-screen fixed left-0 top-0 overflow-y-auto",children:[(0,r.jsx)("div",{className:"p-6 border-b border-white/10 flex items-center gap-2",children:(0,r.jsxs)(l(),{href:"/",className:"flex items-center gap-2",children:[(0,r.jsx)("div",{className:"w-8 h-8 rounded-full bg-white/10 flex items-center justify-center font-bold text-white",children:"AI"}),(0,r.jsx)("span",{className:"font-semibold text-lg",children:"AI Estimation"})]})}),(0,r.jsx)("nav",{className:"flex-1 p-4 space-y-2",children:o.map(e=>{let t=a===e.href;return(0,r.jsxs)(l(),{href:e.href,className:"flex items-center gap-3 px-4 py-3 rounded-lg text-sm font-medium transition-colors ".concat(t?"bg-white/10 text-white":"text-gray-400 hover:bg-white/5 hover:text-white"),children:[e.icon,e.label]},e.href)})}),(0,r.jsxs)("div",{className:"p-4 border-t border-white/10 space-y-4",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 px-4 py-2 group cursor-default",children:[(null==p||null==(e=p.user)?void 0:e.image)?(0,r.jsx)("img",{src:p.user.image,alt:p.user.name||"User",className:"w-10 h-10 rounded-full border border-white/10 group-hover:scale-105 transition-transform duration-300 shadow-lg shadow-white/5"}):(0,r.jsx)("div",{className:"w-10 h-10 rounded-full bg-gradient-to-tr from-blue-500 to-purple-500 group-hover:scale-105 transition-transform duration-300"}),(0,r.jsxs)("div",{className:"overflow-hidden",children:[(0,r.jsx)("div",{className:"font-medium text-sm truncate text-white/90 group-hover:text-white transition-colors",children:(null==p||null==(t=p.user)?void 0:t.name)||"User Name"}),(0,r.jsx)("div",{className:"text-[11px] text-gray-500 truncate",children:(null==p||null==(s=p.user)?void 0:s.email)||"user@example.com"})]})]}),(0,r.jsxs)("button",{onClick:()=>(0,n.signOut)({callbackUrl:"/"}),className:"flex items-center gap-3 w-full px-4 py-3 rounded-xl text-sm font-medium text-red-400/80 hover:text-red-400 hover:bg-red-400/5 transition-all border border-transparent hover:border-red-400/10",children:[(0,r.jsx)(c,{}),"Sign Out"]})]})]})}function c(){return(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15M12 9l-3 3m0 0 3 3m-3-3h12.75"})})}function d(){return(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"})})}function h(){return(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})})}function x(){return(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 12.75V12A2.25 2.25 0 0 1 4.5 9.75h15A2.25 2.25 0 0 1 21.75 12v.75m-8.69-6.44-2.12-2.12a1.5 1.5 0 0 0-1.061-.44H4.5A2.25 2.25 0 0 0 2.25 6v12a2.25 2.25 0 0 0 2.25 2.25h15A2.25 2.25 0 0 0 21.75 18V9a2.25 2.25 0 0 0-2.25-2.25h-5.379a1.5 1.5 0 0 1-1.06-.44Z"})})}function u(){return(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.504 11.625 12 14.121l2.496-2.496M12 14.121V3m9 9.004V15m0 0v1.5a2.25 2.25 0 0 1-2.25 2.25H5.25A2.25 2.25 0 0 1 3 17.25V15m0 0v-2.996m0 0V3a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 3v9.004Z"})})}function m(){return(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.34 15.84c-.688-.06-1.386-.09-2.09-.09H7.5a4.5 4.5 0 1 1 0-9h.75c.704 0 1.402-.03 2.09-.09m0 9.18c.253.962.584 1.892.985 2.783.247.55.06 1.21-.463 1.511l-.657.38c-.551.318-1.26.117-1.527-.461a20.845 20.845 0 0 1-1.44-4.282m3.102.069a18.03 18.03 0 0 1-.59-4.59c0-1.586.205-3.124.59-4.59m0 9.18a23.848 23.848 0 0 1 8.835 2.535M10.34 6.66a23.847 23.847 0 0 0 8.835-2.535m0 0A23.74 23.74 0 0 0 18.795 3m.38 1.125a23.91 23.91 0 0 1 1.014 5.795 23.91 23.91 0 0 1-1.014 5.795m0-11.59a23.877 23.877 0 0 1 4.498 5.795 23.877 23.877 0 0 1-4.498 5.795"})})}},4442:(e,t,s)=>{"use strict";s.d(t,{default:()=>b});var r=s(5155),a=s(2115),l=s(2619),i=s.n(l),n=s(1847);let o=(0,n.A)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);s(6983);let c=(0,n.A)("play",[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]]);(0,n.A)("circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);var d=s(7937),h=s(9332);let x=(0,n.A)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]),u=(0,n.A)("message-square",[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]]);var m=s(6132),p=s(5229);function b(){var e;let[t,s]=(0,a.useState)([]),[l,n]=(0,a.useState)(!0),[b,g]=(0,a.useState)(null),[f,w]=(0,a.useState)(null);(0,a.useEffect)(()=>{v()},[]);let v=async()=>{try{let e=await fetch("/api/admin/tasks"),t=await e.json();t.success&&s(t.data)}catch(e){console.error("Failed to fetch tasks:",e)}finally{n(!1)}},j=async(e,t)=>{g(e);try{(await fetch("/api/admin/tasks/".concat(e),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:t})})).ok&&v()}catch(e){console.error("Failed to update status:",e)}finally{g(null)}};return l?(0,r.jsx)("div",{className:"flex items-center justify-center h-[50vh]",children:(0,r.jsx)("div",{className:"w-8 h-8 border-2 border-blue-500 border-t-transparent rounded-full animate-spin"})}):(0,r.jsxs)("div",{className:"space-y-8 pb-20",children:[(0,r.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,r.jsx)("h1",{className:"text-xl font-bold tracking-tight text-white/90",children:"Project Management"}),(0,r.jsx)("p",{className:"text-gray-500 text-[11px]",children:"Manage task activation, review, and scope refinement from this overview."})]}),(0,r.jsx)("div",{className:"space-y-8",children:t.map(e=>(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 border-b border-white/5 pb-2",children:[(0,r.jsx)(d.A,{className:"w-4 h-4 text-blue-500/70"}),(0,r.jsx)("h2",{className:"text-sm font-bold text-white/70 uppercase tracking-widest",children:e.title}),(0,r.jsxs)("span",{className:"text-[10px] text-gray-600 font-mono",children:["(",e.tasks.length,")"]})]}),(0,r.jsx)("div",{className:"space-y-2",children:e.tasks.map(e=>(0,r.jsx)("div",{className:"relative rounded-lg bg-[#050505] border border-white/5 p-3 hover:bg-white/[0.02] transition-all duration-200 ".concat(b===e.id?"opacity-50 pointer-events-none":""),children:(0,r.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,r.jsxs)("div",{className:"flex items-baseline gap-3",children:[(0,r.jsxs)(i(),{href:"/dashboard/management/".concat(e.id),className:"group/title flex items-center gap-1.5",children:[(0,r.jsx)("h3",{className:"font-semibold text-sm text-white/90 shrink-0 group-hover/title:text-blue-400 transition-colors",children:e.title}),(0,r.jsx)(d.A,{className:"w-3 h-3 text-white/0 group-hover/title:text-blue-400/50 -translate-x-1 group-hover/title:translate-x-0 transition-all"})]}),(0,r.jsx)("p",{className:"text-[11px] text-gray-500 truncate italic",children:e.description})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between border-t border-white/5 pt-2",children:[(0,r.jsxs)("div",{className:"flex items-center gap-4 text-[10px]",children:[(0,r.jsx)("div",{className:"px-2 py-0.5 rounded text-[9px] font-bold border uppercase tracking-tighter ".concat((e=>{switch(e){case"DONE":return"bg-green-500/10 text-green-500 border-green-500/20";case"WAITING FOR REVIEW":return"bg-purple-500/10 text-purple-400 border-purple-500/20";case"IN PROGRESS":return"bg-blue-500/10 text-blue-400 border-blue-500/20";default:return"bg-white/5 text-gray-500 border-white/10"}})(e.status)),children:e.status}),(0,r.jsx)("div",{className:"h-3 w-[1px] bg-white/10"}),e.branch?(0,r.jsxs)("div",{className:"flex items-center gap-1.5 font-mono text-blue-400/60",children:[(0,r.jsx)(h.A,{className:"w-3 h-3"}),e.branch]}):(0,r.jsx)("span",{className:"text-gray-700 font-mono italic",children:"no branch"}),e.hours&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"h-3 w-[1px] bg-white/10"}),(0,r.jsxs)("span",{className:"text-gray-600",children:[e.hours,"h"]})]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsxs)("button",{onClick:t=>{t.preventDefault(),w(e.id)},className:"px-3 py-1 rounded-md bg-white/5 hover:bg-white/10 text-gray-400 text-[10px] font-bold border border-white/10 transition-all flex items-center gap-1.5",title:"AI Revise & Enquiry",children:[(0,r.jsx)(x,{className:"w-2.5 h-2.5"}),"Enquiry"]}),"PENDING"===e.status&&(0,r.jsxs)("button",{onClick:()=>j(e.id,"IN PROGRESS"),className:"px-3 py-1 rounded-md bg-white/5 hover:bg-white/10 text-white/80 text-[10px] font-bold border border-white/10 transition-all flex items-center gap-1.5",children:[(0,r.jsx)(c,{className:"w-2.5 h-2.5 fill-current"}),"Activate"]}),"IN PROGRESS"===e.status&&(0,r.jsxs)("button",{onClick:()=>j(e.id,"WAITING FOR REVIEW"),className:"px-3 py-1 rounded-md bg-purple-500/20 hover:bg-purple-500/30 text-purple-400 text-[10px] font-bold border border-purple-500/20 transition-all flex items-center gap-1.5",children:[(0,r.jsx)(u,{className:"w-2.5 h-2.5"}),"Request Review"]})]})]}),e.subtasks&&e.subtasks.length>0&&(0,r.jsx)("div",{className:"flex flex-wrap gap-1.5 mt-1",children:e.subtasks.map(e=>(0,r.jsxs)("div",{className:"flex items-center gap-1 px-1.5 py-0.5 rounded text-[9px] font-medium border ".concat(e.isCompleted?"bg-green-500/5 text-green-500/60 border-green-500/10":"bg-orange-500/5 text-orange-400/80 border-orange-500/10"),children:[e.isCompleted?(0,r.jsx)(o,{className:"w-2.5 h-2.5"}):(0,r.jsx)(m.A,{className:"w-2.5 h-2.5"}),e.title]},e.id))})]})},e.id))})]},e.id))}),f&&(0,r.jsxs)("div",{className:"fixed inset-0 z-50 overflow-hidden",children:[(0,r.jsx)("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm transition-opacity",onClick:()=>w(null)}),(0,r.jsx)("div",{className:"absolute inset-y-0 right-0 max-w-full flex",children:(0,r.jsx)("div",{className:"w-screen max-w-md",children:(0,r.jsxs)("div",{className:"h-full flex flex-col bg-[#0a0a0a] border-l border-white/10 shadow-2xl",children:[(0,r.jsxs)("div",{className:"px-6 py-4 border-b border-white/5 flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-lg font-bold text-white",children:"Revise & Enquiry"}),(0,r.jsxs)("p",{className:"text-[11px] text-gray-500",children:["Task: ",null==(e=t.flatMap(e=>e.tasks).find(e=>e.id===f))?void 0:e.title]})]}),(0,r.jsx)("button",{onClick:()=>w(null),className:"p-2 hover:bg-white/5 rounded-lg transition-colors",children:(0,r.jsx)(p.A,{className:"w-5 h-5 text-gray-500"})})]}),(0,r.jsx)("div",{className:"flex-1 overflow-y-auto p-6 space-y-4",children:(0,r.jsx)("div",{className:"bg-blue-500/5 border border-blue-500/10 rounded-xl p-4",children:(0,r.jsx)("p",{className:"text-sm text-blue-400",children:"How can I help you revise this task? You can ask about the branch strategy, sub-task details, or request a scope update."})})}),(0,r.jsx)("div",{className:"p-6 border-t border-white/5 bg-[#080808]",children:(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("input",{type:"text",placeholder:"Ask AI about this task...",className:"w-full bg-white/5 border border-white/10 rounded-xl px-4 py-3 text-sm text-white focus:outline-none focus:border-blue-500/50 transition-all pr-12"}),(0,r.jsx)("button",{className:"absolute right-2 top-2 p-2 bg-blue-600 rounded-lg text-white hover:bg-blue-500 transition-all",children:(0,r.jsx)(c,{className:"w-4 h-4 fill-current"})})]})})]})})})]})]})}},5229:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(1847).A)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},6132:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(1847).A)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},6983:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(1847).A)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]])},7937:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(1847).A)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},9332:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(1847).A)("git-branch",[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]])}},e=>{e.O(0,[6489,2619,8441,1255,7358],()=>e(e.s=1172)),_N_E=e.O()}]);