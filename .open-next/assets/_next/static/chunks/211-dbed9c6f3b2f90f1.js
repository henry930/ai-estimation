"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[211],{4078:(e,t,r)=>{r.d(t,{A:()=>i});var s=r(5155),o=r(2619),n=r.n(o),a=r(63),l=r(6489);function i(){var e,t,r;let o=(0,a.usePathname)(),i=[{href:"/dashboard",label:"Overview",icon:(0,s.jsx)(c,{})},{href:"/dashboard/management",label:"Manage Tasks",icon:(0,s.jsx)(u,{})},{href:"/estimate/new",label:"New Estimation",icon:(0,s.jsx)(h,{})},{href:"/dashboard/projects",label:"My Projects",icon:(0,s.jsx)(x,{})},{href:"/dashboard/settings",label:"Settings",icon:(0,s.jsx)(m,{})}],{data:w}=(0,l.useSession)();return(0,s.jsxs)("aside",{className:"w-64 border-r border-white/10 bg-black text-white flex flex-col h-screen fixed left-0 top-0 overflow-y-auto",children:[(0,s.jsx)("div",{className:"p-6 border-b border-white/10 flex items-center gap-2",children:(0,s.jsxs)(n(),{href:"/",className:"flex items-center gap-2",children:[(0,s.jsx)("div",{className:"w-8 h-8 rounded-full bg-white/10 flex items-center justify-center font-bold text-white",children:"AI"}),(0,s.jsx)("span",{className:"font-semibold text-lg",children:"AI Estimation"})]})}),(0,s.jsx)("nav",{className:"flex-1 p-4 space-y-2",children:i.map(e=>{let t=o===e.href;return(0,s.jsxs)(n(),{href:e.href,className:"flex items-center gap-3 px-4 py-3 rounded-lg text-sm font-medium transition-colors ".concat(t?"bg-white/10 text-white":"text-gray-400 hover:bg-white/5 hover:text-white"),children:[e.icon,e.label]},e.href)})}),(0,s.jsxs)("div",{className:"p-4 border-t border-white/10 space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 px-4 py-2 group cursor-default",children:[(null==w||null==(e=w.user)?void 0:e.image)?(0,s.jsx)("img",{src:w.user.image,alt:w.user.name||"User",className:"w-10 h-10 rounded-full border border-white/10 group-hover:scale-105 transition-transform duration-300 shadow-lg shadow-white/5"}):(0,s.jsx)("div",{className:"w-10 h-10 rounded-full bg-gradient-to-tr from-blue-500 to-purple-500 group-hover:scale-105 transition-transform duration-300"}),(0,s.jsxs)("div",{className:"overflow-hidden",children:[(0,s.jsx)("div",{className:"font-medium text-sm truncate text-white/90 group-hover:text-white transition-colors",children:(null==w||null==(t=w.user)?void 0:t.name)||"User Name"}),(0,s.jsx)("div",{className:"text-[11px] text-gray-500 truncate",children:(null==w||null==(r=w.user)?void 0:r.email)||"user@example.com"})]})]}),(0,s.jsxs)("button",{onClick:()=>(0,l.signOut)({callbackUrl:"/"}),className:"flex items-center gap-3 w-full px-4 py-3 rounded-xl text-sm font-medium text-red-400/80 hover:text-red-400 hover:bg-red-400/5 transition-all border border-transparent hover:border-red-400/10",children:[(0,s.jsx)(d,{}),"Sign Out"]})]})]})}function d(){return(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15M12 9l-3 3m0 0 3 3m-3-3h12.75"})})}function c(){return(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"})})}function h(){return(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})})}function x(){return(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 12.75V12A2.25 2.25 0 0 1 4.5 9.75h15A2.25 2.25 0 0 1 21.75 12v.75m-8.69-6.44-2.12-2.12a1.5 1.5 0 0 0-1.061-.44H4.5A2.25 2.25 0 0 0 2.25 6v12a2.25 2.25 0 0 0 2.25 2.25h15A2.25 2.25 0 0 0 21.75 18V9a2.25 2.25 0 0 0-2.25-2.25h-5.379a1.5 1.5 0 0 1-1.06-.44Z"})})}function u(){return(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.504 11.625 12 14.121l2.496-2.496M12 14.121V3m9 9.004V15m0 0v1.5a2.25 2.25 0 0 1-2.25 2.25H5.25A2.25 2.25 0 0 1 3 17.25V15m0 0v-2.996m0 0V3a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 3v9.004Z"})})}function m(){return(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.34 15.84c-.688-.06-1.386-.09-2.09-.09H7.5a4.5 4.5 0 1 1 0-9h.75c.704 0 1.402-.03 2.09-.09m0 9.18c.253.962.584 1.892.985 2.783.247.55.06 1.21-.463 1.511l-.657.38c-.551.318-1.26.117-1.527-.461a20.845 20.845 0 0 1-1.44-4.282m3.102.069a18.03 18.03 0 0 1-.59-4.59c0-1.586.205-3.124.59-4.59m0 9.18a23.848 23.848 0 0 1 8.835 2.535M10.34 6.66a23.847 23.847 0 0 0 8.835-2.535m0 0A23.74 23.74 0 0 0 18.795 3m.38 1.125a23.91 23.91 0 0 1 1.014 5.795 23.91 23.91 0 0 1-1.014 5.795m0-11.59a23.877 23.877 0 0 1 4.498 5.795 23.877 23.877 0 0 1-4.498 5.795"})})}},9056:(e,t,r)=>{r.d(t,{A:()=>n});var s=r(5155),o=r(2115);function n(e){let{onSelect:t}=e,[r,n]=(0,o.useState)([]),[i,d]=(0,o.useState)(!0),[c,h]=(0,o.useState)(null),[x,u]=(0,o.useState)(""),[m,w]=(0,o.useState)(null);(0,o.useEffect)(()=>{(async()=>{try{let e=await fetch("/api/github/repos"),t=await e.json();t.success?n(t.data):h(t.error||"Failed to fetch repositories")}catch(e){h("Failed to connect to GitHub API")}finally{d(!1)}})()},[]);let v=r.filter(e=>e.name.toLowerCase().includes(x.toLowerCase()));return i?(0,s.jsx)("div",{className:"flex items-center justify-center p-12",children:(0,s.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"})}):c?(0,s.jsxs)("div",{className:"p-8 text-center text-red-400 text-sm bg-red-500/5 rounded-xl border border-red-500/10",children:[c,(0,s.jsx)("button",{onClick:()=>window.location.reload(),className:"block mx-auto mt-4 text-white hover:underline",children:"Try again"})]}):(0,s.jsxs)("div",{className:"bg-[#111] border border-white/10 rounded-xl overflow-hidden",children:[(0,s.jsx)("div",{className:"p-4 border-b border-white/10",children:(0,s.jsx)("input",{type:"text",placeholder:"Search repositories...",value:x,onChange:e=>u(e.target.value),className:"w-full bg-[#050505] border border-white/10 rounded-lg px-4 py-2 text-sm text-white focus:outline-none focus:border-blue-500 transition-colors"})}),(0,s.jsxs)("div",{className:"max-h-[300px] overflow-y-auto",children:[v.map(e=>(0,s.jsxs)("button",{onClick:()=>{var r,s;return r=e.id,s=e.html_url.split("github.com/")[1],void(w(r),t(s))},className:"w-full flex items-center justify-between p-4 hover:bg-white/5 transition-colors border-l-4 ".concat(m===e.id?"bg-white/5 border-blue-500":"border-transparent"),children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)(a,{isPrivate:e.private}),(0,s.jsxs)("div",{className:"text-left",children:[(0,s.jsx)("div",{className:"font-medium text-white",children:e.name}),(0,s.jsxs)("div",{className:"text-xs text-gray-500",children:["Updated ",e.updated]})]})]}),m===e.id&&(0,s.jsx)(l,{})]},e.id)),0===v.length&&(0,s.jsx)("div",{className:"p-8 text-center text-gray-500 text-sm",children:"No repositories found."})]})]})}function a(e){let{isPrivate:t}=e;return t?(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-5 h-5 text-yellow-500/80",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M12 1.5a5.25 5.25 0 0 0-5.25 5.25v3a3 3 0 0 0-3 3v6.75a3 3 0 0 0 3 3h10.5a3 3 0 0 0 3-3v-6.75a3 3 0 0 0-3-3v-3c0-2.9-2.35-5.25-5.25-5.25Zm3.75 8.25v-3a3.75 3.75 0 1 0-7.5 0v3h7.5Z",clipRule:"evenodd"})}):(0,s.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-5 h-5 text-gray-400",children:[(0,s.jsx)("path",{fillRule:"evenodd",d:"M2.25 13.5a8.25 8.25 0 0 1 8.25-8.25.75.75 0 0 1 .75.75v6.75H18a.75.75 0 0 1 .75.75 8.25 8.25 0 0 1-16.5 0Z",clipRule:"evenodd"}),(0,s.jsx)("path",{fillRule:"evenodd",d:"M12.75 3a.75.75 0 0 1 .75-.75 8.25 8.25 0 0 1 8.25 8.25.75.75 0 0 1-.75.75h-7.5a.75.75 0 0 1-.75-.75V3Z",clipRule:"evenodd"})]})}function l(){return(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-5 h-5 text-blue-500",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"})})}},9936:(e,t,r)=>{r.d(t,{A:()=>a});var s=r(5155),o=r(5229),n=r(9056);function a(e){let{onProjectCreated:t,onClose:r}=e,a=async e=>{try{let r=await fetch("/api/projects/sync",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({repoFullName:e})}),s=await r.json();s.success?(console.log("Project created/synced:",s.data.project.id),t(),window.location.href="/dashboard/projects/".concat(s.data.project.id)):alert(s.error||"Failed to sync project")}catch(e){console.error("Failed to sync repo:",e),alert("Failed to connect to sync API")}finally{r()}};return(0,s.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:r}),(0,s.jsxs)("div",{className:"relative w-full max-w-xl bg-[#0a0a0a] border border-white/10 rounded-2xl shadow-2xl overflow-hidden animate-in fade-in zoom-in duration-200",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-white/5",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-xl font-bold text-white",children:"Select Repository"}),(0,s.jsx)("p",{className:"text-sm text-gray-400 mt-1",children:"Choose a GitHub repository to start your estimation"})]}),(0,s.jsx)("button",{onClick:r,className:"p-2 hover:bg-white/5 rounded-full text-gray-400 hover:text-white transition-colors",children:(0,s.jsx)(o.A,{className:"w-5 h-5"})})]}),(0,s.jsx)("div",{className:"p-6",children:(0,s.jsx)(n.A,{onSelect:a})}),(0,s.jsx)("div",{className:"p-6 bg-white/5 border-t border-white/5 flex justify-end gap-3",children:(0,s.jsx)("button",{onClick:r,className:"px-4 py-2 text-sm font-medium text-gray-400 hover:text-white transition-colors",children:"Cancel"})})]})]})}}}]);