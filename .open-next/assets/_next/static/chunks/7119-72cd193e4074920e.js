"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7119],{4078:(e,t,r)=>{r.d(t,{A:()=>n});var s=r(5155),l=r(2619),o=r.n(l),a=r(63),i=r(6489);function n(){var e,t,r;let l=(0,a.usePathname)(),n=[{href:"/dashboard",label:"Overview",icon:(0,s.jsx)(c,{})},{href:"/estimate/new",label:"New Estimation",icon:(0,s.jsx)(h,{})},{href:"/dashboard/projects",label:"My Projects",icon:(0,s.jsx)(u,{})}],{data:x}=(0,i.useSession)();return(0,s.jsxs)("aside",{className:"w-64 border-r border-white/10 bg-black text-white flex flex-col h-screen fixed left-0 top-0 overflow-y-auto",children:[(0,s.jsx)("div",{className:"p-6 border-b border-white/10 flex items-center gap-2",children:(0,s.jsxs)(o(),{href:"/",className:"flex items-center gap-2",children:[(0,s.jsx)("div",{className:"w-8 h-8 rounded-full bg-white/10 flex items-center justify-center font-bold text-white",children:"AI"}),(0,s.jsx)("span",{className:"font-semibold text-lg",children:"AI Estimation"})]})}),(0,s.jsx)("nav",{className:"flex-1 p-4 space-y-2",children:n.map(e=>{let t=l===e.href;return(0,s.jsxs)(o(),{href:e.href,className:"flex items-center gap-3 px-4 py-3 rounded-lg text-sm font-medium transition-colors ".concat(t?"bg-white/10 text-white":"text-gray-400 hover:bg-white/5 hover:text-white"),children:[e.icon,e.label]},e.href)})}),(0,s.jsxs)("div",{className:"p-4 border-t border-white/10 space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 px-4 py-2 group cursor-default",children:[(null==x||null==(e=x.user)?void 0:e.image)?(0,s.jsx)("img",{src:x.user.image,alt:x.user.name||"User",className:"w-10 h-10 rounded-full border border-white/10 group-hover:scale-105 transition-transform duration-300 shadow-lg shadow-white/5"}):(0,s.jsx)("div",{className:"w-10 h-10 rounded-full bg-gradient-to-tr from-blue-500 to-purple-500 group-hover:scale-105 transition-transform duration-300"}),(0,s.jsxs)("div",{className:"overflow-hidden",children:[(0,s.jsx)("div",{className:"font-medium text-sm truncate text-white/90 group-hover:text-white transition-colors",children:(null==x||null==(t=x.user)?void 0:t.name)||"User Name"}),(0,s.jsx)("div",{className:"text-[11px] text-gray-500 truncate",children:(null==x||null==(r=x.user)?void 0:r.email)||"user@example.com"})]})]}),(0,s.jsxs)("button",{onClick:()=>(0,i.signOut)({callbackUrl:"/"}),className:"flex items-center gap-3 w-full px-4 py-3 rounded-xl text-sm font-medium text-red-400/80 hover:text-red-400 hover:bg-red-400/5 transition-all border border-transparent hover:border-red-400/10",children:[(0,s.jsx)(d,{}),"Sign Out"]})]})]})}function d(){return(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15M12 9l-3 3m0 0 3 3m-3-3h12.75"})})}function c(){return(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"})})}function h(){return(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})})}function u(){return(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 12.75V12A2.25 2.25 0 0 1 4.5 9.75h15A2.25 2.25 0 0 1 21.75 12v.75m-8.69-6.44-2.12-2.12a1.5 1.5 0 0 0-1.061-.44H4.5A2.25 2.25 0 0 0 2.25 6v12a2.25 2.25 0 0 0 2.25 2.25h15A2.25 2.25 0 0 0 21.75 18V9a2.25 2.25 0 0 0-2.25-2.25h-5.379a1.5 1.5 0 0 1-1.06-.44Z"})})}},9056:(e,t,r)=>{r.d(t,{A:()=>o});var s=r(5155),l=r(2115);function o(e){let{onSelect:t}=e,[r,o]=(0,l.useState)([]),[n,d]=(0,l.useState)(!0),[c,h]=(0,l.useState)(null),[u,x]=(0,l.useState)(""),[m,w]=(0,l.useState)(null),[p,b]=(0,l.useState)("select"),[v,f]=(0,l.useState)(""),[g,j]=(0,l.useState)(!0),[N,y]=(0,l.useState)(!1),k=async()=>{if(v){y(!0);try{let e=await fetch("/api/github/repos/create",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({repoName:v,isPrivate:g,description:"Project repository for ".concat(v)})}),r=await e.json();r.success?t(r.data.repoUrl.split("github.com/")[1]):alert(r.error||"Failed to create repository")}catch(e){alert("Error creating repository")}finally{y(!1)}}};(0,l.useEffect)(()=>{(async()=>{try{let e=await fetch("/api/github/repos"),t=await e.json();t.success?o(t.data):h(t.error||"Failed to fetch repositories")}catch(e){h("Failed to connect to GitHub API")}finally{d(!1)}})()},[]);let C=r.filter(e=>e.name.toLowerCase().includes(u.toLowerCase()));return n?(0,s.jsx)("div",{className:"flex items-center justify-center p-12",children:(0,s.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"})}):c?(0,s.jsxs)("div",{className:"p-8 text-center text-red-400 text-sm bg-red-500/5 rounded-xl border border-red-500/10",children:[c,(0,s.jsx)("button",{onClick:()=>window.location.reload(),className:"block mx-auto mt-4 text-white hover:underline",children:"Try again"})]}):(0,s.jsxs)("div",{className:"bg-[#111] border border-white/10 rounded-xl overflow-hidden",children:[(0,s.jsxs)("div",{className:"flex border-b border-white/10 bg-white/5 p-1 gap-1",children:[(0,s.jsx)("button",{onClick:()=>b("select"),className:"flex-1 py-2 text-xs font-bold rounded-lg transition-all ".concat("select"===p?"bg-blue-600 text-white shadow-lg":"text-gray-500 hover:text-gray-300 hover:bg-white/5"),children:"SELECT REPO"}),(0,s.jsx)("button",{onClick:()=>b("create"),className:"flex-1 py-2 text-xs font-bold rounded-lg transition-all ".concat("create"===p?"bg-blue-600 text-white shadow-lg":"text-gray-500 hover:text-gray-300 hover:bg-white/5"),children:"CREATE NEW"})]}),"select"===p?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"p-4 border-b border-white/10",children:(0,s.jsx)("input",{type:"text",placeholder:"Search repositories...",value:u,onChange:e=>x(e.target.value),className:"w-full bg-[#050505] border border-white/10 rounded-lg px-4 py-2 text-sm text-white focus:outline-none focus:border-blue-500 transition-colors"})}),(0,s.jsxs)("div",{className:"max-h-[300px] overflow-y-auto",children:[C.map(e=>(0,s.jsxs)("button",{onClick:()=>{var r,s;return r=e.id,s=e.html_url.split("github.com/")[1],void(w(r),t(s))},className:"w-full flex items-center justify-between p-4 hover:bg-white/5 transition-colors border-l-4 ".concat(m===e.id?"bg-white/5 border-blue-500":"border-transparent"),children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)(a,{isPrivate:e.private}),(0,s.jsxs)("div",{className:"text-left",children:[(0,s.jsx)("div",{className:"font-medium text-white text-sm",children:e.name}),(0,s.jsxs)("div",{className:"text-xs text-gray-500",children:["Updated ",e.updated]})]})]}),m===e.id&&(0,s.jsx)(i,{})]},e.id)),0===C.length&&(0,s.jsx)("div",{className:"p-8 text-center text-gray-500 text-sm",children:"No repositories found."})]})]}):(0,s.jsxs)("div",{className:"p-6 space-y-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Repo Name"}),(0,s.jsx)("input",{type:"text",placeholder:"e.g. my-awesome-project",value:v,onChange:e=>f(e.target.value),className:"w-full bg-[#050505] border border-white/10 rounded-lg px-4 py-3 text-sm text-white focus:outline-none focus:border-blue-500 transition-colors"})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between p-4 bg-white/5 rounded-xl border border-white/10",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-sm font-medium text-white",children:"Private Repository"}),(0,s.jsx)("div",{className:"text-xs text-gray-500",children:"Only you and authorized users can see this repo"})]}),(0,s.jsx)("button",{onClick:()=>j(!g),className:"w-12 h-6 rounded-full transition-colors relative ".concat(g?"bg-blue-600":"bg-gray-700"),children:(0,s.jsx)("div",{className:"absolute top-1 w-4 h-4 rounded-full bg-white transition-all ".concat(g?"right-1":"left-1")})})]}),(0,s.jsx)("button",{onClick:k,disabled:N||!v,className:"w-full py-3 bg-blue-600 hover:bg-blue-500 disabled:opacity-50 disabled:cursor-not-allowed text-white rounded-xl text-sm font-bold transition-all shadow-lg shadow-blue-900/40",children:N?(0,s.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,s.jsx)("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Initializing..."]}):"Create & Connect Repository"})]})]})}function a(e){let{isPrivate:t}=e;return t?(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-5 h-5 text-yellow-500/80",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M12 1.5a5.25 5.25 0 0 0-5.25 5.25v3a3 3 0 0 0-3 3v6.75a3 3 0 0 0 3 3h10.5a3 3 0 0 0 3-3v-6.75a3 3 0 0 0-3-3v-3c0-2.9-2.35-5.25-5.25-5.25Zm3.75 8.25v-3a3.75 3.75 0 1 0-7.5 0v3h7.5Z",clipRule:"evenodd"})}):(0,s.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-5 h-5 text-gray-400",children:[(0,s.jsx)("path",{fillRule:"evenodd",d:"M2.25 13.5a8.25 8.25 0 0 1 8.25-8.25.75.75 0 0 1 .75.75v6.75H18a.75.75 0 0 1 .75.75 8.25 8.25 0 0 1-16.5 0Z",clipRule:"evenodd"}),(0,s.jsx)("path",{fillRule:"evenodd",d:"M12.75 3a.75.75 0 0 1 .75-.75 8.25 8.25 0 0 1 8.25 8.25.75.75 0 0 1-.75.75h-7.5a.75.75 0 0 1-.75-.75V3Z",clipRule:"evenodd"})]})}function i(){return(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-5 h-5 text-blue-500",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"})})}}}]);